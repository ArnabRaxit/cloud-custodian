

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>c7n package &mdash; Cloud Custodian  documentation</title>
  

  
  
    <link rel="shortcut icon" href="../../_static/c1_labs.ico"/>
  
  
  

  
  <script type="text/javascript" src="../../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../../_static/jquery.js"></script>
        <script type="text/javascript" src="../../_static/underscore.js"></script>
        <script type="text/javascript" src="../../_static/doctools.js"></script>
        <script type="text/javascript" src="../../_static/language_data.js"></script>
        <script type="text/javascript" src="../../_static/js/expand.js"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/css/expand.css" type="text/css" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="c7n.actions package" href="c7n.actions.html" />
    <link rel="prev" title="AWS" href="modules.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../index.html" class="icon icon-home"> Cloud Custodian
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Introduction</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../overview/index.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../quickstart/index.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../quickstart/usage.html">Monitoring your environment</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../quickstart/advanced.html">Advanced Usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../quickstart/policyStructure.html">Example tag compliance policy</a></li>
</ul>
<p class="caption"><span class="caption-text">Examples</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../usecases/index.html">Use Cases</a></li>
</ul>
<p class="caption"><span class="caption-text">Azure</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../azure/gettingstarted.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../azure/authentication.html">Authentication</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../azure/authentication.html#azure-storage-access">Azure Storage access</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../azure/examples/index.html">Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../azure/policy/index.html">Policies</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../azure/advanced/index.html">Advanced Usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../azure/contribute.html">Developer Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../azure/contribute.html#adding-new-azure-resources">Adding New Azure Resources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../azure/contribute.html#testing">Testing</a></li>
</ul>
<p class="caption"><span class="caption-text">Working with AWS Lambda</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../policy/lambda.html">Lambda Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../policy/mu.html">Mu - Lambda Lifecycle Management</a></li>
</ul>
<p class="caption"><span class="caption-text">Policies reference</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../policy/index.html">Resource-Specific Filters and Actions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../filters.html">Generic Filters</a></li>
</ul>
<p class="caption"><span class="caption-text">Contributing</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../contribute.html">Contributing to Cloud Custodian</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../developer/index.html">Developer Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../developer/installing.html">Installing for Developers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../developer/tests.html">Testing for Developers</a></li>
</ul>
<p class="caption"><span class="caption-text">API Reference</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="modules.html">AWS</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">c7n package</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#subpackages">Subpackages</a><ul>
<li class="toctree-l4"><a class="reference internal" href="c7n.actions.html">c7n.actions package</a></li>
<li class="toctree-l4"><a class="reference internal" href="c7n.filters.html">c7n.filters package</a></li>
<li class="toctree-l4"><a class="reference internal" href="c7n.reports.html">c7n.reports package</a></li>
<li class="toctree-l4"><a class="reference internal" href="c7n.resources.html">c7n.resources package</a></li>
<li class="toctree-l4"><a class="reference internal" href="c7n.ufuncs.html">c7n.ufuncs package</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#submodules">Submodules</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-c7n.cache">c7n.cache module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-c7n.cli">c7n.cli module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-c7n.commands">c7n.commands module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-c7n.config">c7n.config module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-c7n.credentials">c7n.credentials module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-c7n.ctx">c7n.ctx module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-c7n.cwe">c7n.cwe module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-c7n.exceptions">c7n.exceptions module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-c7n.executor">c7n.executor module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-c7n.handler">c7n.handler module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-c7n.log">c7n.log module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-c7n.logs_support">c7n.logs_support module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-c7n.manager">c7n.manager module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-c7n.mu">c7n.mu module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-c7n.output">c7n.output module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-c7n.policy">c7n.policy module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-c7n.provider">c7n.provider module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-c7n.query">c7n.query module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-c7n.registry">c7n.registry module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-c7n.resolver">c7n.resolver module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-c7n.schema">c7n.schema module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-c7n.sqsexec">c7n.sqsexec module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-c7n.tags">c7n.tags module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-c7n.testing">c7n.testing module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-c7n.utils">c7n.utils module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-c7n.version">c7n.version module</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-c7n">Module contents</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../azure/modules.html">Azure</a></li>
<li class="toctree-l1"><a class="reference internal" href="../gcp/modules.html">GCP</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">Cloud Custodian</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="modules.html">AWS</a> &raquo;</li>
        
      <li>c7n package</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="c7n-package">
<h1>c7n package<a class="headerlink" href="#c7n-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="subpackages">
<h2>Subpackages<a class="headerlink" href="#subpackages" title="Permalink to this headline">¶</a></h2>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="c7n.actions.html">c7n.actions package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="c7n.actions.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="c7n.actions.html#module-c7n.actions.autotag">c7n.actions.autotag module</a></li>
<li class="toctree-l2"><a class="reference internal" href="c7n.actions.html#module-c7n.actions.core">c7n.actions.core module</a></li>
<li class="toctree-l2"><a class="reference internal" href="c7n.actions.html#module-c7n.actions.invoke">c7n.actions.invoke module</a></li>
<li class="toctree-l2"><a class="reference internal" href="c7n.actions.html#module-c7n.actions.metric">c7n.actions.metric module</a></li>
<li class="toctree-l2"><a class="reference internal" href="c7n.actions.html#module-c7n.actions.network">c7n.actions.network module</a></li>
<li class="toctree-l2"><a class="reference internal" href="c7n.actions.html#module-c7n.actions.notify">c7n.actions.notify module</a></li>
<li class="toctree-l2"><a class="reference internal" href="c7n.actions.html#module-c7n.actions.policy">c7n.actions.policy module</a></li>
<li class="toctree-l2"><a class="reference internal" href="c7n.actions.html#module-c7n.actions.securityhub">c7n.actions.securityhub module</a></li>
<li class="toctree-l2"><a class="reference internal" href="c7n.actions.html#module-c7n.actions">Module contents</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="c7n.filters.html">c7n.filters package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="c7n.filters.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="c7n.filters.html#module-c7n.filters.config">c7n.filters.config module</a></li>
<li class="toctree-l2"><a class="reference internal" href="c7n.filters.html#module-c7n.filters.core">c7n.filters.core module</a></li>
<li class="toctree-l2"><a class="reference internal" href="c7n.filters.html#module-c7n.filters.health">c7n.filters.health module</a></li>
<li class="toctree-l2"><a class="reference internal" href="c7n.filters.html#module-c7n.filters.iamaccess">c7n.filters.iamaccess module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="c7n.filters.html#iam-resource-policy-checker">IAM Resource Policy Checker</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="c7n.filters.html#module-c7n.filters.kms">c7n.filters.kms module</a></li>
<li class="toctree-l2"><a class="reference internal" href="c7n.filters.html#module-c7n.filters.locked">c7n.filters.locked module</a></li>
<li class="toctree-l2"><a class="reference internal" href="c7n.filters.html#module-c7n.filters.metrics">c7n.filters.metrics module</a></li>
<li class="toctree-l2"><a class="reference internal" href="c7n.filters.html#module-c7n.filters.missing">c7n.filters.missing module</a></li>
<li class="toctree-l2"><a class="reference internal" href="c7n.filters.html#module-c7n.filters.multiattr">c7n.filters.multiattr module</a></li>
<li class="toctree-l2"><a class="reference internal" href="c7n.filters.html#module-c7n.filters.offhours">c7n.filters.offhours module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="c7n.filters.html#resource-scheduling-offhours">Resource Scheduling Offhours</a></li>
<li class="toctree-l3"><a class="reference internal" href="c7n.filters.html#features">Features</a></li>
<li class="toctree-l3"><a class="reference internal" href="c7n.filters.html#policy-configuration">Policy Configuration</a></li>
<li class="toctree-l3"><a class="reference internal" href="c7n.filters.html#tag-based-configuration">Tag Based Configuration</a><ul>
<li class="toctree-l4"><a class="reference internal" href="c7n.filters.html#scheduleparser-time-specifications">ScheduleParser Time Specifications</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="c7n.filters.html#policy-examples">Policy examples</a></li>
<li class="toctree-l3"><a class="reference internal" href="c7n.filters.html#resume-during-offhours">Resume During Offhours</a></li>
<li class="toctree-l3"><a class="reference internal" href="c7n.filters.html#elasticbeanstalk-efs-and-other-services-with-tag-value-restrictions">ElasticBeanstalk, EFS and Other Services with Tag Value Restrictions</a></li>
<li class="toctree-l3"><a class="reference internal" href="c7n.filters.html#public-holidays">Public Holidays</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="c7n.filters.html#module-c7n.filters.related">c7n.filters.related module</a></li>
<li class="toctree-l2"><a class="reference internal" href="c7n.filters.html#module-c7n.filters.revisions">c7n.filters.revisions module</a></li>
<li class="toctree-l2"><a class="reference internal" href="c7n.filters.html#module-c7n.filters.securityhub">c7n.filters.securityhub module</a></li>
<li class="toctree-l2"><a class="reference internal" href="c7n.filters.html#module-c7n.filters.vpc">c7n.filters.vpc module</a></li>
<li class="toctree-l2"><a class="reference internal" href="c7n.filters.html#module-c7n.filters">Module contents</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="c7n.reports.html">c7n.reports package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="c7n.reports.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="c7n.reports.html#module-c7n.reports.csvout">c7n.reports.csvout module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="c7n.reports.html#reporting-tools">Reporting Tools</a><ul>
<li class="toctree-l4"><a class="reference internal" href="c7n.reports.html#cli-usage">CLI Usage</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="c7n.reports.html#module-c7n.reports">Module contents</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="c7n.resources.html">c7n.resources package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="c7n.resources.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="c7n.resources.html#module-c7n.resources.account">c7n.resources.account module</a></li>
<li class="toctree-l2"><a class="reference internal" href="c7n.resources.html#module-c7n.resources.acm">c7n.resources.acm module</a></li>
<li class="toctree-l2"><a class="reference internal" href="c7n.resources.html#module-c7n.resources.ami">c7n.resources.ami module</a></li>
<li class="toctree-l2"><a class="reference internal" href="c7n.resources.html#module-c7n.resources.apigw">c7n.resources.apigw module</a></li>
<li class="toctree-l2"><a class="reference internal" href="c7n.resources.html#module-c7n.resources.appelb">c7n.resources.appelb module</a></li>
<li class="toctree-l2"><a class="reference internal" href="c7n.resources.html#module-c7n.resources.asg">c7n.resources.asg module</a></li>
<li class="toctree-l2"><a class="reference internal" href="c7n.resources.html#module-c7n.resources.aws">c7n.resources.aws module</a></li>
<li class="toctree-l2"><a class="reference internal" href="c7n.resources.html#module-c7n.resources.awslambda">c7n.resources.awslambda module</a></li>
<li class="toctree-l2"><a class="reference internal" href="c7n.resources.html#module-c7n.resources.backup">c7n.resources.backup module</a></li>
<li class="toctree-l2"><a class="reference internal" href="c7n.resources.html#module-c7n.resources.batch">c7n.resources.batch module</a></li>
<li class="toctree-l2"><a class="reference internal" href="c7n.resources.html#module-c7n.resources.cfn">c7n.resources.cfn module</a></li>
<li class="toctree-l2"><a class="reference internal" href="c7n.resources.html#module-c7n.resources.cloudfront">c7n.resources.cloudfront module</a></li>
<li class="toctree-l2"><a class="reference internal" href="c7n.resources.html#module-c7n.resources.cloudsearch">c7n.resources.cloudsearch module</a></li>
<li class="toctree-l2"><a class="reference internal" href="c7n.resources.html#module-c7n.resources.cloudtrail">c7n.resources.cloudtrail module</a></li>
<li class="toctree-l2"><a class="reference internal" href="c7n.resources.html#module-c7n.resources.code">c7n.resources.code module</a></li>
<li class="toctree-l2"><a class="reference internal" href="c7n.resources.html#module-c7n.resources.cognito">c7n.resources.cognito module</a></li>
<li class="toctree-l2"><a class="reference internal" href="c7n.resources.html#module-c7n.resources.config">c7n.resources.config module</a></li>
<li class="toctree-l2"><a class="reference internal" href="c7n.resources.html#module-c7n.resources.cw">c7n.resources.cw module</a></li>
<li class="toctree-l2"><a class="reference internal" href="c7n.resources.html#module-c7n.resources.datapipeline">c7n.resources.datapipeline module</a></li>
<li class="toctree-l2"><a class="reference internal" href="c7n.resources.html#module-c7n.resources.directconnect">c7n.resources.directconnect module</a></li>
<li class="toctree-l2"><a class="reference internal" href="c7n.resources.html#module-c7n.resources.directory">c7n.resources.directory module</a></li>
<li class="toctree-l2"><a class="reference internal" href="c7n.resources.html#module-c7n.resources.dlm">c7n.resources.dlm module</a></li>
<li class="toctree-l2"><a class="reference internal" href="c7n.resources.html#module-c7n.resources.dms">c7n.resources.dms module</a></li>
<li class="toctree-l2"><a class="reference internal" href="c7n.resources.html#module-c7n.resources.dynamodb">c7n.resources.dynamodb module</a></li>
<li class="toctree-l2"><a class="reference internal" href="c7n.resources.html#module-c7n.resources.ebs">c7n.resources.ebs module</a></li>
<li class="toctree-l2"><a class="reference internal" href="c7n.resources.html#module-c7n.resources.ec2">c7n.resources.ec2 module</a></li>
<li class="toctree-l2"><a class="reference internal" href="c7n.resources.html#module-c7n.resources.ecr">c7n.resources.ecr module</a></li>
<li class="toctree-l2"><a class="reference internal" href="c7n.resources.html#module-c7n.resources.ecs">c7n.resources.ecs module</a></li>
<li class="toctree-l2"><a class="reference internal" href="c7n.resources.html#module-c7n.resources.efs">c7n.resources.efs module</a></li>
<li class="toctree-l2"><a class="reference internal" href="c7n.resources.html#module-c7n.resources.eks">c7n.resources.eks module</a></li>
<li class="toctree-l2"><a class="reference internal" href="c7n.resources.html#module-c7n.resources.elasticache">c7n.resources.elasticache module</a></li>
<li class="toctree-l2"><a class="reference internal" href="c7n.resources.html#module-c7n.resources.elasticbeanstalk">c7n.resources.elasticbeanstalk module</a></li>
<li class="toctree-l2"><a class="reference internal" href="c7n.resources.html#module-c7n.resources.elasticsearch">c7n.resources.elasticsearch module</a></li>
<li class="toctree-l2"><a class="reference internal" href="c7n.resources.html#module-c7n.resources.elb">c7n.resources.elb module</a></li>
<li class="toctree-l2"><a class="reference internal" href="c7n.resources.html#module-c7n.resources.emr">c7n.resources.emr module</a></li>
<li class="toctree-l2"><a class="reference internal" href="c7n.resources.html#module-c7n.resources.fsx">c7n.resources.fsx module</a></li>
<li class="toctree-l2"><a class="reference internal" href="c7n.resources.html#module-c7n.resources.gamelift">c7n.resources.gamelift module</a></li>
<li class="toctree-l2"><a class="reference internal" href="c7n.resources.html#module-c7n.resources.glacier">c7n.resources.glacier module</a></li>
<li class="toctree-l2"><a class="reference internal" href="c7n.resources.html#module-c7n.resources.glue">c7n.resources.glue module</a></li>
<li class="toctree-l2"><a class="reference internal" href="c7n.resources.html#module-c7n.resources.health">c7n.resources.health module</a></li>
<li class="toctree-l2"><a class="reference internal" href="c7n.resources.html#module-c7n.resources.hsm">c7n.resources.hsm module</a></li>
<li class="toctree-l2"><a class="reference internal" href="c7n.resources.html#module-c7n.resources.iam">c7n.resources.iam module</a></li>
<li class="toctree-l2"><a class="reference internal" href="c7n.resources.html#module-c7n.resources.iot">c7n.resources.iot module</a></li>
<li class="toctree-l2"><a class="reference internal" href="c7n.resources.html#module-c7n.resources.kafka">c7n.resources.kafka module</a></li>
<li class="toctree-l2"><a class="reference internal" href="c7n.resources.html#module-c7n.resources.kinesis">c7n.resources.kinesis module</a></li>
<li class="toctree-l2"><a class="reference internal" href="c7n.resources.html#module-c7n.resources.kms">c7n.resources.kms module</a></li>
<li class="toctree-l2"><a class="reference internal" href="c7n.resources.html#module-c7n.resources.lightsail">c7n.resources.lightsail module</a></li>
<li class="toctree-l2"><a class="reference internal" href="c7n.resources.html#module-c7n.resources.ml">c7n.resources.ml module</a></li>
<li class="toctree-l2"><a class="reference internal" href="c7n.resources.html#module-c7n.resources.mq">c7n.resources.mq module</a></li>
<li class="toctree-l2"><a class="reference internal" href="c7n.resources.html#module-c7n.resources.opsworks">c7n.resources.opsworks module</a></li>
<li class="toctree-l2"><a class="reference internal" href="c7n.resources.html#module-c7n.resources.rds">c7n.resources.rds module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="c7n.resources.html#rds-resource-manager">RDS Resource Manager</a><ul>
<li class="toctree-l4"><a class="reference internal" href="c7n.resources.html#example-policies">Example Policies</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="c7n.resources.html#module-c7n.resources.rdscluster">c7n.resources.rdscluster module</a></li>
<li class="toctree-l2"><a class="reference internal" href="c7n.resources.html#module-c7n.resources.rdsparamgroup">c7n.resources.rdsparamgroup module</a></li>
<li class="toctree-l2"><a class="reference internal" href="c7n.resources.html#module-c7n.resources.redshift">c7n.resources.redshift module</a></li>
<li class="toctree-l2"><a class="reference internal" href="c7n.resources.html#module-c7n.resources.route53">c7n.resources.route53 module</a></li>
<li class="toctree-l2"><a class="reference internal" href="c7n.resources.html#module-c7n.resources.s3">c7n.resources.s3 module</a></li>
<li class="toctree-l2"><a class="reference internal" href="c7n.resources.html#module-c7n.resources.sagemaker">c7n.resources.sagemaker module</a></li>
<li class="toctree-l2"><a class="reference internal" href="c7n.resources.html#module-c7n.resources.secretsmanager">c7n.resources.secretsmanager module</a></li>
<li class="toctree-l2"><a class="reference internal" href="c7n.resources.html#module-c7n.resources.sfn">c7n.resources.sfn module</a></li>
<li class="toctree-l2"><a class="reference internal" href="c7n.resources.html#module-c7n.resources.shield">c7n.resources.shield module</a></li>
<li class="toctree-l2"><a class="reference internal" href="c7n.resources.html#module-c7n.resources.simpledb">c7n.resources.simpledb module</a></li>
<li class="toctree-l2"><a class="reference internal" href="c7n.resources.html#module-c7n.resources.snowball">c7n.resources.snowball module</a></li>
<li class="toctree-l2"><a class="reference internal" href="c7n.resources.html#module-c7n.resources.sns">c7n.resources.sns module</a></li>
<li class="toctree-l2"><a class="reference internal" href="c7n.resources.html#module-c7n.resources.sqs">c7n.resources.sqs module</a></li>
<li class="toctree-l2"><a class="reference internal" href="c7n.resources.html#module-c7n.resources.ssm">c7n.resources.ssm module</a></li>
<li class="toctree-l2"><a class="reference internal" href="c7n.resources.html#module-c7n.resources.storagegw">c7n.resources.storagegw module</a></li>
<li class="toctree-l2"><a class="reference internal" href="c7n.resources.html#module-c7n.resources.support">c7n.resources.support module</a></li>
<li class="toctree-l2"><a class="reference internal" href="c7n.resources.html#module-c7n.resources.vpc">c7n.resources.vpc module</a></li>
<li class="toctree-l2"><a class="reference internal" href="c7n.resources.html#module-c7n.resources.waf">c7n.resources.waf module</a></li>
<li class="toctree-l2"><a class="reference internal" href="c7n.resources.html#module-c7n.resources.workspaces">c7n.resources.workspaces module</a></li>
<li class="toctree-l2"><a class="reference internal" href="c7n.resources.html#module-c7n.resources">Module contents</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="c7n.ufuncs.html">c7n.ufuncs package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="c7n.ufuncs.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="c7n.ufuncs.html#module-c7n.ufuncs.logsub">c7n.ufuncs.logsub module</a></li>
<li class="toctree-l2"><a class="reference internal" href="c7n.ufuncs.html#module-c7n.ufuncs.s3crypt">c7n.ufuncs.s3crypt module</a></li>
<li class="toctree-l2"><a class="reference internal" href="c7n.ufuncs.html#module-c7n.ufuncs">Module contents</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-c7n.cache">
<span id="c7n-cache-module"></span><h2>c7n.cache module<a class="headerlink" href="#module-c7n.cache" title="Permalink to this headline">¶</a></h2>
<p>Provide basic caching services to avoid extraneous queries over
multiple policies on the same resource type.</p>
<dl class="class">
<dt id="c7n.cache.FileCacheManager">
<em class="property">class </em><code class="descclassname">c7n.cache.</code><code class="descname">FileCacheManager</code><span class="sig-paren">(</span><em>config</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/cache.html#FileCacheManager"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.cache.FileCacheManager" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="method">
<dt id="c7n.cache.FileCacheManager.get">
<code class="descname">get</code><span class="sig-paren">(</span><em>key</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/cache.html#FileCacheManager.get"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.cache.FileCacheManager.get" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="c7n.cache.FileCacheManager.load">
<code class="descname">load</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/cache.html#FileCacheManager.load"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.cache.FileCacheManager.load" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="c7n.cache.FileCacheManager.save">
<code class="descname">save</code><span class="sig-paren">(</span><em>key</em>, <em>data</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/cache.html#FileCacheManager.save"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.cache.FileCacheManager.save" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="c7n.cache.FileCacheManager.size">
<code class="descname">size</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/cache.html#FileCacheManager.size"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.cache.FileCacheManager.size" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="c7n.cache.InMemoryCache">
<em class="property">class </em><code class="descclassname">c7n.cache.</code><code class="descname">InMemoryCache</code><a class="reference internal" href="../../_modules/c7n/cache.html#InMemoryCache"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.cache.InMemoryCache" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="method">
<dt id="c7n.cache.InMemoryCache.get">
<code class="descname">get</code><span class="sig-paren">(</span><em>key</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/cache.html#InMemoryCache.get"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.cache.InMemoryCache.get" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="c7n.cache.InMemoryCache.load">
<code class="descname">load</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/cache.html#InMemoryCache.load"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.cache.InMemoryCache.load" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="c7n.cache.InMemoryCache.save">
<code class="descname">save</code><span class="sig-paren">(</span><em>key</em>, <em>data</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/cache.html#InMemoryCache.save"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.cache.InMemoryCache.save" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="c7n.cache.InMemoryCache.size">
<code class="descname">size</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/cache.html#InMemoryCache.size"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.cache.InMemoryCache.size" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="c7n.cache.NullCache">
<em class="property">class </em><code class="descclassname">c7n.cache.</code><code class="descname">NullCache</code><span class="sig-paren">(</span><em>config</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/cache.html#NullCache"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.cache.NullCache" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="method">
<dt id="c7n.cache.NullCache.get">
<code class="descname">get</code><span class="sig-paren">(</span><em>key</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/cache.html#NullCache.get"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.cache.NullCache.get" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="c7n.cache.NullCache.load">
<code class="descname">load</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/cache.html#NullCache.load"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.cache.NullCache.load" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="c7n.cache.NullCache.save">
<code class="descname">save</code><span class="sig-paren">(</span><em>key</em>, <em>data</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/cache.html#NullCache.save"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.cache.NullCache.save" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="c7n.cache.NullCache.size">
<code class="descname">size</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/cache.html#NullCache.size"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.cache.NullCache.size" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="function">
<dt id="c7n.cache.factory">
<code class="descclassname">c7n.cache.</code><code class="descname">factory</code><span class="sig-paren">(</span><em>config</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/cache.html#factory"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.cache.factory" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-c7n.cli">
<span id="c7n-cli-module"></span><h2>c7n.cli module<a class="headerlink" href="#module-c7n.cli" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="c7n.cli.main">
<code class="descclassname">c7n.cli.</code><code class="descname">main</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/cli.html#main"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.cli.main" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="c7n.cli.setproctitle">
<code class="descclassname">c7n.cli.</code><code class="descname">setproctitle</code><span class="sig-paren">(</span><em>t</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/cli.html#setproctitle"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.cli.setproctitle" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="c7n.cli.setup_parser">
<code class="descclassname">c7n.cli.</code><code class="descname">setup_parser</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/cli.html#setup_parser"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.cli.setup_parser" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-c7n.commands">
<span id="c7n-commands-module"></span><h2>c7n.commands module<a class="headerlink" href="#module-c7n.commands" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="c7n.commands.DuplicateKeyCheckLoader">
<em class="property">class </em><code class="descclassname">c7n.commands.</code><code class="descname">DuplicateKeyCheckLoader</code><span class="sig-paren">(</span><em>stream</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/commands.html#DuplicateKeyCheckLoader"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.commands.DuplicateKeyCheckLoader" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">yaml.cyaml.CSafeLoader</span></code></p>
<dl class="method">
<dt id="c7n.commands.DuplicateKeyCheckLoader.construct_mapping">
<code class="descname">construct_mapping</code><span class="sig-paren">(</span><em>node</em>, <em>deep=False</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/commands.html#DuplicateKeyCheckLoader.construct_mapping"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.commands.DuplicateKeyCheckLoader.construct_mapping" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="function">
<dt id="c7n.commands.logs">
<code class="descclassname">c7n.commands.</code><code class="descname">logs</code><span class="sig-paren">(</span><em>options</em>, <em>policies</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/commands.html#logs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.commands.logs" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="c7n.commands.metrics_cmd">
<code class="descclassname">c7n.commands.</code><code class="descname">metrics_cmd</code><span class="sig-paren">(</span><em>options</em>, <em>policies</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/commands.html#metrics_cmd"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.commands.metrics_cmd" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="c7n.commands.policy_command">
<code class="descclassname">c7n.commands.</code><code class="descname">policy_command</code><span class="sig-paren">(</span><em>f</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/commands.html#policy_command"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.commands.policy_command" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="c7n.commands.report">
<code class="descclassname">c7n.commands.</code><code class="descname">report</code><span class="sig-paren">(</span><em>options</em>, <em>policies</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/commands.html#report"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.commands.report" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="c7n.commands.run">
<code class="descclassname">c7n.commands.</code><code class="descname">run</code><span class="sig-paren">(</span><em>options</em>, <em>policies</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/commands.html#run"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.commands.run" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="c7n.commands.schema_cmd">
<code class="descclassname">c7n.commands.</code><code class="descname">schema_cmd</code><span class="sig-paren">(</span><em>options</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/commands.html#schema_cmd"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.commands.schema_cmd" title="Permalink to this definition">¶</a></dt>
<dd><p>Print info about the resources, actions and filters available.</p>
</dd></dl>

<dl class="function">
<dt id="c7n.commands.schema_completer">
<code class="descclassname">c7n.commands.</code><code class="descname">schema_completer</code><span class="sig-paren">(</span><em>prefix</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/commands.html#schema_completer"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.commands.schema_completer" title="Permalink to this definition">¶</a></dt>
<dd><p>For tab-completion via argcomplete, return completion options.</p>
<p>For the given prefix so far, return the possible options.  Note that
filtering via startswith happens after this list is returned.</p>
</dd></dl>

<dl class="function">
<dt id="c7n.commands.validate">
<code class="descclassname">c7n.commands.</code><code class="descname">validate</code><span class="sig-paren">(</span><em>options</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/commands.html#validate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.commands.validate" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="c7n.commands.version_cmd">
<code class="descclassname">c7n.commands.</code><code class="descname">version_cmd</code><span class="sig-paren">(</span><em>options</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/commands.html#version_cmd"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.commands.version_cmd" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-c7n.config">
<span id="c7n-config-module"></span><h2>c7n.config module<a class="headerlink" href="#module-c7n.config" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="c7n.config.Bag">
<em class="property">class </em><code class="descclassname">c7n.config.</code><code class="descname">Bag</code><a class="reference internal" href="../../_modules/c7n/config.html#Bag"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.config.Bag" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></p>
</dd></dl>

<dl class="class">
<dt id="c7n.config.Config">
<em class="property">class </em><code class="descclassname">c7n.config.</code><code class="descname">Config</code><a class="reference internal" href="../../_modules/c7n/config.html#Config"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.config.Config" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#c7n.config.Bag" title="c7n.config.Bag"><code class="xref py py-class docutils literal notranslate"><span class="pre">c7n.config.Bag</span></code></a></p>
<dl class="method">
<dt id="c7n.config.Config.copy">
<code class="descname">copy</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; a shallow copy of D<a class="reference internal" href="../../_modules/c7n/config.html#Config.copy"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.config.Config.copy" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="classmethod">
<dt id="c7n.config.Config.empty">
<em class="property">classmethod </em><code class="descname">empty</code><span class="sig-paren">(</span><em>**kw</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/config.html#Config.empty"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.config.Config.empty" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-c7n.credentials">
<span id="c7n-credentials-module"></span><h2>c7n.credentials module<a class="headerlink" href="#module-c7n.credentials" title="Permalink to this headline">¶</a></h2>
<p>Authentication utilities</p>
<dl class="class">
<dt id="c7n.credentials.SessionFactory">
<em class="property">class </em><code class="descclassname">c7n.credentials.</code><code class="descname">SessionFactory</code><span class="sig-paren">(</span><em>region</em>, <em>profile=None</em>, <em>assume_role=None</em>, <em>external_id=None</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/credentials.html#SessionFactory"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.credentials.SessionFactory" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="attribute">
<dt id="c7n.credentials.SessionFactory.policy_name">
<code class="descname">policy_name</code><a class="headerlink" href="#c7n.credentials.SessionFactory.policy_name" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="c7n.credentials.SessionFactory.set_subscribers">
<code class="descname">set_subscribers</code><span class="sig-paren">(</span><em>subscribers</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/credentials.html#SessionFactory.set_subscribers"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.credentials.SessionFactory.set_subscribers" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="c7n.credentials.SessionFactory.update">
<code class="descname">update</code><span class="sig-paren">(</span><em>session</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/credentials.html#SessionFactory.update"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.credentials.SessionFactory.update" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="function">
<dt id="c7n.credentials.assumed_session">
<code class="descclassname">c7n.credentials.</code><code class="descname">assumed_session</code><span class="sig-paren">(</span><em>role_arn</em>, <em>session_name</em>, <em>session=None</em>, <em>region=None</em>, <em>external_id=None</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/credentials.html#assumed_session"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.credentials.assumed_session" title="Permalink to this definition">¶</a></dt>
<dd><p>STS Role assume a boto3.Session</p>
<p>With automatic credential renewal.</p>
<dl class="docutils">
<dt>Args:</dt>
<dd>role_arn: iam role arn to assume
session_name: client session identifier
session: an optional extant session, note session is captured
in a function closure for renewing the sts assumed role.</dd>
</dl>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">a boto3 session using the sts assumed role credentials</td>
</tr>
</tbody>
</table>
<p>Notes: We have to poke at botocore internals a few times</p>
</dd></dl>

</div>
<div class="section" id="module-c7n.ctx">
<span id="c7n-ctx-module"></span><h2>c7n.ctx module<a class="headerlink" href="#module-c7n.ctx" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="c7n.ctx.ExecutionContext">
<em class="property">class </em><code class="descclassname">c7n.ctx.</code><code class="descname">ExecutionContext</code><span class="sig-paren">(</span><em>session_factory</em>, <em>policy</em>, <em>options</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/ctx.html#ExecutionContext"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.ctx.ExecutionContext" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Policy Execution Context.</p>
<dl class="method">
<dt id="c7n.ctx.ExecutionContext.get_metadata">
<code class="descname">get_metadata</code><span class="sig-paren">(</span><em>include=('sys-stats'</em>, <em>'api-stats'</em>, <em>'metrics')</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/ctx.html#ExecutionContext.get_metadata"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.ctx.ExecutionContext.get_metadata" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="c7n.ctx.ExecutionContext.initialize">
<code class="descname">initialize</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/ctx.html#ExecutionContext.initialize"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.ctx.ExecutionContext.initialize" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="c7n.ctx.ExecutionContext.log_dir">
<code class="descname">log_dir</code><a class="headerlink" href="#c7n.ctx.ExecutionContext.log_dir" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-c7n.cwe">
<span id="c7n-cwe-module"></span><h2>c7n.cwe module<a class="headerlink" href="#module-c7n.cwe" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="c7n.cwe.CloudWatchEvents">
<em class="property">class </em><code class="descclassname">c7n.cwe.</code><code class="descname">CloudWatchEvents</code><a class="reference internal" href="../../_modules/c7n/cwe.html#CloudWatchEvents"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.cwe.CloudWatchEvents" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>A mapping of events to resource types.</p>
<dl class="classmethod">
<dt id="c7n.cwe.CloudWatchEvents.get">
<em class="property">classmethod </em><code class="descname">get</code><span class="sig-paren">(</span><em>event_name</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/cwe.html#CloudWatchEvents.get"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.cwe.CloudWatchEvents.get" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="classmethod">
<dt id="c7n.cwe.CloudWatchEvents.get_ids">
<em class="property">classmethod </em><code class="descname">get_ids</code><span class="sig-paren">(</span><em>event</em>, <em>mode</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/cwe.html#CloudWatchEvents.get_ids"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.cwe.CloudWatchEvents.get_ids" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="classmethod">
<dt id="c7n.cwe.CloudWatchEvents.get_trail_ids">
<em class="property">classmethod </em><code class="descname">get_trail_ids</code><span class="sig-paren">(</span><em>event</em>, <em>mode</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/cwe.html#CloudWatchEvents.get_trail_ids"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.cwe.CloudWatchEvents.get_trail_ids" title="Permalink to this definition">¶</a></dt>
<dd><p>extract resources ids from a cloud trail event.</p>
</dd></dl>

<dl class="classmethod">
<dt id="c7n.cwe.CloudWatchEvents.match">
<em class="property">classmethod </em><code class="descname">match</code><span class="sig-paren">(</span><em>event</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/cwe.html#CloudWatchEvents.match"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.cwe.CloudWatchEvents.match" title="Permalink to this definition">¶</a></dt>
<dd><p>Match a given cwe event as cloudtrail with an api call</p>
<p>That has its information filled out.</p>
</dd></dl>

<dl class="attribute">
<dt id="c7n.cwe.CloudWatchEvents.trail_events">
<code class="descname">trail_events</code><em class="property"> = {'ConsoleLogin': {'ids': 'userIdentity.arn', 'source': 'signin.amazonaws.com'}, 'CreateAutoScalingGroup': {'ids': 'requestParameters.autoScalingGroupName', 'source': 'autoscaling.amazonaws.com'}, 'CreateBucket': {'ids': 'requestParameters.bucketName', 'source': 's3.amazonaws.com'}, 'CreateCluster': {'ids': 'requestParameters.clusterIdentifier', 'source': 'redshift.amazonaws.com'}, 'CreateDBInstance': {'ids': 'requestParameters.dBInstanceIdentifier', 'source': 'rds.amazonaws.com'}, 'CreateElasticsearchDomain': {'ids': 'requestParameters.domainName', 'source': 'es.amazonaws.com'}, 'CreateFunction': {'event': 'CreateFunction20150331', 'ids': 'requestParameters.functionName', 'source': 'lambda.amazonaws.com'}, 'CreateLoadBalancer': {'ids': 'requestParameters.loadBalancerName', 'source': 'elasticloadbalancing.amazonaws.com'}, 'CreateLoadBalancerPolicy': {'ids': 'requestParameters.loadBalancerName', 'source': 'elasticloadbalancing.amazonaws.com'}, 'CreateTable': {'ids': 'requestParameters.tableName', 'source': 'dynamodb.amazonaws.com'}, 'CreateVolume': {'ids': 'responseElements.volumeId', 'source': 'ec2.amazonaws.com'}, 'RunInstances': {'ids': 'responseElements.instancesSet.items[].instanceId', 'source': 'ec2.amazonaws.com'}, 'SetLoadBalancerPoliciesOfListener': {'ids': 'requestParameters.loadBalancerName', 'source': 'elasticloadbalancing.amazonaws.com'}, 'UpdateAutoScalingGroup': {'ids': 'requestParameters.autoScalingGroupName', 'source': 'autoscaling.amazonaws.com'}}</em><a class="headerlink" href="#c7n.cwe.CloudWatchEvents.trail_events" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-c7n.exceptions">
<span id="c7n-exceptions-module"></span><h2>c7n.exceptions module<a class="headerlink" href="#module-c7n.exceptions" title="Permalink to this headline">¶</a></h2>
<dl class="exception">
<dt id="c7n.exceptions.CustodianError">
<em class="property">exception </em><code class="descclassname">c7n.exceptions.</code><code class="descname">CustodianError</code><a class="reference internal" href="../../_modules/c7n/exceptions.html#CustodianError"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.exceptions.CustodianError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
<p>Custodian Exception Base Class</p>
</dd></dl>

<dl class="exception">
<dt id="c7n.exceptions.DeprecationError">
<em class="property">exception </em><code class="descclassname">c7n.exceptions.</code><code class="descname">DeprecationError</code><a class="reference internal" href="../../_modules/c7n/exceptions.html#DeprecationError"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.exceptions.DeprecationError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#c7n.exceptions.PolicySyntaxError" title="c7n.exceptions.PolicySyntaxError"><code class="xref py py-class docutils literal notranslate"><span class="pre">c7n.exceptions.PolicySyntaxError</span></code></a></p>
<p>Policy using deprecated syntax</p>
</dd></dl>

<dl class="exception">
<dt id="c7n.exceptions.InvalidOutputConfig">
<em class="property">exception </em><code class="descclassname">c7n.exceptions.</code><code class="descname">InvalidOutputConfig</code><a class="reference internal" href="../../_modules/c7n/exceptions.html#InvalidOutputConfig"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.exceptions.InvalidOutputConfig" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#c7n.exceptions.CustodianError" title="c7n.exceptions.CustodianError"><code class="xref py py-class docutils literal notranslate"><span class="pre">c7n.exceptions.CustodianError</span></code></a></p>
<p>Invalid configuration for an output</p>
</dd></dl>

<dl class="exception">
<dt id="c7n.exceptions.PolicyExecutionError">
<em class="property">exception </em><code class="descclassname">c7n.exceptions.</code><code class="descname">PolicyExecutionError</code><a class="reference internal" href="../../_modules/c7n/exceptions.html#PolicyExecutionError"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.exceptions.PolicyExecutionError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#c7n.exceptions.CustodianError" title="c7n.exceptions.CustodianError"><code class="xref py py-class docutils literal notranslate"><span class="pre">c7n.exceptions.CustodianError</span></code></a></p>
<p>Error running a Policy.</p>
</dd></dl>

<dl class="exception">
<dt id="c7n.exceptions.PolicySyntaxError">
<em class="property">exception </em><code class="descclassname">c7n.exceptions.</code><code class="descname">PolicySyntaxError</code><a class="reference internal" href="../../_modules/c7n/exceptions.html#PolicySyntaxError"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.exceptions.PolicySyntaxError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#c7n.exceptions.CustodianError" title="c7n.exceptions.CustodianError"><code class="xref py py-class docutils literal notranslate"><span class="pre">c7n.exceptions.CustodianError</span></code></a></p>
<p>Policy Syntax Error</p>
</dd></dl>

<dl class="exception">
<dt id="c7n.exceptions.PolicyValidationError">
<em class="property">exception </em><code class="descclassname">c7n.exceptions.</code><code class="descname">PolicyValidationError</code><a class="reference internal" href="../../_modules/c7n/exceptions.html#PolicyValidationError"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.exceptions.PolicyValidationError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#c7n.exceptions.PolicySyntaxError" title="c7n.exceptions.PolicySyntaxError"><code class="xref py py-class docutils literal notranslate"><span class="pre">c7n.exceptions.PolicySyntaxError</span></code></a></p>
<p>Policy Validation Error</p>
</dd></dl>

<dl class="exception">
<dt id="c7n.exceptions.PolicyYamlError">
<em class="property">exception </em><code class="descclassname">c7n.exceptions.</code><code class="descname">PolicyYamlError</code><a class="reference internal" href="../../_modules/c7n/exceptions.html#PolicyYamlError"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.exceptions.PolicyYamlError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#c7n.exceptions.PolicySyntaxError" title="c7n.exceptions.PolicySyntaxError"><code class="xref py py-class docutils literal notranslate"><span class="pre">c7n.exceptions.PolicySyntaxError</span></code></a></p>
<p>Policy Yaml Structural Error</p>
</dd></dl>

<dl class="exception">
<dt id="c7n.exceptions.ResourceLimitExceeded">
<em class="property">exception </em><code class="descclassname">c7n.exceptions.</code><code class="descname">ResourceLimitExceeded</code><span class="sig-paren">(</span><em>msg</em>, <em>limit_type</em>, <em>limit</em>, <em>selection_count</em>, <em>population_count</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/exceptions.html#ResourceLimitExceeded"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.exceptions.ResourceLimitExceeded" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#c7n.exceptions.PolicyExecutionError" title="c7n.exceptions.PolicyExecutionError"><code class="xref py py-class docutils literal notranslate"><span class="pre">c7n.exceptions.PolicyExecutionError</span></code></a></p>
<p>The policy would have affected more resources than its limit.</p>
</dd></dl>

</div>
<div class="section" id="module-c7n.executor">
<span id="c7n-executor-module"></span><h2>c7n.executor module<a class="headerlink" href="#module-c7n.executor" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="c7n.executor.ExecutorRegistry">
<em class="property">class </em><code class="descclassname">c7n.executor.</code><code class="descname">ExecutorRegistry</code><span class="sig-paren">(</span><em>plugin_type</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/executor.html#ExecutorRegistry"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.executor.ExecutorRegistry" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#c7n.registry.PluginRegistry" title="c7n.registry.PluginRegistry"><code class="xref py py-class docutils literal notranslate"><span class="pre">c7n.registry.PluginRegistry</span></code></a></p>
</dd></dl>

<dl class="class">
<dt id="c7n.executor.MainThreadExecutor">
<em class="property">class </em><code class="descclassname">c7n.executor.</code><code class="descname">MainThreadExecutor</code><span class="sig-paren">(</span><em>*args</em>, <em>**kw</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/executor.html#MainThreadExecutor"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.executor.MainThreadExecutor" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>For running tests.</p>
<p>c7n_async == True  -&gt; catch exceptions and store them in the future.
c7n_async == False -&gt; let exceptions bubble up.</p>
<dl class="attribute">
<dt id="c7n.executor.MainThreadExecutor.c7n_async">
<code class="descname">c7n_async</code><em class="property"> = True</em><a class="headerlink" href="#c7n.executor.MainThreadExecutor.c7n_async" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="c7n.executor.MainThreadExecutor.map">
<code class="descname">map</code><span class="sig-paren">(</span><em>func</em>, <em>iterable</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/executor.html#MainThreadExecutor.map"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.executor.MainThreadExecutor.map" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="c7n.executor.MainThreadExecutor.submit">
<code class="descname">submit</code><span class="sig-paren">(</span><em>func</em>, <em>*args</em>, <em>**kw</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/executor.html#MainThreadExecutor.submit"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.executor.MainThreadExecutor.submit" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="c7n.executor.MainThreadExecutor.type">
<code class="descname">type</code><em class="property"> = 'main'</em><a class="headerlink" href="#c7n.executor.MainThreadExecutor.type" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="c7n.executor.MainThreadFuture">
<em class="property">class </em><code class="descclassname">c7n.executor.</code><code class="descname">MainThreadFuture</code><span class="sig-paren">(</span><em>value</em>, <em>exception=None</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/executor.html#MainThreadFuture"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.executor.MainThreadFuture" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="method">
<dt id="c7n.executor.MainThreadFuture.add_done_callback">
<code class="descname">add_done_callback</code><span class="sig-paren">(</span><em>fn</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/executor.html#MainThreadFuture.add_done_callback"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.executor.MainThreadFuture.add_done_callback" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="c7n.executor.MainThreadFuture.cancel">
<code class="descname">cancel</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/executor.html#MainThreadFuture.cancel"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.executor.MainThreadFuture.cancel" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="c7n.executor.MainThreadFuture.cancelled">
<code class="descname">cancelled</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/executor.html#MainThreadFuture.cancelled"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.executor.MainThreadFuture.cancelled" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="c7n.executor.MainThreadFuture.done">
<code class="descname">done</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/executor.html#MainThreadFuture.done"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.executor.MainThreadFuture.done" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="c7n.executor.MainThreadFuture.exception">
<code class="descname">exception</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/executor.html#MainThreadFuture.exception"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.executor.MainThreadFuture.exception" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="c7n.executor.MainThreadFuture.result">
<code class="descname">result</code><span class="sig-paren">(</span><em>timeout=None</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/executor.html#MainThreadFuture.result"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.executor.MainThreadFuture.result" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="function">
<dt id="c7n.executor.executor">
<code class="descclassname">c7n.executor.</code><code class="descname">executor</code><span class="sig-paren">(</span><em>name</em>, <em>**kw</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/executor.html#executor"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.executor.executor" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-c7n.handler">
<span id="c7n-handler-module"></span><h2>c7n.handler module<a class="headerlink" href="#module-c7n.handler" title="Permalink to this headline">¶</a></h2>
<p>Cloud-Custodian Lambda Entry Point</p>
<p>Mostly this serves to load up the policy and dispatch
an event.</p>
<dl class="function">
<dt id="c7n.handler.dispatch_event">
<code class="descclassname">c7n.handler.</code><code class="descname">dispatch_event</code><span class="sig-paren">(</span><em>event</em>, <em>context</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/handler.html#dispatch_event"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.handler.dispatch_event" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="c7n.handler.get_local_output_dir">
<code class="descclassname">c7n.handler.</code><code class="descname">get_local_output_dir</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/handler.html#get_local_output_dir"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.handler.get_local_output_dir" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a local output directory per execution.</p>
<p>We’ve seen occassional (1/100000) perm issues with lambda on temp
directory and changing unix execution users (2015-2018), so use a
per execution temp space. With firecracker lambdas this may be outdated.</p>
</dd></dl>

<dl class="function">
<dt id="c7n.handler.init_config">
<code class="descclassname">c7n.handler.</code><code class="descname">init_config</code><span class="sig-paren">(</span><em>policy_config</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/handler.html#init_config"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.handler.init_config" title="Permalink to this definition">¶</a></dt>
<dd><p>Get policy lambda execution configuration.</p>
<p>cli parameters are serialized into the policy lambda config,
we merge those with any policy specific execution options.</p>
<p>–assume role and -s output directory get special handling, as
to disambiguate any cli context.</p>
<p>account id is sourced from the config options or from api call
and cached as a global</p>
</dd></dl>

</div>
<div class="section" id="module-c7n.log">
<span id="c7n-log-module"></span><h2>c7n.log module<a class="headerlink" href="#module-c7n.log" title="Permalink to this headline">¶</a></h2>
<p>Python Standard Logging integration with CloudWatch Logs</p>
<p>Double Buffered with background thread delivery.</p>
<p>We do an initial buffering on the log handler directly, to avoid
some of the overhead of pushing to the queue (albeit dubious as
std logging does default lock acquisition around handler emit).
also uses a single thread for all outbound. Background thread
uses a separate session.</p>
<dl class="class">
<dt id="c7n.log.CloudWatchLogHandler">
<em class="property">class </em><code class="descclassname">c7n.log.</code><code class="descname">CloudWatchLogHandler</code><span class="sig-paren">(</span><em>log_group='c7n.log'</em>, <em>log_stream=None</em>, <em>session_factory=None</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/log.html#CloudWatchLogHandler"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.log.CloudWatchLogHandler" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">logging.Handler</span></code></p>
<p>Python Log Handler to Send to Cloud Watch Logs</p>
<p><a class="reference external" href="https://docs.aws.amazon.com/AmazonCloudWatch/latest/logs/WhatIsCloudWatchLogs.html">https://docs.aws.amazon.com/AmazonCloudWatch/latest/logs/WhatIsCloudWatchLogs.html</a></p>
<dl class="attribute">
<dt id="c7n.log.CloudWatchLogHandler.batch_interval">
<code class="descname">batch_interval</code><em class="property"> = 40</em><a class="headerlink" href="#c7n.log.CloudWatchLogHandler.batch_interval" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="c7n.log.CloudWatchLogHandler.batch_min_buffer">
<code class="descname">batch_min_buffer</code><em class="property"> = 10</em><a class="headerlink" href="#c7n.log.CloudWatchLogHandler.batch_min_buffer" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="c7n.log.CloudWatchLogHandler.batch_size">
<code class="descname">batch_size</code><em class="property"> = 20</em><a class="headerlink" href="#c7n.log.CloudWatchLogHandler.batch_size" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="c7n.log.CloudWatchLogHandler.close">
<code class="descname">close</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/log.html#CloudWatchLogHandler.close"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.log.CloudWatchLogHandler.close" title="Permalink to this definition">¶</a></dt>
<dd><p>Tidy up any resources used by the handler.</p>
<p>This version removes the handler from an internal map of handlers,
_handlers, which is used for handler lookup by name. Subclasses
should ensure that this gets called from overridden close()
methods.</p>
</dd></dl>

<dl class="method">
<dt id="c7n.log.CloudWatchLogHandler.emit">
<code class="descname">emit</code><span class="sig-paren">(</span><em>message</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/log.html#CloudWatchLogHandler.emit"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.log.CloudWatchLogHandler.emit" title="Permalink to this definition">¶</a></dt>
<dd><p>Send logs</p>
</dd></dl>

<dl class="method">
<dt id="c7n.log.CloudWatchLogHandler.flush">
<code class="descname">flush</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/log.html#CloudWatchLogHandler.flush"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.log.CloudWatchLogHandler.flush" title="Permalink to this definition">¶</a></dt>
<dd><p>Ensure all logging output has been flushed.</p>
</dd></dl>

<dl class="method">
<dt id="c7n.log.CloudWatchLogHandler.flush_buffers">
<code class="descname">flush_buffers</code><span class="sig-paren">(</span><em>force=False</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/log.html#CloudWatchLogHandler.flush_buffers"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.log.CloudWatchLogHandler.flush_buffers" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="c7n.log.CloudWatchLogHandler.format_message">
<code class="descname">format_message</code><span class="sig-paren">(</span><em>msg</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/log.html#CloudWatchLogHandler.format_message"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.log.CloudWatchLogHandler.format_message" title="Permalink to this definition">¶</a></dt>
<dd><p>format message.</p>
</dd></dl>

<dl class="method">
<dt id="c7n.log.CloudWatchLogHandler.start_transports">
<code class="descname">start_transports</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/log.html#CloudWatchLogHandler.start_transports"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.log.CloudWatchLogHandler.start_transports" title="Permalink to this definition">¶</a></dt>
<dd><p>start thread transports.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="c7n.log.Error">
<em class="property">class </em><code class="descclassname">c7n.log.</code><code class="descname">Error</code><a class="reference internal" href="../../_modules/c7n/log.html#Error"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.log.Error" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="attribute">
<dt id="c7n.log.Error.AlreadyAccepted">
<code class="descname">AlreadyAccepted</code><em class="property"> = 'DataAlreadyAcceptedException'</em><a class="headerlink" href="#c7n.log.Error.AlreadyAccepted" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="c7n.log.Error.InvalidToken">
<code class="descname">InvalidToken</code><em class="property"> = 'InvalidSequenceTokenException'</em><a class="headerlink" href="#c7n.log.Error.InvalidToken" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="c7n.log.Error.ResourceExists">
<code class="descname">ResourceExists</code><em class="property"> = 'ResourceAlreadyExistsException'</em><a class="headerlink" href="#c7n.log.Error.ResourceExists" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="staticmethod">
<dt id="c7n.log.Error.code">
<em class="property">static </em><code class="descname">code</code><span class="sig-paren">(</span><em>e</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/log.html#Error.code"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.log.Error.code" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="c7n.log.Transport">
<em class="property">class </em><code class="descclassname">c7n.log.</code><code class="descname">Transport</code><span class="sig-paren">(</span><em>queue</em>, <em>batch_size</em>, <em>batch_interval</em>, <em>session_factory</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/log.html#Transport"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.log.Transport" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="method">
<dt id="c7n.log.Transport.create_stream">
<code class="descname">create_stream</code><span class="sig-paren">(</span><em>group</em>, <em>stream</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/log.html#Transport.create_stream"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.log.Transport.create_stream" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="c7n.log.Transport.loop">
<code class="descname">loop</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/log.html#Transport.loop"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.log.Transport.loop" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="c7n.log.Transport.send">
<code class="descname">send</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/log.html#Transport.send"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.log.Transport.send" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="c7n.log.Transport.send_group">
<code class="descname">send_group</code><span class="sig-paren">(</span><em>k</em>, <em>messages</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/log.html#Transport.send_group"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.log.Transport.send_group" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-c7n.logs_support">
<span id="c7n-logs-support-module"></span><h2>c7n.logs_support module<a class="headerlink" href="#module-c7n.logs_support" title="Permalink to this headline">¶</a></h2>
<p>Supporting utilities for various implementations
of PolicyExecutionMode.get_logs()</p>
<dl class="function">
<dt id="c7n.logs_support.get_records">
<code class="descclassname">c7n.logs_support.</code><code class="descname">get_records</code><span class="sig-paren">(</span><em>bucket</em>, <em>key</em>, <em>session_factory</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/logs_support.html#get_records"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.logs_support.get_records" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="c7n.logs_support.log_entries_from_group">
<code class="descclassname">c7n.logs_support.</code><code class="descname">log_entries_from_group</code><span class="sig-paren">(</span><em>session</em>, <em>group_name</em>, <em>start</em>, <em>end</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/logs_support.html#log_entries_from_group"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.logs_support.log_entries_from_group" title="Permalink to this definition">¶</a></dt>
<dd><p>Get logs for a specific log group</p>
</dd></dl>

<dl class="function">
<dt id="c7n.logs_support.log_entries_from_s3">
<code class="descclassname">c7n.logs_support.</code><code class="descname">log_entries_from_s3</code><span class="sig-paren">(</span><em>session_factory</em>, <em>output</em>, <em>start</em>, <em>end</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/logs_support.html#log_entries_from_s3"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.logs_support.log_entries_from_s3" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="c7n.logs_support.log_entries_in_range">
<code class="descclassname">c7n.logs_support.</code><code class="descname">log_entries_in_range</code><span class="sig-paren">(</span><em>entries</em>, <em>start</em>, <em>end</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/logs_support.html#log_entries_in_range"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.logs_support.log_entries_in_range" title="Permalink to this definition">¶</a></dt>
<dd><p>filter out entries before start and after end</p>
</dd></dl>

<dl class="function">
<dt id="c7n.logs_support.normalized_log_entries">
<code class="descclassname">c7n.logs_support.</code><code class="descname">normalized_log_entries</code><span class="sig-paren">(</span><em>raw_entries</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/logs_support.html#normalized_log_entries"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.logs_support.normalized_log_entries" title="Permalink to this definition">¶</a></dt>
<dd><p>Mimic the format returned by LambdaManager.logs()</p>
</dd></dl>

</div>
<div class="section" id="module-c7n.manager">
<span id="c7n-manager-module"></span><h2>c7n.manager module<a class="headerlink" href="#module-c7n.manager" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="c7n.manager.ResourceManager">
<em class="property">class </em><code class="descclassname">c7n.manager.</code><code class="descname">ResourceManager</code><span class="sig-paren">(</span><em>ctx</em>, <em>data</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/manager.html#ResourceManager"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.manager.ResourceManager" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>A Cloud Custodian resource</p>
<dl class="attribute">
<dt id="c7n.manager.ResourceManager.action_registry">
<code class="descname">action_registry</code><em class="property"> = None</em><a class="headerlink" href="#c7n.manager.ResourceManager.action_registry" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="c7n.manager.ResourceManager.executor_factory">
<code class="descname">executor_factory</code><a class="headerlink" href="#c7n.manager.ResourceManager.executor_factory" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <code class="xref py py-class docutils literal notranslate"><span class="pre">concurrent.futures.thread.ThreadPoolExecutor</span></code></p>
</dd></dl>

<dl class="attribute">
<dt id="c7n.manager.ResourceManager.filter_registry">
<code class="descname">filter_registry</code><em class="property"> = None</em><a class="headerlink" href="#c7n.manager.ResourceManager.filter_registry" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="c7n.manager.ResourceManager.filter_resources">
<code class="descname">filter_resources</code><span class="sig-paren">(</span><em>resources</em>, <em>event=None</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/manager.html#ResourceManager.filter_resources"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.manager.ResourceManager.filter_resources" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="c7n.manager.ResourceManager.format_json">
<code class="descname">format_json</code><span class="sig-paren">(</span><em>resources</em>, <em>fh</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/manager.html#ResourceManager.format_json"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.manager.ResourceManager.format_json" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="c7n.manager.ResourceManager.get_model">
<code class="descname">get_model</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/manager.html#ResourceManager.get_model"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.manager.ResourceManager.get_model" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the resource meta-model.</p>
</dd></dl>

<dl class="classmethod">
<dt id="c7n.manager.ResourceManager.get_permissions">
<em class="property">classmethod </em><code class="descname">get_permissions</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/manager.html#ResourceManager.get_permissions"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.manager.ResourceManager.get_permissions" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="c7n.manager.ResourceManager.get_resource_manager">
<code class="descname">get_resource_manager</code><span class="sig-paren">(</span><em>resource_type</em>, <em>data=None</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/manager.html#ResourceManager.get_resource_manager"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.manager.ResourceManager.get_resource_manager" title="Permalink to this definition">¶</a></dt>
<dd><p>get a resource manager or a given resource type.</p>
<p>assumes the query is for the same underlying cloud provider.</p>
</dd></dl>

<dl class="method">
<dt id="c7n.manager.ResourceManager.get_resources">
<code class="descname">get_resources</code><span class="sig-paren">(</span><em>resource_ids</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/manager.html#ResourceManager.get_resources"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.manager.ResourceManager.get_resources" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieve a set of resources by id.</p>
</dd></dl>

<dl class="method">
<dt id="c7n.manager.ResourceManager.iter_filters">
<code class="descname">iter_filters</code><span class="sig-paren">(</span><em>block_end=False</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/manager.html#ResourceManager.iter_filters"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.manager.ResourceManager.iter_filters" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="c7n.manager.ResourceManager.match_ids">
<code class="descname">match_ids</code><span class="sig-paren">(</span><em>ids</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/manager.html#ResourceManager.match_ids"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.manager.ResourceManager.match_ids" title="Permalink to this definition">¶</a></dt>
<dd><p>return ids that match this resource type’s id format.</p>
</dd></dl>

<dl class="method">
<dt id="c7n.manager.ResourceManager.resources">
<code class="descname">resources</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/manager.html#ResourceManager.resources"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.manager.ResourceManager.resources" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="c7n.manager.ResourceManager.retry">
<code class="descname">retry</code><em class="property"> = None</em><a class="headerlink" href="#c7n.manager.ResourceManager.retry" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="c7n.manager.ResourceManager.validate">
<code class="descname">validate</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/manager.html#ResourceManager.validate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.manager.ResourceManager.validate" title="Permalink to this definition">¶</a></dt>
<dd><p>Validates resource definition, does NOT validate filters, actions, modes.</p>
<p>Example use case: A resource type that requires an additional query</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Example:</th><td class="field-body"></td>
</tr>
</tbody>
</table>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">policies</span><span class="p p-Indicator">:</span>
  <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">name</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">k8s-custom-resource</span>
    <span class="l l-Scalar l-Scalar-Plain">resource</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">k8s.custom-namespaced-resource</span>
    <span class="l l-Scalar l-Scalar-Plain">query</span><span class="p p-Indicator">:</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">version</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">v1</span>
        <span class="l l-Scalar l-Scalar-Plain">group stable.example.com</span>
        <span class="l l-Scalar l-Scalar-Plain">plural</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">crontabs</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-c7n.mu">
<span id="c7n-mu-module"></span><h2>c7n.mu module<a class="headerlink" href="#module-c7n.mu" title="Permalink to this headline">¶</a></h2>
<p>Cloud Custodian Lambda Provisioning Support</p>
<p>docs/lambda.rst</p>
<dl class="class">
<dt id="c7n.mu.AbstractLambdaFunction">
<em class="property">class </em><code class="descclassname">c7n.mu.</code><code class="descname">AbstractLambdaFunction</code><a class="reference internal" href="../../_modules/c7n/mu.html#AbstractLambdaFunction"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.mu.AbstractLambdaFunction" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Abstract base class for lambda functions.</p>
<dl class="attribute">
<dt id="c7n.mu.AbstractLambdaFunction.alias">
<code class="descname">alias</code><em class="property"> = None</em><a class="headerlink" href="#c7n.mu.AbstractLambdaFunction.alias" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="c7n.mu.AbstractLambdaFunction.concurrency">
<code class="descname">concurrency</code><a class="headerlink" href="#c7n.mu.AbstractLambdaFunction.concurrency" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="c7n.mu.AbstractLambdaFunction.dead_letter_config">
<code class="descname">dead_letter_config</code><a class="headerlink" href="#c7n.mu.AbstractLambdaFunction.dead_letter_config" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="c7n.mu.AbstractLambdaFunction.description">
<code class="descname">description</code><a class="headerlink" href="#c7n.mu.AbstractLambdaFunction.description" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="c7n.mu.AbstractLambdaFunction.environment">
<code class="descname">environment</code><a class="headerlink" href="#c7n.mu.AbstractLambdaFunction.environment" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="c7n.mu.AbstractLambdaFunction.get_archive">
<code class="descname">get_archive</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/mu.html#AbstractLambdaFunction.get_archive"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.mu.AbstractLambdaFunction.get_archive" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the lambda distribution archive object.</p>
</dd></dl>

<dl class="method">
<dt id="c7n.mu.AbstractLambdaFunction.get_config">
<code class="descname">get_config</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/mu.html#AbstractLambdaFunction.get_config"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.mu.AbstractLambdaFunction.get_config" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="c7n.mu.AbstractLambdaFunction.get_events">
<code class="descname">get_events</code><span class="sig-paren">(</span><em>session_factory</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/mu.html#AbstractLambdaFunction.get_events"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.mu.AbstractLambdaFunction.get_events" title="Permalink to this definition">¶</a></dt>
<dd><p>event sources that should be bound to this lambda.</p>
</dd></dl>

<dl class="attribute">
<dt id="c7n.mu.AbstractLambdaFunction.handler">
<code class="descname">handler</code><a class="headerlink" href="#c7n.mu.AbstractLambdaFunction.handler" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="c7n.mu.AbstractLambdaFunction.kms_key_arn">
<code class="descname">kms_key_arn</code><a class="headerlink" href="#c7n.mu.AbstractLambdaFunction.kms_key_arn" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="c7n.mu.AbstractLambdaFunction.layers">
<code class="descname">layers</code><a class="headerlink" href="#c7n.mu.AbstractLambdaFunction.layers" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="c7n.mu.AbstractLambdaFunction.memory_size">
<code class="descname">memory_size</code><a class="headerlink" href="#c7n.mu.AbstractLambdaFunction.memory_size" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="c7n.mu.AbstractLambdaFunction.name">
<code class="descname">name</code><a class="headerlink" href="#c7n.mu.AbstractLambdaFunction.name" title="Permalink to this definition">¶</a></dt>
<dd><p>Name for the lambda function</p>
</dd></dl>

<dl class="attribute">
<dt id="c7n.mu.AbstractLambdaFunction.role">
<code class="descname">role</code><a class="headerlink" href="#c7n.mu.AbstractLambdaFunction.role" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="c7n.mu.AbstractLambdaFunction.runtime">
<code class="descname">runtime</code><a class="headerlink" href="#c7n.mu.AbstractLambdaFunction.runtime" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="c7n.mu.AbstractLambdaFunction.security_groups">
<code class="descname">security_groups</code><a class="headerlink" href="#c7n.mu.AbstractLambdaFunction.security_groups" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="c7n.mu.AbstractLambdaFunction.subnets">
<code class="descname">subnets</code><a class="headerlink" href="#c7n.mu.AbstractLambdaFunction.subnets" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="c7n.mu.AbstractLambdaFunction.tags">
<code class="descname">tags</code><a class="headerlink" href="#c7n.mu.AbstractLambdaFunction.tags" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="c7n.mu.AbstractLambdaFunction.timeout">
<code class="descname">timeout</code><a class="headerlink" href="#c7n.mu.AbstractLambdaFunction.timeout" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="c7n.mu.AbstractLambdaFunction.tracing_config">
<code class="descname">tracing_config</code><a class="headerlink" href="#c7n.mu.AbstractLambdaFunction.tracing_config" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="c7n.mu.BucketLambdaNotification">
<em class="property">class </em><code class="descclassname">c7n.mu.</code><code class="descname">BucketLambdaNotification</code><span class="sig-paren">(</span><em>data</em>, <em>session_factory</em>, <em>bucket</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/mu.html#BucketLambdaNotification"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.mu.BucketLambdaNotification" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Subscribe a lambda to bucket notifications directly.</p>
<dl class="method">
<dt id="c7n.mu.BucketLambdaNotification.add">
<code class="descname">add</code><span class="sig-paren">(</span><em>func</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/mu.html#BucketLambdaNotification.add"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.mu.BucketLambdaNotification.add" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="c7n.mu.BucketLambdaNotification.delta">
<code class="descname">delta</code><span class="sig-paren">(</span><em>src</em>, <em>tgt</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/mu.html#BucketLambdaNotification.delta"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.mu.BucketLambdaNotification.delta" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="c7n.mu.BucketLambdaNotification.remove">
<code class="descname">remove</code><span class="sig-paren">(</span><em>func</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/mu.html#BucketLambdaNotification.remove"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.mu.BucketLambdaNotification.remove" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="c7n.mu.BucketSNSNotification">
<em class="property">class </em><code class="descclassname">c7n.mu.</code><code class="descname">BucketSNSNotification</code><span class="sig-paren">(</span><em>session_factory</em>, <em>bucket</em>, <em>topic=None</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/mu.html#BucketSNSNotification"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.mu.BucketSNSNotification" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#c7n.mu.SNSSubscription" title="c7n.mu.SNSSubscription"><code class="xref py py-class docutils literal notranslate"><span class="pre">c7n.mu.SNSSubscription</span></code></a></p>
<p>Subscribe a lambda to bucket notifications via SNS.</p>
<dl class="method">
<dt id="c7n.mu.BucketSNSNotification.get_topic">
<code class="descname">get_topic</code><span class="sig-paren">(</span><em>bucket</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/mu.html#BucketSNSNotification.get_topic"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.mu.BucketSNSNotification.get_topic" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="c7n.mu.CloudWatchEventSource">
<em class="property">class </em><code class="descclassname">c7n.mu.</code><code class="descname">CloudWatchEventSource</code><span class="sig-paren">(</span><em>data</em>, <em>session_factory</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/mu.html#CloudWatchEventSource"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.mu.CloudWatchEventSource" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Subscribe a lambda to cloud watch events.</p>
<p>Cloud watch events supports a number of different event
sources, from periodic timers with cron syntax, to
real time instance state notifications, cloud trail
events, and realtime asg membership changes.</p>
<p>Event Pattern for Instance State</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;source&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;aws.ec2&quot;</span><span class="p">],</span>
  <span class="nt">&quot;detail-type&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;EC2 Instance State-change Notification&quot;</span><span class="p">],</span>
  <span class="nt">&quot;detail&quot;</span><span class="p">:</span> <span class="p">{</span> <span class="nt">&quot;state&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;pending&quot;</span><span class="p">]}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Event Pattern for Cloud Trail API</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;detail-type&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;AWS API Call via CloudTrail&quot;</span><span class="p">],</span>
  <span class="nt">&quot;detail&quot;</span><span class="p">:</span> <span class="p">{</span>
     <span class="nt">&quot;eventSource&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;s3.amazonaws.com&quot;</span><span class="p">],</span>
     <span class="nt">&quot;eventName&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;CreateBucket&quot;</span><span class="p">,</span> <span class="s2">&quot;DeleteBucket&quot;</span><span class="p">]</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<dl class="attribute">
<dt id="c7n.mu.CloudWatchEventSource.ASG_EVENT_MAPPING">
<code class="descname">ASG_EVENT_MAPPING</code><em class="property"> = {'launch-failure': 'EC2 Instance Launch Unsuccessful', 'launch-success': 'EC2 Instance Launch Successful', 'terminate-failure': 'EC2 Instance Terminate Unsuccessful', 'terminate-success': 'EC2 Instance Terminate Successful'}</em><a class="headerlink" href="#c7n.mu.CloudWatchEventSource.ASG_EVENT_MAPPING" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="c7n.mu.CloudWatchEventSource.add">
<code class="descname">add</code><span class="sig-paren">(</span><em>func</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/mu.html#CloudWatchEventSource.add"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.mu.CloudWatchEventSource.add" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="c7n.mu.CloudWatchEventSource.client">
<code class="descname">client</code><a class="headerlink" href="#c7n.mu.CloudWatchEventSource.client" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="staticmethod">
<dt id="c7n.mu.CloudWatchEventSource.delta">
<em class="property">static </em><code class="descname">delta</code><span class="sig-paren">(</span><em>src</em>, <em>tgt</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/mu.html#CloudWatchEventSource.delta"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.mu.CloudWatchEventSource.delta" title="Permalink to this definition">¶</a></dt>
<dd><p>Given two cwe rules determine if the configuration is the same.</p>
<p>Name is already implied.</p>
</dd></dl>

<dl class="method">
<dt id="c7n.mu.CloudWatchEventSource.get">
<code class="descname">get</code><span class="sig-paren">(</span><em>rule_name</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/mu.html#CloudWatchEventSource.get"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.mu.CloudWatchEventSource.get" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="c7n.mu.CloudWatchEventSource.pause">
<code class="descname">pause</code><span class="sig-paren">(</span><em>func</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/mu.html#CloudWatchEventSource.pause"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.mu.CloudWatchEventSource.pause" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="c7n.mu.CloudWatchEventSource.remove">
<code class="descname">remove</code><span class="sig-paren">(</span><em>func</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/mu.html#CloudWatchEventSource.remove"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.mu.CloudWatchEventSource.remove" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="c7n.mu.CloudWatchEventSource.render_event_pattern">
<code class="descname">render_event_pattern</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/mu.html#CloudWatchEventSource.render_event_pattern"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.mu.CloudWatchEventSource.render_event_pattern" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="c7n.mu.CloudWatchEventSource.resolve_cloudtrail_payload">
<code class="descname">resolve_cloudtrail_payload</code><span class="sig-paren">(</span><em>payload</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/mu.html#CloudWatchEventSource.resolve_cloudtrail_payload"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.mu.CloudWatchEventSource.resolve_cloudtrail_payload" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="c7n.mu.CloudWatchEventSource.resume">
<code class="descname">resume</code><span class="sig-paren">(</span><em>func</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/mu.html#CloudWatchEventSource.resume"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.mu.CloudWatchEventSource.resume" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="c7n.mu.CloudWatchEventSource.session">
<code class="descname">session</code><a class="headerlink" href="#c7n.mu.CloudWatchEventSource.session" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="c7n.mu.CloudWatchEventSource.update">
<code class="descname">update</code><span class="sig-paren">(</span><em>func</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/mu.html#CloudWatchEventSource.update"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.mu.CloudWatchEventSource.update" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="c7n.mu.CloudWatchLogSubscription">
<em class="property">class </em><code class="descclassname">c7n.mu.</code><code class="descname">CloudWatchLogSubscription</code><span class="sig-paren">(</span><em>session_factory</em>, <em>log_groups</em>, <em>filter_pattern</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/mu.html#CloudWatchLogSubscription"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.mu.CloudWatchLogSubscription" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Subscribe a lambda to a log group[s]</p>
<dl class="method">
<dt id="c7n.mu.CloudWatchLogSubscription.add">
<code class="descname">add</code><span class="sig-paren">(</span><em>func</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/mu.html#CloudWatchLogSubscription.add"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.mu.CloudWatchLogSubscription.add" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="c7n.mu.CloudWatchLogSubscription.iam_delay">
<code class="descname">iam_delay</code><em class="property"> = 1.5</em><a class="headerlink" href="#c7n.mu.CloudWatchLogSubscription.iam_delay" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="c7n.mu.CloudWatchLogSubscription.remove">
<code class="descname">remove</code><span class="sig-paren">(</span><em>func</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/mu.html#CloudWatchLogSubscription.remove"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.mu.CloudWatchLogSubscription.remove" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="c7n.mu.ConfigRule">
<em class="property">class </em><code class="descclassname">c7n.mu.</code><code class="descname">ConfigRule</code><span class="sig-paren">(</span><em>data</em>, <em>session_factory</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/mu.html#ConfigRule"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.mu.ConfigRule" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Use a lambda as a custom config rule.</p>
<dl class="method">
<dt id="c7n.mu.ConfigRule.add">
<code class="descname">add</code><span class="sig-paren">(</span><em>func</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/mu.html#ConfigRule.add"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.mu.ConfigRule.add" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="staticmethod">
<dt id="c7n.mu.ConfigRule.delta">
<em class="property">static </em><code class="descname">delta</code><span class="sig-paren">(</span><em>rule</em>, <em>params</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/mu.html#ConfigRule.delta"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.mu.ConfigRule.delta" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="c7n.mu.ConfigRule.get">
<code class="descname">get</code><span class="sig-paren">(</span><em>rule_name</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/mu.html#ConfigRule.get"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.mu.ConfigRule.get" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="c7n.mu.ConfigRule.get_rule_params">
<code class="descname">get_rule_params</code><span class="sig-paren">(</span><em>func</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/mu.html#ConfigRule.get_rule_params"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.mu.ConfigRule.get_rule_params" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="c7n.mu.ConfigRule.remove">
<code class="descname">remove</code><span class="sig-paren">(</span><em>func</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/mu.html#ConfigRule.remove"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.mu.ConfigRule.remove" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="c7n.mu.LambdaFunction">
<em class="property">class </em><code class="descclassname">c7n.mu.</code><code class="descname">LambdaFunction</code><span class="sig-paren">(</span><em>func_data</em>, <em>archive</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/mu.html#LambdaFunction"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.mu.LambdaFunction" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#c7n.mu.AbstractLambdaFunction" title="c7n.mu.AbstractLambdaFunction"><code class="xref py py-class docutils literal notranslate"><span class="pre">c7n.mu.AbstractLambdaFunction</span></code></a></p>
<dl class="attribute">
<dt id="c7n.mu.LambdaFunction.concurrency">
<code class="descname">concurrency</code><a class="headerlink" href="#c7n.mu.LambdaFunction.concurrency" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="c7n.mu.LambdaFunction.dead_letter_config">
<code class="descname">dead_letter_config</code><a class="headerlink" href="#c7n.mu.LambdaFunction.dead_letter_config" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="c7n.mu.LambdaFunction.description">
<code class="descname">description</code><a class="headerlink" href="#c7n.mu.LambdaFunction.description" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="c7n.mu.LambdaFunction.environment">
<code class="descname">environment</code><a class="headerlink" href="#c7n.mu.LambdaFunction.environment" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="c7n.mu.LambdaFunction.get_archive">
<code class="descname">get_archive</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/mu.html#LambdaFunction.get_archive"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.mu.LambdaFunction.get_archive" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the lambda distribution archive object.</p>
</dd></dl>

<dl class="method">
<dt id="c7n.mu.LambdaFunction.get_events">
<code class="descname">get_events</code><span class="sig-paren">(</span><em>session_factory</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/mu.html#LambdaFunction.get_events"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.mu.LambdaFunction.get_events" title="Permalink to this definition">¶</a></dt>
<dd><p>event sources that should be bound to this lambda.</p>
</dd></dl>

<dl class="attribute">
<dt id="c7n.mu.LambdaFunction.handler">
<code class="descname">handler</code><a class="headerlink" href="#c7n.mu.LambdaFunction.handler" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="c7n.mu.LambdaFunction.kms_key_arn">
<code class="descname">kms_key_arn</code><a class="headerlink" href="#c7n.mu.LambdaFunction.kms_key_arn" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="c7n.mu.LambdaFunction.layers">
<code class="descname">layers</code><a class="headerlink" href="#c7n.mu.LambdaFunction.layers" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="c7n.mu.LambdaFunction.memory_size">
<code class="descname">memory_size</code><a class="headerlink" href="#c7n.mu.LambdaFunction.memory_size" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="c7n.mu.LambdaFunction.name">
<code class="descname">name</code><a class="headerlink" href="#c7n.mu.LambdaFunction.name" title="Permalink to this definition">¶</a></dt>
<dd><p>Name for the lambda function</p>
</dd></dl>

<dl class="attribute">
<dt id="c7n.mu.LambdaFunction.role">
<code class="descname">role</code><a class="headerlink" href="#c7n.mu.LambdaFunction.role" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="c7n.mu.LambdaFunction.runtime">
<code class="descname">runtime</code><a class="headerlink" href="#c7n.mu.LambdaFunction.runtime" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="c7n.mu.LambdaFunction.security_groups">
<code class="descname">security_groups</code><a class="headerlink" href="#c7n.mu.LambdaFunction.security_groups" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="c7n.mu.LambdaFunction.subnets">
<code class="descname">subnets</code><a class="headerlink" href="#c7n.mu.LambdaFunction.subnets" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="c7n.mu.LambdaFunction.tags">
<code class="descname">tags</code><a class="headerlink" href="#c7n.mu.LambdaFunction.tags" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="c7n.mu.LambdaFunction.timeout">
<code class="descname">timeout</code><a class="headerlink" href="#c7n.mu.LambdaFunction.timeout" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="c7n.mu.LambdaFunction.tracing_config">
<code class="descname">tracing_config</code><a class="headerlink" href="#c7n.mu.LambdaFunction.tracing_config" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="c7n.mu.LambdaManager">
<em class="property">class </em><code class="descclassname">c7n.mu.</code><code class="descname">LambdaManager</code><span class="sig-paren">(</span><em>session_factory</em>, <em>s3_asset_path=None</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/mu.html#LambdaManager"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.mu.LambdaManager" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Provides CRUD operations around lambda functions</p>
<dl class="method">
<dt id="c7n.mu.LambdaManager.add">
<code class="descname">add</code><span class="sig-paren">(</span><em>func</em>, <em>alias=None</em>, <em>role=None</em>, <em>s3_uri=None</em><span class="sig-paren">)</span><a class="headerlink" href="#c7n.mu.LambdaManager.add" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="staticmethod">
<dt id="c7n.mu.LambdaManager.delta_function">
<em class="property">static </em><code class="descname">delta_function</code><span class="sig-paren">(</span><em>old_config</em>, <em>new_config</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/mu.html#LambdaManager.delta_function"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.mu.LambdaManager.delta_function" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="staticmethod">
<dt id="c7n.mu.LambdaManager.diff_tags">
<em class="property">static </em><code class="descname">diff_tags</code><span class="sig-paren">(</span><em>old_tags</em>, <em>new_tags</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/mu.html#LambdaManager.diff_tags"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.mu.LambdaManager.diff_tags" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="c7n.mu.LambdaManager.get">
<code class="descname">get</code><span class="sig-paren">(</span><em>func_name</em>, <em>qualifier=None</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/mu.html#LambdaManager.get"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.mu.LambdaManager.get" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="c7n.mu.LambdaManager.list_functions">
<code class="descname">list_functions</code><span class="sig-paren">(</span><em>prefix=None</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/mu.html#LambdaManager.list_functions"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.mu.LambdaManager.list_functions" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="c7n.mu.LambdaManager.logs">
<code class="descname">logs</code><span class="sig-paren">(</span><em>func</em>, <em>start</em>, <em>end</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/mu.html#LambdaManager.logs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.mu.LambdaManager.logs" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="c7n.mu.LambdaManager.metrics">
<code class="descname">metrics</code><span class="sig-paren">(</span><em>funcs</em>, <em>start</em>, <em>end</em>, <em>period=300</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/mu.html#LambdaManager.metrics"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.mu.LambdaManager.metrics" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="c7n.mu.LambdaManager.publish">
<code class="descname">publish</code><span class="sig-paren">(</span><em>func</em>, <em>alias=None</em>, <em>role=None</em>, <em>s3_uri=None</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/mu.html#LambdaManager.publish"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.mu.LambdaManager.publish" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="c7n.mu.LambdaManager.publish_alias">
<code class="descname">publish_alias</code><span class="sig-paren">(</span><em>func_data</em>, <em>alias</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/mu.html#LambdaManager.publish_alias"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.mu.LambdaManager.publish_alias" title="Permalink to this definition">¶</a></dt>
<dd><p>Create or update an alias for the given function.</p>
</dd></dl>

<dl class="method">
<dt id="c7n.mu.LambdaManager.remove">
<code class="descname">remove</code><span class="sig-paren">(</span><em>func</em>, <em>alias=None</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/mu.html#LambdaManager.remove"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.mu.LambdaManager.remove" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="c7n.mu.PolicyLambda">
<em class="property">class </em><code class="descclassname">c7n.mu.</code><code class="descname">PolicyLambda</code><span class="sig-paren">(</span><em>policy</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/mu.html#PolicyLambda"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.mu.PolicyLambda" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#c7n.mu.AbstractLambdaFunction" title="c7n.mu.AbstractLambdaFunction"><code class="xref py py-class docutils literal notranslate"><span class="pre">c7n.mu.AbstractLambdaFunction</span></code></a></p>
<p>Wraps a custodian policy to turn it into a lambda function.</p>
<dl class="attribute">
<dt id="c7n.mu.PolicyLambda.concurrency">
<code class="descname">concurrency</code><a class="headerlink" href="#c7n.mu.PolicyLambda.concurrency" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="c7n.mu.PolicyLambda.dead_letter_config">
<code class="descname">dead_letter_config</code><a class="headerlink" href="#c7n.mu.PolicyLambda.dead_letter_config" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="c7n.mu.PolicyLambda.description">
<code class="descname">description</code><a class="headerlink" href="#c7n.mu.PolicyLambda.description" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="c7n.mu.PolicyLambda.environment">
<code class="descname">environment</code><a class="headerlink" href="#c7n.mu.PolicyLambda.environment" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="c7n.mu.PolicyLambda.get_archive">
<code class="descname">get_archive</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/mu.html#PolicyLambda.get_archive"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.mu.PolicyLambda.get_archive" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the lambda distribution archive object.</p>
</dd></dl>

<dl class="method">
<dt id="c7n.mu.PolicyLambda.get_events">
<code class="descname">get_events</code><span class="sig-paren">(</span><em>session_factory</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/mu.html#PolicyLambda.get_events"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.mu.PolicyLambda.get_events" title="Permalink to this definition">¶</a></dt>
<dd><p>event sources that should be bound to this lambda.</p>
</dd></dl>

<dl class="attribute">
<dt id="c7n.mu.PolicyLambda.handler">
<code class="descname">handler</code><em class="property"> = 'custodian_policy.run'</em><a class="headerlink" href="#c7n.mu.PolicyLambda.handler" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="c7n.mu.PolicyLambda.kms_key_arn">
<code class="descname">kms_key_arn</code><a class="headerlink" href="#c7n.mu.PolicyLambda.kms_key_arn" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="c7n.mu.PolicyLambda.layers">
<code class="descname">layers</code><a class="headerlink" href="#c7n.mu.PolicyLambda.layers" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="c7n.mu.PolicyLambda.memory_size">
<code class="descname">memory_size</code><a class="headerlink" href="#c7n.mu.PolicyLambda.memory_size" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="c7n.mu.PolicyLambda.name">
<code class="descname">name</code><a class="headerlink" href="#c7n.mu.PolicyLambda.name" title="Permalink to this definition">¶</a></dt>
<dd><p>Name for the lambda function</p>
</dd></dl>

<dl class="attribute">
<dt id="c7n.mu.PolicyLambda.packages">
<code class="descname">packages</code><a class="headerlink" href="#c7n.mu.PolicyLambda.packages" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="c7n.mu.PolicyLambda.role">
<code class="descname">role</code><a class="headerlink" href="#c7n.mu.PolicyLambda.role" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="c7n.mu.PolicyLambda.runtime">
<code class="descname">runtime</code><a class="headerlink" href="#c7n.mu.PolicyLambda.runtime" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="c7n.mu.PolicyLambda.security_groups">
<code class="descname">security_groups</code><a class="headerlink" href="#c7n.mu.PolicyLambda.security_groups" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="c7n.mu.PolicyLambda.subnets">
<code class="descname">subnets</code><a class="headerlink" href="#c7n.mu.PolicyLambda.subnets" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="c7n.mu.PolicyLambda.tags">
<code class="descname">tags</code><a class="headerlink" href="#c7n.mu.PolicyLambda.tags" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="c7n.mu.PolicyLambda.timeout">
<code class="descname">timeout</code><a class="headerlink" href="#c7n.mu.PolicyLambda.timeout" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="c7n.mu.PolicyLambda.tracing_config">
<code class="descname">tracing_config</code><a class="headerlink" href="#c7n.mu.PolicyLambda.tracing_config" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="c7n.mu.PythonPackageArchive">
<em class="property">class </em><code class="descclassname">c7n.mu.</code><code class="descname">PythonPackageArchive</code><span class="sig-paren">(</span><em>*modules</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/mu.html#PythonPackageArchive"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.mu.PythonPackageArchive" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Creates a zip file for python lambda functions.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>modules</strong> (<em>tuple</em>) – the Python modules to add to the archive</td>
</tr>
</tbody>
</table>
<p>Amazon doesn’t give us straightforward docs here, only <a class="reference external" href="http://docs.aws.amazon.com/lambda/latest/dg/with-s3-example-deployment-pkg.html#with-s3-example-deployment-pkg-python">an example</a>,
from which we can infer that they simply unzip the file into a directory on
<code class="docutils literal notranslate"><span class="pre">sys.path</span></code>. So what we do is locate all of the <code class="docutils literal notranslate"><span class="pre">modules</span></code> specified, and
add all of the <code class="docutils literal notranslate"><span class="pre">.py</span></code> files we find for these modules to a zip file.</p>
<p>In addition to the modules specified during instantiation, you can add
arbitrary additional files to the archive using <a class="reference internal" href="#c7n.mu.PythonPackageArchive.add_file" title="c7n.mu.PythonPackageArchive.add_file"><code class="xref py py-func docutils literal notranslate"><span class="pre">add_file()</span></code></a> and
<a class="reference internal" href="#c7n.mu.PythonPackageArchive.add_contents" title="c7n.mu.PythonPackageArchive.add_contents"><code class="xref py py-func docutils literal notranslate"><span class="pre">add_contents()</span></code></a>. For example, since we only add <code class="docutils literal notranslate"><span class="pre">*.py</span></code> files for
you, you’ll need to manually add files for any compiled extension modules
that your Lambda requires.</p>
<dl class="method">
<dt id="c7n.mu.PythonPackageArchive.add_contents">
<code class="descname">add_contents</code><span class="sig-paren">(</span><em>dest</em>, <em>contents</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/mu.html#PythonPackageArchive.add_contents"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.mu.PythonPackageArchive.add_contents" title="Permalink to this definition">¶</a></dt>
<dd><p>Add file contents to the archive under <code class="docutils literal notranslate"><span class="pre">dest</span></code>.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">dest</span></code> is a path, it will be added compressed and world-readable
(user-writeable). You may also pass a <code class="xref py py-class docutils literal notranslate"><span class="pre">ZipInfo</span></code> for
custom behavior.</p>
</dd></dl>

<dl class="method">
<dt id="c7n.mu.PythonPackageArchive.add_directory">
<code class="descname">add_directory</code><span class="sig-paren">(</span><em>path</em>, <em>ignore=None</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/mu.html#PythonPackageArchive.add_directory"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.mu.PythonPackageArchive.add_directory" title="Permalink to this definition">¶</a></dt>
<dd><p>Add <code class="docutils literal notranslate"><span class="pre">*.py</span></code> files under the directory <code class="docutils literal notranslate"><span class="pre">path</span></code> to the archive.</p>
</dd></dl>

<dl class="method">
<dt id="c7n.mu.PythonPackageArchive.add_file">
<code class="descname">add_file</code><span class="sig-paren">(</span><em>src</em>, <em>dest=None</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/mu.html#PythonPackageArchive.add_file"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.mu.PythonPackageArchive.add_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Add the file at <code class="docutils literal notranslate"><span class="pre">src</span></code> to the archive.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">dest</span></code> is <code class="docutils literal notranslate"><span class="pre">None</span></code> then it is added under just the original
filename. So <code class="docutils literal notranslate"><span class="pre">add_file('foo/bar.txt')</span></code> ends up at <code class="docutils literal notranslate"><span class="pre">bar.txt</span></code> in the
archive, while <code class="docutils literal notranslate"><span class="pre">add_file('bar.txt',</span> <span class="pre">'foo/bar.txt')</span></code> ends up at
<code class="docutils literal notranslate"><span class="pre">foo/bar.txt</span></code>.</p>
</dd></dl>

<dl class="method">
<dt id="c7n.mu.PythonPackageArchive.add_modules">
<code class="descname">add_modules</code><span class="sig-paren">(</span><em>ignore</em>, <em>*modules</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/mu.html#PythonPackageArchive.add_modules"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.mu.PythonPackageArchive.add_modules" title="Permalink to this definition">¶</a></dt>
<dd><p>Add the named Python modules to the archive. For consistency’s sake
we only add <code class="docutils literal notranslate"><span class="pre">*.py</span></code> files, not <code class="docutils literal notranslate"><span class="pre">*.pyc</span></code>. We also don’t add other
files, including compiled modules. You’ll have to add such files
manually using <a class="reference internal" href="#c7n.mu.PythonPackageArchive.add_file" title="c7n.mu.PythonPackageArchive.add_file"><code class="xref py py-meth docutils literal notranslate"><span class="pre">add_file()</span></code></a>.</p>
</dd></dl>

<dl class="method">
<dt id="c7n.mu.PythonPackageArchive.add_py_file">
<code class="descname">add_py_file</code><span class="sig-paren">(</span><em>src</em>, <em>dest=None</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/mu.html#PythonPackageArchive.add_py_file"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.mu.PythonPackageArchive.add_py_file" title="Permalink to this definition">¶</a></dt>
<dd><p>This is a special case of <a class="reference internal" href="#c7n.mu.PythonPackageArchive.add_file" title="c7n.mu.PythonPackageArchive.add_file"><code class="xref py py-meth docutils literal notranslate"><span class="pre">add_file()</span></code></a> that helps for adding
a <code class="docutils literal notranslate"><span class="pre">py</span></code> when a <code class="docutils literal notranslate"><span class="pre">pyc</span></code> may be present as well. So for example, if
<code class="docutils literal notranslate"><span class="pre">__file__</span></code> is <code class="docutils literal notranslate"><span class="pre">foo.pyc</span></code> and you do:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">archive</span><span class="o">.</span><span class="n">add_py_file</span><span class="p">(</span><span class="vm">__file__</span><span class="p">)</span>
</pre></div>
</div>
<p>then this method will add <code class="docutils literal notranslate"><span class="pre">foo.py</span></code> instead if it exists, and raise
<code class="docutils literal notranslate"><span class="pre">IOError</span></code> if it doesn’t.</p>
</dd></dl>

<dl class="method">
<dt id="c7n.mu.PythonPackageArchive.close">
<code class="descname">close</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/mu.html#PythonPackageArchive.close"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.mu.PythonPackageArchive.close" title="Permalink to this definition">¶</a></dt>
<dd><p>Close the zip file.</p>
<p>Note underlying tempfile is removed when archive is garbage collected.</p>
</dd></dl>

<dl class="method">
<dt id="c7n.mu.PythonPackageArchive.get_bytes">
<code class="descname">get_bytes</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/mu.html#PythonPackageArchive.get_bytes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.mu.PythonPackageArchive.get_bytes" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the entire zip file as a byte string.</p>
</dd></dl>

<dl class="method">
<dt id="c7n.mu.PythonPackageArchive.get_checksum">
<code class="descname">get_checksum</code><span class="sig-paren">(</span><em>encoder=&lt;function b64encode&gt;</em>, <em>hasher=&lt;built-in function openssl_sha256&gt;</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/mu.html#PythonPackageArchive.get_checksum"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.mu.PythonPackageArchive.get_checksum" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the b64 encoded sha256 checksum of the archive.</p>
</dd></dl>

<dl class="method">
<dt id="c7n.mu.PythonPackageArchive.get_filenames">
<code class="descname">get_filenames</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/mu.html#PythonPackageArchive.get_filenames"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.mu.PythonPackageArchive.get_filenames" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of filenames in the archive.</p>
</dd></dl>

<dl class="method">
<dt id="c7n.mu.PythonPackageArchive.get_reader">
<code class="descname">get_reader</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/mu.html#PythonPackageArchive.get_reader"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.mu.PythonPackageArchive.get_reader" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a read-only <code class="xref py py-class docutils literal notranslate"><span class="pre">ZipFile</span></code>.</p>
</dd></dl>

<dl class="method">
<dt id="c7n.mu.PythonPackageArchive.get_stream">
<code class="descname">get_stream</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/mu.html#PythonPackageArchive.get_stream"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.mu.PythonPackageArchive.get_stream" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the entire zip file as a stream.</p>
</dd></dl>

<dl class="attribute">
<dt id="c7n.mu.PythonPackageArchive.path">
<code class="descname">path</code><a class="headerlink" href="#c7n.mu.PythonPackageArchive.path" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="c7n.mu.PythonPackageArchive.remove">
<code class="descname">remove</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/mu.html#PythonPackageArchive.remove"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.mu.PythonPackageArchive.remove" title="Permalink to this definition">¶</a></dt>
<dd><p>Dispose of the temp file for garbage collection.</p>
</dd></dl>

<dl class="attribute">
<dt id="c7n.mu.PythonPackageArchive.size">
<code class="descname">size</code><a class="headerlink" href="#c7n.mu.PythonPackageArchive.size" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="c7n.mu.PythonPackageArchive.zip_compression">
<code class="descname">zip_compression</code><em class="property"> = 8</em><a class="headerlink" href="#c7n.mu.PythonPackageArchive.zip_compression" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="c7n.mu.SNSSubscription">
<em class="property">class </em><code class="descclassname">c7n.mu.</code><code class="descname">SNSSubscription</code><span class="sig-paren">(</span><em>session_factory</em>, <em>topic_arns</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/mu.html#SNSSubscription"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.mu.SNSSubscription" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Subscribe a lambda to one or more SNS topics.</p>
<dl class="method">
<dt id="c7n.mu.SNSSubscription.add">
<code class="descname">add</code><span class="sig-paren">(</span><em>func</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/mu.html#SNSSubscription.add"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.mu.SNSSubscription.add" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="c7n.mu.SNSSubscription.iam_delay">
<code class="descname">iam_delay</code><em class="property"> = 1.5</em><a class="headerlink" href="#c7n.mu.SNSSubscription.iam_delay" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="c7n.mu.SNSSubscription.remove">
<code class="descname">remove</code><span class="sig-paren">(</span><em>func</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/mu.html#SNSSubscription.remove"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.mu.SNSSubscription.remove" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="c7n.mu.SQSSubscription">
<em class="property">class </em><code class="descclassname">c7n.mu.</code><code class="descname">SQSSubscription</code><span class="sig-paren">(</span><em>session_factory</em>, <em>queue_arns</em>, <em>batch_size=10</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/mu.html#SQSSubscription"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.mu.SQSSubscription" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Subscribe a lambda to one or more SQS queues.</p>
<dl class="method">
<dt id="c7n.mu.SQSSubscription.add">
<code class="descname">add</code><span class="sig-paren">(</span><em>func</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/mu.html#SQSSubscription.add"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.mu.SQSSubscription.add" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="c7n.mu.SQSSubscription.remove">
<code class="descname">remove</code><span class="sig-paren">(</span><em>func</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/mu.html#SQSSubscription.remove"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.mu.SQSSubscription.remove" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="function">
<dt id="c7n.mu.checksum">
<code class="descclassname">c7n.mu.</code><code class="descname">checksum</code><span class="sig-paren">(</span><em>fh</em>, <em>hasher</em>, <em>blocksize=65536</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/mu.html#checksum"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.mu.checksum" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="c7n.mu.custodian_archive">
<code class="descclassname">c7n.mu.</code><code class="descname">custodian_archive</code><span class="sig-paren">(</span><em>packages=None</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/mu.html#custodian_archive"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.mu.custodian_archive" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a lambda code archive for running custodian.</p>
<p>Lambda archive currently always includes <cite>c7n</cite> and
<cite>pkg_resources</cite>. Add additional packages in the mode block.</p>
<p>Example policy that includes additional packages</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">policy</span><span class="p p-Indicator">:</span>
  <span class="l l-Scalar l-Scalar-Plain">name</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">lambda-archive-example</span>
  <span class="l l-Scalar l-Scalar-Plain">resource</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">s3</span>
  <span class="l l-Scalar l-Scalar-Plain">mode</span><span class="p p-Indicator">:</span>
    <span class="l l-Scalar l-Scalar-Plain">packages</span><span class="p p-Indicator">:</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">botocore</span>
</pre></div>
</div>
<p>packages: List of additional packages to include in the lambda archive.</p>
</dd></dl>

<dl class="function">
<dt id="c7n.mu.resource_exists">
<code class="descclassname">c7n.mu.</code><code class="descname">resource_exists</code><span class="sig-paren">(</span><em>op</em>, <em>NotFound='ResourceNotFoundException'</em>, <em>*args</em>, <em>**kw</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/mu.html#resource_exists"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.mu.resource_exists" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="c7n.mu.zinfo">
<code class="descclassname">c7n.mu.</code><code class="descname">zinfo</code><span class="sig-paren">(</span><em>fname</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/mu.html#zinfo"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.mu.zinfo" title="Permalink to this definition">¶</a></dt>
<dd><p>Amazon lambda exec environment setup can break itself
if zip files aren’t constructed a particular way.</p>
<p>ie. It respects file perm attributes from the zip including
those that prevent lambda from working. Namely lambda
extracts code as one user, and executes code as a different
user. Without permissions for the executing user to read
the file the lambda function is broken.</p>
<p>Python’s default zipfile.writestr does a 0600 perm which
we modify here as a workaround.</p>
</dd></dl>

</div>
<div class="section" id="module-c7n.output">
<span id="c7n-output-module"></span><h2>c7n.output module<a class="headerlink" href="#module-c7n.output" title="Permalink to this headline">¶</a></h2>
<p>Outputs metrics, logs, stats, traces, and structured records across
a variety of sinks.</p>
<p>See docs/usage/outputs.rst</p>
<dl class="class">
<dt id="c7n.output.BlobOutputRegistry">
<em class="property">class </em><code class="descclassname">c7n.output.</code><code class="descname">BlobOutputRegistry</code><span class="sig-paren">(</span><em>plugin_type</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/output.html#BlobOutputRegistry"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.output.BlobOutputRegistry" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#c7n.output.OutputRegistry" title="c7n.output.OutputRegistry"><code class="xref py py-class docutils literal notranslate"><span class="pre">c7n.output.OutputRegistry</span></code></a></p>
<dl class="attribute">
<dt id="c7n.output.BlobOutputRegistry.default_protocol">
<code class="descname">default_protocol</code><em class="property"> = 'file'</em><a class="headerlink" href="#c7n.output.BlobOutputRegistry.default_protocol" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="c7n.output.DeltaStats">
<em class="property">class </em><code class="descclassname">c7n.output.</code><code class="descname">DeltaStats</code><span class="sig-paren">(</span><em>ctx</em>, <em>config=None</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/output.html#DeltaStats"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.output.DeltaStats" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Capture stats (dictionary of string-&gt;integer) as a stack.</p>
<p>Popping the stack automatically creates a delta of the last
stack element to the current stats.</p>
<dl class="method">
<dt id="c7n.output.DeltaStats.delta">
<code class="descname">delta</code><span class="sig-paren">(</span><em>before</em>, <em>after</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/output.html#DeltaStats.delta"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.output.DeltaStats.delta" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="c7n.output.DeltaStats.get_snapshot">
<code class="descname">get_snapshot</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/output.html#DeltaStats.get_snapshot"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.output.DeltaStats.get_snapshot" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="c7n.output.DeltaStats.pop_snapshot">
<code class="descname">pop_snapshot</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/output.html#DeltaStats.pop_snapshot"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.output.DeltaStats.pop_snapshot" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="c7n.output.DeltaStats.push_snapshot">
<code class="descname">push_snapshot</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/output.html#DeltaStats.push_snapshot"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.output.DeltaStats.push_snapshot" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="c7n.output.DirectoryOutput">
<em class="property">class </em><code class="descclassname">c7n.output.</code><code class="descname">DirectoryOutput</code><span class="sig-paren">(</span><em>ctx</em>, <em>config</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/output.html#DirectoryOutput"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.output.DirectoryOutput" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="method">
<dt id="c7n.output.DirectoryOutput.compress">
<code class="descname">compress</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/output.html#DirectoryOutput.compress"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.output.DirectoryOutput.compress" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="c7n.output.DirectoryOutput.get_output_path">
<code class="descname">get_output_path</code><span class="sig-paren">(</span><em>output_url</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/output.html#DirectoryOutput.get_output_path"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.output.DirectoryOutput.get_output_path" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="c7n.output.DirectoryOutput.get_output_vars">
<code class="descname">get_output_vars</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/output.html#DirectoryOutput.get_output_vars"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.output.DirectoryOutput.get_output_vars" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="c7n.output.DirectoryOutput.get_resource_set">
<code class="descname">get_resource_set</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/output.html#DirectoryOutput.get_resource_set"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.output.DirectoryOutput.get_resource_set" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="c7n.output.DirectoryOutput.permissions">
<code class="descname">permissions</code><em class="property"> = ()</em><a class="headerlink" href="#c7n.output.DirectoryOutput.permissions" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="c7n.output.DirectoryOutput.type">
<code class="descname">type</code><em class="property"> = 'file'</em><a class="headerlink" href="#c7n.output.DirectoryOutput.type" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="c7n.output.LogFile">
<em class="property">class </em><code class="descclassname">c7n.output.</code><code class="descname">LogFile</code><span class="sig-paren">(</span><em>ctx</em>, <em>config=None</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/output.html#LogFile"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.output.LogFile" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#c7n.output.LogOutput" title="c7n.output.LogOutput"><code class="xref py py-class docutils literal notranslate"><span class="pre">c7n.output.LogOutput</span></code></a></p>
<dl class="method">
<dt id="c7n.output.LogFile.get_handler">
<code class="descname">get_handler</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/output.html#LogFile.get_handler"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.output.LogFile.get_handler" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="c7n.output.LogFile.log_path">
<code class="descname">log_path</code><a class="headerlink" href="#c7n.output.LogFile.log_path" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="c7n.output.LogFile.type">
<code class="descname">type</code><em class="property"> = 'default'</em><a class="headerlink" href="#c7n.output.LogFile.type" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="c7n.output.LogMetrics">
<em class="property">class </em><code class="descclassname">c7n.output.</code><code class="descname">LogMetrics</code><span class="sig-paren">(</span><em>ctx</em>, <em>config=None</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/output.html#LogMetrics"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.output.LogMetrics" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#c7n.output.Metrics" title="c7n.output.Metrics"><code class="xref py py-class docutils literal notranslate"><span class="pre">c7n.output.Metrics</span></code></a></p>
<p>Default metrics collection.</p>
<p>logs metrics, default handler should send to stderr</p>
<dl class="method">
<dt id="c7n.output.LogMetrics.get_metadata">
<code class="descname">get_metadata</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/output.html#LogMetrics.get_metadata"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.output.LogMetrics.get_metadata" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="c7n.output.LogMetrics.render_metric">
<code class="descname">render_metric</code><span class="sig-paren">(</span><em>m</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/output.html#LogMetrics.render_metric"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.output.LogMetrics.render_metric" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="c7n.output.LogMetrics.type">
<code class="descname">type</code><em class="property"> = 'default'</em><a class="headerlink" href="#c7n.output.LogMetrics.type" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="c7n.output.LogOutput">
<em class="property">class </em><code class="descclassname">c7n.output.</code><code class="descname">LogOutput</code><span class="sig-paren">(</span><em>ctx</em>, <em>config=None</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/output.html#LogOutput"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.output.LogOutput" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="method">
<dt id="c7n.output.LogOutput.get_handler">
<code class="descname">get_handler</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/output.html#LogOutput.get_handler"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.output.LogOutput.get_handler" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="c7n.output.LogOutput.join_log">
<code class="descname">join_log</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/output.html#LogOutput.join_log"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.output.LogOutput.join_log" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="c7n.output.LogOutput.leave_log">
<code class="descname">leave_log</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/output.html#LogOutput.leave_log"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.output.LogOutput.leave_log" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="c7n.output.LogOutput.log_format">
<code class="descname">log_format</code><em class="property"> = '%(asctime)s - %(name)s - %(levelname)s - %(message)s'</em><a class="headerlink" href="#c7n.output.LogOutput.log_format" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="c7n.output.LogOutputRegistry">
<em class="property">class </em><code class="descclassname">c7n.output.</code><code class="descname">LogOutputRegistry</code><span class="sig-paren">(</span><em>plugin_type</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/output.html#LogOutputRegistry"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.output.LogOutputRegistry" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#c7n.output.OutputRegistry" title="c7n.output.OutputRegistry"><code class="xref py py-class docutils literal notranslate"><span class="pre">c7n.output.OutputRegistry</span></code></a></p>
<dl class="attribute">
<dt id="c7n.output.LogOutputRegistry.default_protocol">
<code class="descname">default_protocol</code><em class="property"> = 'aws'</em><a class="headerlink" href="#c7n.output.LogOutputRegistry.default_protocol" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="c7n.output.Metrics">
<em class="property">class </em><code class="descclassname">c7n.output.</code><code class="descname">Metrics</code><span class="sig-paren">(</span><em>ctx</em>, <em>config=None</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/output.html#Metrics"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.output.Metrics" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="attribute">
<dt id="c7n.output.Metrics.BUFFER_SIZE">
<code class="descname">BUFFER_SIZE</code><em class="property"> = 20</em><a class="headerlink" href="#c7n.output.Metrics.BUFFER_SIZE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="c7n.output.Metrics.flush">
<code class="descname">flush</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/output.html#Metrics.flush"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.output.Metrics.flush" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="c7n.output.Metrics.get_metadata">
<code class="descname">get_metadata</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/output.html#Metrics.get_metadata"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.output.Metrics.get_metadata" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="c7n.output.Metrics.namespace">
<code class="descname">namespace</code><em class="property"> = 'CloudMaid'</em><a class="headerlink" href="#c7n.output.Metrics.namespace" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="c7n.output.Metrics.permissions">
<code class="descname">permissions</code><em class="property"> = ()</em><a class="headerlink" href="#c7n.output.Metrics.permissions" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="c7n.output.Metrics.put_metric">
<code class="descname">put_metric</code><span class="sig-paren">(</span><em>key</em>, <em>value</em>, <em>unit</em>, <em>buffer=True</em>, <em>**dimensions</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/output.html#Metrics.put_metric"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.output.Metrics.put_metric" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="c7n.output.MetricsRegistry">
<em class="property">class </em><code class="descclassname">c7n.output.</code><code class="descname">MetricsRegistry</code><span class="sig-paren">(</span><em>plugin_type</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/output.html#MetricsRegistry"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.output.MetricsRegistry" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#c7n.output.OutputRegistry" title="c7n.output.OutputRegistry"><code class="xref py py-class docutils literal notranslate"><span class="pre">c7n.output.OutputRegistry</span></code></a></p>
<dl class="method">
<dt id="c7n.output.MetricsRegistry.select">
<code class="descname">select</code><span class="sig-paren">(</span><em>selector</em>, <em>ctx</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/output.html#MetricsRegistry.select"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.output.MetricsRegistry.select" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="c7n.output.NullStats">
<em class="property">class </em><code class="descclassname">c7n.output.</code><code class="descname">NullStats</code><span class="sig-paren">(</span><em>ctx</em>, <em>config=None</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/output.html#NullStats"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.output.NullStats" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Execution statistics/metrics collection.</p>
<p>Encompasses concrete implementations over system stats (memory, cpu, cache size)
and api calls.</p>
<p>The api supports stack nested snapshots, with delta consumption to support
tracing metadata annotation across nested subsegments.</p>
<dl class="method">
<dt id="c7n.output.NullStats.get_metadata">
<code class="descname">get_metadata</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/output.html#NullStats.get_metadata"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.output.NullStats.get_metadata" title="Permalink to this definition">¶</a></dt>
<dd><p>Return default of current to last snapshot, without popping.</p>
</dd></dl>

<dl class="method">
<dt id="c7n.output.NullStats.pop_snapshot">
<code class="descname">pop_snapshot</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/output.html#NullStats.pop_snapshot"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.output.NullStats.pop_snapshot" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove a snapshot from the snack and return a delta of the current stats to it.</p>
</dd></dl>

<dl class="method">
<dt id="c7n.output.NullStats.push_snapshot">
<code class="descname">push_snapshot</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/output.html#NullStats.push_snapshot"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.output.NullStats.push_snapshot" title="Permalink to this definition">¶</a></dt>
<dd><p>Take a snapshot of the system stats and append to the stack.</p>
</dd></dl>

<dl class="attribute">
<dt id="c7n.output.NullStats.type">
<code class="descname">type</code><em class="property"> = 'default'</em><a class="headerlink" href="#c7n.output.NullStats.type" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="c7n.output.NullTracer">
<em class="property">class </em><code class="descclassname">c7n.output.</code><code class="descname">NullTracer</code><span class="sig-paren">(</span><em>ctx</em>, <em>config=None</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/output.html#NullTracer"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.output.NullTracer" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Tracing provides for detailed analytics of a policy execution.</p>
<p>Uses native cloud provider integration (xray, stack driver trace).</p>
<dl class="method">
<dt id="c7n.output.NullTracer.subsegment">
<code class="descname">subsegment</code><span class="sig-paren">(</span><em>name</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/output.html#NullTracer.subsegment"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.output.NullTracer.subsegment" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a named subsegment as a context manager</p>
</dd></dl>

<dl class="attribute">
<dt id="c7n.output.NullTracer.type">
<code class="descname">type</code><em class="property"> = 'default'</em><a class="headerlink" href="#c7n.output.NullTracer.type" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="c7n.output.OutputRegistry">
<em class="property">class </em><code class="descclassname">c7n.output.</code><code class="descname">OutputRegistry</code><span class="sig-paren">(</span><em>plugin_type</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/output.html#OutputRegistry"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.output.OutputRegistry" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#c7n.registry.PluginRegistry" title="c7n.registry.PluginRegistry"><code class="xref py py-class docutils literal notranslate"><span class="pre">c7n.registry.PluginRegistry</span></code></a></p>
<dl class="attribute">
<dt id="c7n.output.OutputRegistry.default_protocol">
<code class="descname">default_protocol</code><em class="property"> = None</em><a class="headerlink" href="#c7n.output.OutputRegistry.default_protocol" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="c7n.output.OutputRegistry.select">
<code class="descname">select</code><span class="sig-paren">(</span><em>selector</em>, <em>ctx</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/output.html#OutputRegistry.select"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.output.OutputRegistry.select" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="c7n.output.SystemStats">
<em class="property">class </em><code class="descclassname">c7n.output.</code><code class="descname">SystemStats</code><span class="sig-paren">(</span><em>ctx</em>, <em>config=None</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/output.html#SystemStats"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.output.SystemStats" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#c7n.output.DeltaStats" title="c7n.output.DeltaStats"><code class="xref py py-class docutils literal notranslate"><span class="pre">c7n.output.DeltaStats</span></code></a></p>
<p>Collect process statistics via psutil as deltas over policy execution.</p>
<dl class="method">
<dt id="c7n.output.SystemStats.get_metadata">
<code class="descname">get_metadata</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/output.html#SystemStats.get_metadata"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.output.SystemStats.get_metadata" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="c7n.output.SystemStats.get_snapshot">
<code class="descname">get_snapshot</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/output.html#SystemStats.get_snapshot"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.output.SystemStats.get_snapshot" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="c7n.output.SystemStats.type">
<code class="descname">type</code><em class="property"> = 'psutil'</em><a class="headerlink" href="#c7n.output.SystemStats.type" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-c7n.policy">
<span id="c7n-policy-module"></span><h2>c7n.policy module<a class="headerlink" href="#module-c7n.policy" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="c7n.policy.ASGInstanceState">
<em class="property">class </em><code class="descclassname">c7n.policy.</code><code class="descname">ASGInstanceState</code><span class="sig-paren">(</span><em>policy</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/policy.html#ASGInstanceState"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.policy.ASGInstanceState" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#c7n.policy.LambdaMode" title="c7n.policy.LambdaMode"><code class="xref py py-class docutils literal notranslate"><span class="pre">c7n.policy.LambdaMode</span></code></a></p>
<p>a lambda policy that executes on an asg’s ec2 instance state changes.</p>
<dl class="attribute">
<dt id="c7n.policy.ASGInstanceState.schema">
<code class="descname">schema</code><em class="property"> = {'additionalProperties': False, 'properties': {'concurrency': {'type': 'integer'}, 'dead_letter_config': {'type': 'object'}, 'environment': {'type': 'object'}, 'events': {'items': {'enum': ['launch-success', 'launch-failure', 'terminate-success', 'terminate-failure']}, 'type': 'array'}, 'execution-options': {'type': 'object'}, 'function-prefix': {'type': 'string'}, 'kms_key_arn': {'type': 'string'}, 'layers': {'items': {'type': 'string'}, 'type': 'array'}, 'member-role': {'type': 'string'}, 'memory': {'type': 'number'}, 'packages': {'items': {'type': 'string'}, 'type': 'array'}, 'role': {'type': 'string'}, 'runtime': {'enum': ['python2.7', 'python3.6', 'python3.7']}, 'security_groups': {'type': 'array'}, 'subnets': {'type': 'array'}, 'tags': {'type': 'object'}, 'timeout': {'type': 'number'}, 'tracing_config': {'type': 'object'}, 'type': {'enum': ['asg-instance-state']}}, 'required': ['type'], 'type': 'object'}</em><a class="headerlink" href="#c7n.policy.ASGInstanceState.schema" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="c7n.policy.ASGInstanceState.type">
<code class="descname">type</code><em class="property"> = 'asg-instance-state'</em><a class="headerlink" href="#c7n.policy.ASGInstanceState.type" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="c7n.policy.CloudTrailMode">
<em class="property">class </em><code class="descclassname">c7n.policy.</code><code class="descname">CloudTrailMode</code><span class="sig-paren">(</span><em>policy</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/policy.html#CloudTrailMode"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.policy.CloudTrailMode" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#c7n.policy.LambdaMode" title="c7n.policy.LambdaMode"><code class="xref py py-class docutils literal notranslate"><span class="pre">c7n.policy.LambdaMode</span></code></a></p>
<p>A lambda policy using cloudwatch events rules on cloudtrail api logs.</p>
<dl class="attribute">
<dt id="c7n.policy.CloudTrailMode.schema">
<code class="descname">schema</code><em class="property"> = {'additionalProperties': False, 'properties': {'concurrency': {'type': 'integer'}, 'dead_letter_config': {'type': 'object'}, 'environment': {'type': 'object'}, 'events': {'items': {'oneOf': [{'type': 'string'}, {'type': 'object', 'required': ['event', 'source', 'ids'], 'properties': {'source': {'type': 'string'}, 'ids': {'type': 'string'}, 'event': {'type': 'string'}}}]}, 'type': 'array'}, 'execution-options': {'type': 'object'}, 'function-prefix': {'type': 'string'}, 'kms_key_arn': {'type': 'string'}, 'layers': {'items': {'type': 'string'}, 'type': 'array'}, 'member-role': {'type': 'string'}, 'memory': {'type': 'number'}, 'packages': {'items': {'type': 'string'}, 'type': 'array'}, 'role': {'type': 'string'}, 'runtime': {'enum': ['python2.7', 'python3.6', 'python3.7']}, 'security_groups': {'type': 'array'}, 'subnets': {'type': 'array'}, 'tags': {'type': 'object'}, 'timeout': {'type': 'number'}, 'tracing_config': {'type': 'object'}, 'type': {'enum': ['cloudtrail']}}, 'required': ['type'], 'type': 'object'}</em><a class="headerlink" href="#c7n.policy.CloudTrailMode.schema" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="c7n.policy.CloudTrailMode.type">
<code class="descname">type</code><em class="property"> = 'cloudtrail'</em><a class="headerlink" href="#c7n.policy.CloudTrailMode.type" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="c7n.policy.CloudTrailMode.validate">
<code class="descname">validate</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/policy.html#CloudTrailMode.validate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.policy.CloudTrailMode.validate" title="Permalink to this definition">¶</a></dt>
<dd><p>Validate configuration settings for execution mode.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="c7n.policy.ConfigRuleMode">
<em class="property">class </em><code class="descclassname">c7n.policy.</code><code class="descname">ConfigRuleMode</code><span class="sig-paren">(</span><em>policy</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/policy.html#ConfigRuleMode"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.policy.ConfigRuleMode" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#c7n.policy.LambdaMode" title="c7n.policy.LambdaMode"><code class="xref py py-class docutils literal notranslate"><span class="pre">c7n.policy.LambdaMode</span></code></a></p>
<p>a lambda policy that executes as a config service rule.
<a class="reference external" href="http://docs.aws.amazon.com/config/latest/APIReference/API_PutConfigRule.html">http://docs.aws.amazon.com/config/latest/APIReference/API_PutConfigRule.html</a></p>
<dl class="attribute">
<dt id="c7n.policy.ConfigRuleMode.cfg_event">
<code class="descname">cfg_event</code><em class="property"> = None</em><a class="headerlink" href="#c7n.policy.ConfigRuleMode.cfg_event" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="c7n.policy.ConfigRuleMode.resolve_resources">
<code class="descname">resolve_resources</code><span class="sig-paren">(</span><em>event</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/policy.html#ConfigRuleMode.resolve_resources"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.policy.ConfigRuleMode.resolve_resources" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="c7n.policy.ConfigRuleMode.run">
<code class="descname">run</code><span class="sig-paren">(</span><em>event</em>, <em>lambda_context</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/policy.html#ConfigRuleMode.run"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.policy.ConfigRuleMode.run" title="Permalink to this definition">¶</a></dt>
<dd><p>Run policy in push mode against given event.</p>
<p>Lambda automatically generates cloud watch logs, and metrics
for us, albeit with some deficienies, metrics no longer count
against valid resources matches, but against execution.</p>
<p>If metrics execution option is enabled, custodian will generate
metrics per normal.</p>
</dd></dl>

<dl class="attribute">
<dt id="c7n.policy.ConfigRuleMode.schema">
<code class="descname">schema</code><em class="property"> = {'additionalProperties': False, 'properties': {'concurrency': {'type': 'integer'}, 'dead_letter_config': {'type': 'object'}, 'environment': {'type': 'object'}, 'execution-options': {'type': 'object'}, 'function-prefix': {'type': 'string'}, 'kms_key_arn': {'type': 'string'}, 'layers': {'items': {'type': 'string'}, 'type': 'array'}, 'member-role': {'type': 'string'}, 'memory': {'type': 'number'}, 'packages': {'items': {'type': 'string'}, 'type': 'array'}, 'role': {'type': 'string'}, 'runtime': {'enum': ['python2.7', 'python3.6', 'python3.7']}, 'security_groups': {'type': 'array'}, 'subnets': {'type': 'array'}, 'tags': {'type': 'object'}, 'timeout': {'type': 'number'}, 'tracing_config': {'type': 'object'}, 'type': {'enum': ['config-rule']}}, 'required': ['type'], 'type': 'object'}</em><a class="headerlink" href="#c7n.policy.ConfigRuleMode.schema" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="c7n.policy.ConfigRuleMode.type">
<code class="descname">type</code><em class="property"> = 'config-rule'</em><a class="headerlink" href="#c7n.policy.ConfigRuleMode.type" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="c7n.policy.EC2InstanceState">
<em class="property">class </em><code class="descclassname">c7n.policy.</code><code class="descname">EC2InstanceState</code><span class="sig-paren">(</span><em>policy</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/policy.html#EC2InstanceState"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.policy.EC2InstanceState" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#c7n.policy.LambdaMode" title="c7n.policy.LambdaMode"><code class="xref py py-class docutils literal notranslate"><span class="pre">c7n.policy.LambdaMode</span></code></a></p>
<p>A lambda policy that executes on ec2 instance state changes.</p>
<p><a class="reference external" href="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ec2-instance-lifecycle.html">https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ec2-instance-lifecycle.html</a></p>
<dl class="attribute">
<dt id="c7n.policy.EC2InstanceState.schema">
<code class="descname">schema</code><em class="property"> = {'additionalProperties': False, 'properties': {'concurrency': {'type': 'integer'}, 'dead_letter_config': {'type': 'object'}, 'environment': {'type': 'object'}, 'events': {'items': {'enum': ['pending', 'running', 'shutting-down', 'stopped', 'stopping', 'terminated']}, 'type': 'array'}, 'execution-options': {'type': 'object'}, 'function-prefix': {'type': 'string'}, 'kms_key_arn': {'type': 'string'}, 'layers': {'items': {'type': 'string'}, 'type': 'array'}, 'member-role': {'type': 'string'}, 'memory': {'type': 'number'}, 'packages': {'items': {'type': 'string'}, 'type': 'array'}, 'role': {'type': 'string'}, 'runtime': {'enum': ['python2.7', 'python3.6', 'python3.7']}, 'security_groups': {'type': 'array'}, 'subnets': {'type': 'array'}, 'tags': {'type': 'object'}, 'timeout': {'type': 'number'}, 'tracing_config': {'type': 'object'}, 'type': {'enum': ['ec2-instance-state']}}, 'required': ['type'], 'type': 'object'}</em><a class="headerlink" href="#c7n.policy.EC2InstanceState.schema" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="c7n.policy.EC2InstanceState.type">
<code class="descname">type</code><em class="property"> = 'ec2-instance-state'</em><a class="headerlink" href="#c7n.policy.EC2InstanceState.type" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="c7n.policy.GuardDutyMode">
<em class="property">class </em><code class="descclassname">c7n.policy.</code><code class="descname">GuardDutyMode</code><span class="sig-paren">(</span><em>policy</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/policy.html#GuardDutyMode"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.policy.GuardDutyMode" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#c7n.policy.LambdaMode" title="c7n.policy.LambdaMode"><code class="xref py py-class docutils literal notranslate"><span class="pre">c7n.policy.LambdaMode</span></code></a></p>
<p>Incident Response for AWS Guard Duty</p>
<dl class="method">
<dt id="c7n.policy.GuardDutyMode.get_member_account_id">
<code class="descname">get_member_account_id</code><span class="sig-paren">(</span><em>event</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/policy.html#GuardDutyMode.get_member_account_id"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.policy.GuardDutyMode.get_member_account_id" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="c7n.policy.GuardDutyMode.id_exprs">
<code class="descname">id_exprs</code><em class="property"> = {'account': {'type': 'subexpression', 'children': [{'type': 'field', 'children': [], 'value': 'detail'}, {'type': 'field', 'children': [], 'value': 'accountId'}]}, 'ec2': {'type': 'subexpression', 'children': [{'type': 'field', 'children': [], 'value': 'detail'}, {'type': 'field', 'children': [], 'value': 'resource'}, {'type': 'field', 'children': [], 'value': 'instanceDetails'}, {'type': 'field', 'children': [], 'value': 'instanceId'}]}, 'iam-user': {'type': 'subexpression', 'children': [{'type': 'field', 'children': [], 'value': 'detail'}, {'type': 'field', 'children': [], 'value': 'resource'}, {'type': 'field', 'children': [], 'value': 'accessKeyDetails'}, {'type': 'field', 'children': [], 'value': 'userName'}]}}</em><a class="headerlink" href="#c7n.policy.GuardDutyMode.id_exprs" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="c7n.policy.GuardDutyMode.provision">
<code class="descname">provision</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/policy.html#GuardDutyMode.provision"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.policy.GuardDutyMode.provision" title="Permalink to this definition">¶</a></dt>
<dd><p>Provision any resources needed for the policy.</p>
</dd></dl>

<dl class="method">
<dt id="c7n.policy.GuardDutyMode.resolve_resources">
<code class="descname">resolve_resources</code><span class="sig-paren">(</span><em>event</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/policy.html#GuardDutyMode.resolve_resources"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.policy.GuardDutyMode.resolve_resources" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="c7n.policy.GuardDutyMode.schema">
<code class="descname">schema</code><em class="property"> = {'additionalProperties': False, 'properties': {'concurrency': {'type': 'integer'}, 'dead_letter_config': {'type': 'object'}, 'environment': {'type': 'object'}, 'execution-options': {'type': 'object'}, 'function-prefix': {'type': 'string'}, 'kms_key_arn': {'type': 'string'}, 'layers': {'items': {'type': 'string'}, 'type': 'array'}, 'member-role': {'type': 'string'}, 'memory': {'type': 'number'}, 'packages': {'items': {'type': 'string'}, 'type': 'array'}, 'role': {'type': 'string'}, 'runtime': {'enum': ['python2.7', 'python3.6', 'python3.7']}, 'security_groups': {'type': 'array'}, 'subnets': {'type': 'array'}, 'tags': {'type': 'object'}, 'timeout': {'type': 'number'}, 'tracing_config': {'type': 'object'}, 'type': {'enum': ['guard-duty']}}, 'required': ['type'], 'type': 'object'}</em><a class="headerlink" href="#c7n.policy.GuardDutyMode.schema" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="c7n.policy.GuardDutyMode.supported_resources">
<code class="descname">supported_resources</code><em class="property"> = ('account', 'ec2', 'iam-user')</em><a class="headerlink" href="#c7n.policy.GuardDutyMode.supported_resources" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="c7n.policy.GuardDutyMode.type">
<code class="descname">type</code><em class="property"> = 'guard-duty'</em><a class="headerlink" href="#c7n.policy.GuardDutyMode.type" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="c7n.policy.GuardDutyMode.validate">
<code class="descname">validate</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/policy.html#GuardDutyMode.validate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.policy.GuardDutyMode.validate" title="Permalink to this definition">¶</a></dt>
<dd><p>Validate configuration settings for execution mode.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="c7n.policy.LambdaMode">
<em class="property">class </em><code class="descclassname">c7n.policy.</code><code class="descname">LambdaMode</code><span class="sig-paren">(</span><em>policy</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/policy.html#LambdaMode"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.policy.LambdaMode" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#c7n.policy.ServerlessExecutionMode" title="c7n.policy.ServerlessExecutionMode"><code class="xref py py-class docutils literal notranslate"><span class="pre">c7n.policy.ServerlessExecutionMode</span></code></a></p>
<p>A policy that runs/executes in lambda.</p>
<dl class="attribute">
<dt id="c7n.policy.LambdaMode.POLICY_METRICS">
<code class="descname">POLICY_METRICS</code><em class="property"> = ('ResourceCount',)</em><a class="headerlink" href="#c7n.policy.LambdaMode.POLICY_METRICS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="c7n.policy.LambdaMode.assume_member">
<code class="descname">assume_member</code><span class="sig-paren">(</span><em>event</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/policy.html#LambdaMode.assume_member"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.policy.LambdaMode.assume_member" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="c7n.policy.LambdaMode.get_logs">
<code class="descname">get_logs</code><span class="sig-paren">(</span><em>start</em>, <em>end</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/policy.html#LambdaMode.get_logs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.policy.LambdaMode.get_logs" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieve logs for the policy</p>
</dd></dl>

<dl class="method">
<dt id="c7n.policy.LambdaMode.get_member_account_id">
<code class="descname">get_member_account_id</code><span class="sig-paren">(</span><em>event</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/policy.html#LambdaMode.get_member_account_id"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.policy.LambdaMode.get_member_account_id" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="c7n.policy.LambdaMode.get_member_region">
<code class="descname">get_member_region</code><span class="sig-paren">(</span><em>event</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/policy.html#LambdaMode.get_member_region"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.policy.LambdaMode.get_member_region" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="c7n.policy.LambdaMode.get_metrics">
<code class="descname">get_metrics</code><span class="sig-paren">(</span><em>start</em>, <em>end</em>, <em>period</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/policy.html#LambdaMode.get_metrics"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.policy.LambdaMode.get_metrics" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieve any associated metrics for the policy.</p>
</dd></dl>

<dl class="method">
<dt id="c7n.policy.LambdaMode.provision">
<code class="descname">provision</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/policy.html#LambdaMode.provision"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.policy.LambdaMode.provision" title="Permalink to this definition">¶</a></dt>
<dd><p>Provision any resources needed for the policy.</p>
</dd></dl>

<dl class="method">
<dt id="c7n.policy.LambdaMode.resolve_resources">
<code class="descname">resolve_resources</code><span class="sig-paren">(</span><em>event</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/policy.html#LambdaMode.resolve_resources"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.policy.LambdaMode.resolve_resources" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="c7n.policy.LambdaMode.run">
<code class="descname">run</code><span class="sig-paren">(</span><em>event</em>, <em>lambda_context</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/policy.html#LambdaMode.run"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.policy.LambdaMode.run" title="Permalink to this definition">¶</a></dt>
<dd><p>Run policy in push mode against given event.</p>
<p>Lambda automatically generates cloud watch logs, and metrics
for us, albeit with some deficienies, metrics no longer count
against valid resources matches, but against execution.</p>
<p>If metrics execution option is enabled, custodian will generate
metrics per normal.</p>
</dd></dl>

<dl class="attribute">
<dt id="c7n.policy.LambdaMode.schema">
<code class="descname">schema</code><em class="property"> = {'additionalProperties': False, 'properties': {'concurrency': {'type': 'integer'}, 'dead_letter_config': {'type': 'object'}, 'environment': {'type': 'object'}, 'execution-options': {'type': 'object'}, 'function-prefix': {'type': 'string'}, 'kms_key_arn': {'type': 'string'}, 'layers': {'items': {'type': 'string'}, 'type': 'array'}, 'member-role': {'type': 'string'}, 'memory': {'type': 'number'}, 'packages': {'items': {'type': 'string'}, 'type': 'array'}, 'role': {'type': 'string'}, 'runtime': {'enum': ['python2.7', 'python3.6', 'python3.7']}, 'security_groups': {'type': 'array'}, 'subnets': {'type': 'array'}, 'tags': {'type': 'object'}, 'timeout': {'type': 'number'}, 'tracing_config': {'type': 'object'}}, 'type': 'object'}</em><a class="headerlink" href="#c7n.policy.LambdaMode.schema" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="c7n.policy.LambdaMode.validate">
<code class="descname">validate</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/policy.html#LambdaMode.validate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.policy.LambdaMode.validate" title="Permalink to this definition">¶</a></dt>
<dd><p>Validate configuration settings for execution mode.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="c7n.policy.PHDMode">
<em class="property">class </em><code class="descclassname">c7n.policy.</code><code class="descname">PHDMode</code><span class="sig-paren">(</span><em>policy</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/policy.html#PHDMode"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.policy.PHDMode" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#c7n.policy.LambdaMode" title="c7n.policy.LambdaMode"><code class="xref py py-class docutils literal notranslate"><span class="pre">c7n.policy.LambdaMode</span></code></a></p>
<p>Personal Health Dashboard event based policy execution.</p>
<dl class="staticmethod">
<dt id="c7n.policy.PHDMode.process_event_arns">
<em class="property">static </em><code class="descname">process_event_arns</code><span class="sig-paren">(</span><em>client</em>, <em>event_arns</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/policy.html#PHDMode.process_event_arns"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.policy.PHDMode.process_event_arns" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="c7n.policy.PHDMode.resolve_resources">
<code class="descname">resolve_resources</code><span class="sig-paren">(</span><em>event</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/policy.html#PHDMode.resolve_resources"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.policy.PHDMode.resolve_resources" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="c7n.policy.PHDMode.schema">
<code class="descname">schema</code><em class="property"> = {'additionalProperties': False, 'properties': {'categories': {'items': {'enum': ['issue', 'accountNotification', 'scheduledChange']}, 'type': 'array'}, 'concurrency': {'type': 'integer'}, 'dead_letter_config': {'type': 'object'}, 'environment': {'type': 'object'}, 'events': {'items': {'type': 'string'}, 'type': 'array'}, 'execution-options': {'type': 'object'}, 'function-prefix': {'type': 'string'}, 'kms_key_arn': {'type': 'string'}, 'layers': {'items': {'type': 'string'}, 'type': 'array'}, 'member-role': {'type': 'string'}, 'memory': {'type': 'number'}, 'packages': {'items': {'type': 'string'}, 'type': 'array'}, 'role': {'type': 'string'}, 'runtime': {'enum': ['python2.7', 'python3.6', 'python3.7']}, 'security_groups': {'type': 'array'}, 'statuses': {'items': {'enum': ['open', 'upcoming', 'closed']}, 'type': 'array'}, 'subnets': {'type': 'array'}, 'tags': {'type': 'object'}, 'timeout': {'type': 'number'}, 'tracing_config': {'type': 'object'}, 'type': {'enum': ['phd']}}, 'required': ['events', 'type'], 'type': 'object'}</em><a class="headerlink" href="#c7n.policy.PHDMode.schema" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="c7n.policy.PHDMode.type">
<code class="descname">type</code><em class="property"> = 'phd'</em><a class="headerlink" href="#c7n.policy.PHDMode.type" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="c7n.policy.PHDMode.validate">
<code class="descname">validate</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/policy.html#PHDMode.validate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.policy.PHDMode.validate" title="Permalink to this definition">¶</a></dt>
<dd><p>Validate configuration settings for execution mode.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="c7n.policy.PeriodicMode">
<em class="property">class </em><code class="descclassname">c7n.policy.</code><code class="descname">PeriodicMode</code><span class="sig-paren">(</span><em>policy</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/policy.html#PeriodicMode"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.policy.PeriodicMode" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#c7n.policy.LambdaMode" title="c7n.policy.LambdaMode"><code class="xref py py-class docutils literal notranslate"><span class="pre">c7n.policy.LambdaMode</span></code></a>, <a class="reference internal" href="#c7n.policy.PullMode" title="c7n.policy.PullMode"><code class="xref py py-class docutils literal notranslate"><span class="pre">c7n.policy.PullMode</span></code></a></p>
<p>A policy that runs in pull mode within lambda.</p>
<dl class="attribute">
<dt id="c7n.policy.PeriodicMode.POLICY_METRICS">
<code class="descname">POLICY_METRICS</code><em class="property"> = ('ResourceCount', 'ResourceTime', 'ActionTime')</em><a class="headerlink" href="#c7n.policy.PeriodicMode.POLICY_METRICS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="c7n.policy.PeriodicMode.run">
<code class="descname">run</code><span class="sig-paren">(</span><em>event</em>, <em>lambda_context</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/policy.html#PeriodicMode.run"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.policy.PeriodicMode.run" title="Permalink to this definition">¶</a></dt>
<dd><p>Run policy in push mode against given event.</p>
<p>Lambda automatically generates cloud watch logs, and metrics
for us, albeit with some deficienies, metrics no longer count
against valid resources matches, but against execution.</p>
<p>If metrics execution option is enabled, custodian will generate
metrics per normal.</p>
</dd></dl>

<dl class="attribute">
<dt id="c7n.policy.PeriodicMode.schema">
<code class="descname">schema</code><em class="property"> = {'additionalProperties': False, 'properties': {'concurrency': {'type': 'integer'}, 'dead_letter_config': {'type': 'object'}, 'environment': {'type': 'object'}, 'execution-options': {'type': 'object'}, 'function-prefix': {'type': 'string'}, 'kms_key_arn': {'type': 'string'}, 'layers': {'items': {'type': 'string'}, 'type': 'array'}, 'member-role': {'type': 'string'}, 'memory': {'type': 'number'}, 'packages': {'items': {'type': 'string'}, 'type': 'array'}, 'role': {'type': 'string'}, 'runtime': {'enum': ['python2.7', 'python3.6', 'python3.7']}, 'schedule': {'type': 'string'}, 'security_groups': {'type': 'array'}, 'subnets': {'type': 'array'}, 'tags': {'type': 'object'}, 'timeout': {'type': 'number'}, 'tracing_config': {'type': 'object'}, 'type': {'enum': ['periodic']}}, 'required': ['type'], 'type': 'object'}</em><a class="headerlink" href="#c7n.policy.PeriodicMode.schema" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="c7n.policy.PeriodicMode.type">
<code class="descname">type</code><em class="property"> = 'periodic'</em><a class="headerlink" href="#c7n.policy.PeriodicMode.type" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="c7n.policy.Policy">
<em class="property">class </em><code class="descclassname">c7n.policy.</code><code class="descname">Policy</code><span class="sig-paren">(</span><em>data</em>, <em>options</em>, <em>session_factory=None</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/policy.html#Policy"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.policy.Policy" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="attribute">
<dt id="c7n.policy.Policy.end">
<code class="descname">end</code><a class="headerlink" href="#c7n.policy.Policy.end" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="c7n.policy.Policy.execution_mode">
<code class="descname">execution_mode</code><a class="headerlink" href="#c7n.policy.Policy.execution_mode" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="c7n.policy.Policy.expand_variables">
<code class="descname">expand_variables</code><span class="sig-paren">(</span><em>variables</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/policy.html#Policy.expand_variables"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.policy.Policy.expand_variables" title="Permalink to this definition">¶</a></dt>
<dd><p>Expand variables in policy data.</p>
<p>Updates the policy data in-place.</p>
</dd></dl>

<dl class="method">
<dt id="c7n.policy.Policy.get_cache">
<code class="descname">get_cache</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/policy.html#Policy.get_cache"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.policy.Policy.get_cache" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="c7n.policy.Policy.get_execution_mode">
<code class="descname">get_execution_mode</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/policy.html#Policy.get_execution_mode"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.policy.Policy.get_execution_mode" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="c7n.policy.Policy.get_logs">
<code class="descname">get_logs</code><span class="sig-paren">(</span><em>start</em>, <em>end</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/policy.html#Policy.get_logs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.policy.Policy.get_logs" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="c7n.policy.Policy.get_metrics">
<code class="descname">get_metrics</code><span class="sig-paren">(</span><em>start</em>, <em>end</em>, <em>period</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/policy.html#Policy.get_metrics"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.policy.Policy.get_metrics" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="c7n.policy.Policy.get_permissions">
<code class="descname">get_permissions</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/policy.html#Policy.get_permissions"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.policy.Policy.get_permissions" title="Permalink to this definition">¶</a></dt>
<dd><p>get permissions needed by this policy</p>
</dd></dl>

<dl class="method">
<dt id="c7n.policy.Policy.get_variables">
<code class="descname">get_variables</code><span class="sig-paren">(</span><em>variables=None</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/policy.html#Policy.get_variables"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.policy.Policy.get_variables" title="Permalink to this definition">¶</a></dt>
<dd><p>Get runtime variables for policy interpolation.</p>
<p>Runtime variables are merged with the passed in variables
if any.</p>
</dd></dl>

<dl class="attribute">
<dt id="c7n.policy.Policy.is_lambda">
<code class="descname">is_lambda</code><a class="headerlink" href="#c7n.policy.Policy.is_lambda" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="c7n.policy.Policy.load_resource_manager">
<code class="descname">load_resource_manager</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/policy.html#Policy.load_resource_manager"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.policy.Policy.load_resource_manager" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="c7n.policy.Policy.log">
<code class="descname">log</code><em class="property"> = &lt;Logger custodian.policy (DEBUG)&gt;</em><a class="headerlink" href="#c7n.policy.Policy.log" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="c7n.policy.Policy.max_resources">
<code class="descname">max_resources</code><a class="headerlink" href="#c7n.policy.Policy.max_resources" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="c7n.policy.Policy.max_resources_percent">
<code class="descname">max_resources_percent</code><a class="headerlink" href="#c7n.policy.Policy.max_resources_percent" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="c7n.policy.Policy.name">
<code class="descname">name</code><a class="headerlink" href="#c7n.policy.Policy.name" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="c7n.policy.Policy.poll">
<code class="descname">poll</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/policy.html#Policy.poll"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.policy.Policy.poll" title="Permalink to this definition">¶</a></dt>
<dd><p>Query resources and apply policy.</p>
</dd></dl>

<dl class="attribute">
<dt id="c7n.policy.Policy.provider_name">
<code class="descname">provider_name</code><a class="headerlink" href="#c7n.policy.Policy.provider_name" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="c7n.policy.Policy.provision">
<code class="descname">provision</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/policy.html#Policy.provision"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.policy.Policy.provision" title="Permalink to this definition">¶</a></dt>
<dd><p>Provision policy as a lambda function.</p>
</dd></dl>

<dl class="method">
<dt id="c7n.policy.Policy.push">
<code class="descname">push</code><span class="sig-paren">(</span><em>event</em>, <em>lambda_ctx</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/policy.html#Policy.push"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.policy.Policy.push" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="c7n.policy.Policy.region">
<code class="descname">region</code><a class="headerlink" href="#c7n.policy.Policy.region" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="c7n.policy.Policy.resource_type">
<code class="descname">resource_type</code><a class="headerlink" href="#c7n.policy.Policy.resource_type" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="c7n.policy.Policy.run">
<code class="descname">run</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#c7n.policy.Policy.run" title="Permalink to this definition">¶</a></dt>
<dd><p>Run policy in default mode</p>
</dd></dl>

<dl class="attribute">
<dt id="c7n.policy.Policy.start">
<code class="descname">start</code><a class="headerlink" href="#c7n.policy.Policy.start" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="c7n.policy.Policy.tags">
<code class="descname">tags</code><a class="headerlink" href="#c7n.policy.Policy.tags" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="c7n.policy.Policy.tz">
<code class="descname">tz</code><a class="headerlink" href="#c7n.policy.Policy.tz" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="c7n.policy.Policy.validate">
<code class="descname">validate</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/policy.html#Policy.validate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.policy.Policy.validate" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="c7n.policy.Policy.validate_policy_start_stop">
<code class="descname">validate_policy_start_stop</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/policy.html#Policy.validate_policy_start_stop"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.policy.Policy.validate_policy_start_stop" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="c7n.policy.PolicyCollection">
<em class="property">class </em><code class="descclassname">c7n.policy.</code><code class="descname">PolicyCollection</code><span class="sig-paren">(</span><em>policies</em>, <em>options</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/policy.html#PolicyCollection"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.policy.PolicyCollection" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="method">
<dt id="c7n.policy.PolicyCollection.filter">
<code class="descname">filter</code><span class="sig-paren">(</span><em>policy_name=None</em>, <em>resource_type=None</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/policy.html#PolicyCollection.filter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.policy.PolicyCollection.filter" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="classmethod">
<dt id="c7n.policy.PolicyCollection.from_data">
<em class="property">classmethod </em><code class="descname">from_data</code><span class="sig-paren">(</span><em>data</em>, <em>options</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/policy.html#PolicyCollection.from_data"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.policy.PolicyCollection.from_data" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="c7n.policy.PolicyCollection.log">
<code class="descname">log</code><em class="property"> = &lt;Logger c7n.policies (DEBUG)&gt;</em><a class="headerlink" href="#c7n.policy.PolicyCollection.log" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="c7n.policy.PolicyCollection.resource_types">
<code class="descname">resource_types</code><a class="headerlink" href="#c7n.policy.PolicyCollection.resource_types" title="Permalink to this definition">¶</a></dt>
<dd><p>resource types used by the collection.</p>
</dd></dl>

<dl class="classmethod">
<dt id="c7n.policy.PolicyCollection.session_factory">
<em class="property">classmethod </em><code class="descname">session_factory</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/policy.html#PolicyCollection.session_factory"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.policy.PolicyCollection.session_factory" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="c7n.policy.PolicyExecutionMode">
<em class="property">class </em><code class="descclassname">c7n.policy.</code><code class="descname">PolicyExecutionMode</code><span class="sig-paren">(</span><em>policy</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/policy.html#PolicyExecutionMode"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.policy.PolicyExecutionMode" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Policy execution semantics</p>
<dl class="attribute">
<dt id="c7n.policy.PolicyExecutionMode.POLICY_METRICS">
<code class="descname">POLICY_METRICS</code><em class="property"> = ('ResourceCount', 'ResourceTime', 'ActionTime')</em><a class="headerlink" href="#c7n.policy.PolicyExecutionMode.POLICY_METRICS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="c7n.policy.PolicyExecutionMode.get_logs">
<code class="descname">get_logs</code><span class="sig-paren">(</span><em>start</em>, <em>end</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/policy.html#PolicyExecutionMode.get_logs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.policy.PolicyExecutionMode.get_logs" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieve logs for the policy</p>
</dd></dl>

<dl class="method">
<dt id="c7n.policy.PolicyExecutionMode.get_metrics">
<code class="descname">get_metrics</code><span class="sig-paren">(</span><em>start</em>, <em>end</em>, <em>period</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/policy.html#PolicyExecutionMode.get_metrics"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.policy.PolicyExecutionMode.get_metrics" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieve any associated metrics for the policy.</p>
</dd></dl>

<dl class="method">
<dt id="c7n.policy.PolicyExecutionMode.provision">
<code class="descname">provision</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/policy.html#PolicyExecutionMode.provision"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.policy.PolicyExecutionMode.provision" title="Permalink to this definition">¶</a></dt>
<dd><p>Provision any resources needed for the policy.</p>
</dd></dl>

<dl class="method">
<dt id="c7n.policy.PolicyExecutionMode.run">
<code class="descname">run</code><span class="sig-paren">(</span><em>event=None</em>, <em>lambda_context=None</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/policy.html#PolicyExecutionMode.run"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.policy.PolicyExecutionMode.run" title="Permalink to this definition">¶</a></dt>
<dd><p>Run the actual policy.</p>
</dd></dl>

<dl class="method">
<dt id="c7n.policy.PolicyExecutionMode.validate">
<code class="descname">validate</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/policy.html#PolicyExecutionMode.validate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.policy.PolicyExecutionMode.validate" title="Permalink to this definition">¶</a></dt>
<dd><p>Validate configuration settings for execution mode.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="c7n.policy.PullMode">
<em class="property">class </em><code class="descclassname">c7n.policy.</code><code class="descname">PullMode</code><span class="sig-paren">(</span><em>policy</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/policy.html#PullMode"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.policy.PullMode" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#c7n.policy.PolicyExecutionMode" title="c7n.policy.PolicyExecutionMode"><code class="xref py py-class docutils literal notranslate"><span class="pre">c7n.policy.PolicyExecutionMode</span></code></a></p>
<p>Pull mode execution of a policy.</p>
<p>Queries resources from cloud provider for filtering and actions.</p>
<dl class="method">
<dt id="c7n.policy.PullMode.get_logs">
<code class="descname">get_logs</code><span class="sig-paren">(</span><em>start</em>, <em>end</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/policy.html#PullMode.get_logs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.policy.PullMode.get_logs" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieve logs for the policy</p>
</dd></dl>

<dl class="method">
<dt id="c7n.policy.PullMode.is_runnable">
<code class="descname">is_runnable</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/policy.html#PullMode.is_runnable"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.policy.PullMode.is_runnable" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="c7n.policy.PullMode.run">
<code class="descname">run</code><span class="sig-paren">(</span><em>*args</em>, <em>**kw</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/policy.html#PullMode.run"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.policy.PullMode.run" title="Permalink to this definition">¶</a></dt>
<dd><p>Run the actual policy.</p>
</dd></dl>

<dl class="attribute">
<dt id="c7n.policy.PullMode.schema">
<code class="descname">schema</code><em class="property"> = {'additionalProperties': False, 'properties': {'type': {'enum': ['pull']}}, 'required': ['type'], 'type': 'object'}</em><a class="headerlink" href="#c7n.policy.PullMode.schema" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="c7n.policy.PullMode.type">
<code class="descname">type</code><em class="property"> = 'pull'</em><a class="headerlink" href="#c7n.policy.PullMode.type" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="c7n.policy.ServerlessExecutionMode">
<em class="property">class </em><code class="descclassname">c7n.policy.</code><code class="descname">ServerlessExecutionMode</code><span class="sig-paren">(</span><em>policy</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/policy.html#ServerlessExecutionMode"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.policy.ServerlessExecutionMode" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#c7n.policy.PolicyExecutionMode" title="c7n.policy.PolicyExecutionMode"><code class="xref py py-class docutils literal notranslate"><span class="pre">c7n.policy.PolicyExecutionMode</span></code></a></p>
<dl class="method">
<dt id="c7n.policy.ServerlessExecutionMode.get_logs">
<code class="descname">get_logs</code><span class="sig-paren">(</span><em>start</em>, <em>end</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/policy.html#ServerlessExecutionMode.get_logs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.policy.ServerlessExecutionMode.get_logs" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieve logs for the policy</p>
</dd></dl>

<dl class="method">
<dt id="c7n.policy.ServerlessExecutionMode.provision">
<code class="descname">provision</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/policy.html#ServerlessExecutionMode.provision"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.policy.ServerlessExecutionMode.provision" title="Permalink to this definition">¶</a></dt>
<dd><p>Provision any resources needed for the policy.</p>
</dd></dl>

<dl class="method">
<dt id="c7n.policy.ServerlessExecutionMode.run">
<code class="descname">run</code><span class="sig-paren">(</span><em>event=None</em>, <em>lambda_context=None</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/policy.html#ServerlessExecutionMode.run"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.policy.ServerlessExecutionMode.run" title="Permalink to this definition">¶</a></dt>
<dd><p>Run the actual policy.</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="c7n.policy.load">
<code class="descclassname">c7n.policy.</code><code class="descname">load</code><span class="sig-paren">(</span><em>options</em>, <em>path</em>, <em>format='yaml'</em>, <em>validate=True</em>, <em>vars=None</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/policy.html#load"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.policy.load" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-c7n.provider">
<span id="c7n-provider-module"></span><h2>c7n.provider module<a class="headerlink" href="#module-c7n.provider" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="c7n.provider.Provider">
<em class="property">class </em><code class="descclassname">c7n.provider.</code><code class="descname">Provider</code><a class="reference internal" href="../../_modules/c7n/provider.html#Provider"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.provider.Provider" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Provider Base Class</p>
<dl class="method">
<dt id="c7n.provider.Provider.get_session_factory">
<code class="descname">get_session_factory</code><span class="sig-paren">(</span><em>options</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/provider.html#Provider.get_session_factory"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.provider.Provider.get_session_factory" title="Permalink to this definition">¶</a></dt>
<dd><p>Get a credential/session factory for api usage.</p>
</dd></dl>

<dl class="method">
<dt id="c7n.provider.Provider.initialize">
<code class="descname">initialize</code><span class="sig-paren">(</span><em>options</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/provider.html#Provider.initialize"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.provider.Provider.initialize" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform any provider specific initialization</p>
</dd></dl>

<dl class="method">
<dt id="c7n.provider.Provider.initialize_policies">
<code class="descname">initialize_policies</code><span class="sig-paren">(</span><em>policy_collection</em>, <em>options</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/provider.html#Provider.initialize_policies"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.provider.Provider.initialize_policies" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform any initialization of policies.</p>
<p>Common usage is expanding policy collection for per
region execution and filtering policies for applicable regions.</p>
</dd></dl>

<dl class="attribute">
<dt id="c7n.provider.Provider.resource_prefix">
<code class="descname">resource_prefix</code><a class="headerlink" href="#c7n.provider.Provider.resource_prefix" title="Permalink to this definition">¶</a></dt>
<dd><p>resource prefix for this cloud provider in policy files.</p>
</dd></dl>

<dl class="attribute">
<dt id="c7n.provider.Provider.resources">
<code class="descname">resources</code><a class="headerlink" href="#c7n.provider.Provider.resources" title="Permalink to this definition">¶</a></dt>
<dd><p>resources registry for this cloud provider</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="c7n.provider.resources">
<code class="descclassname">c7n.provider.</code><code class="descname">resources</code><span class="sig-paren">(</span><em>cloud_provider=None</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/provider.html#resources"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.provider.resources" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-c7n.query">
<span id="c7n-query-module"></span><h2>c7n.query module<a class="headerlink" href="#module-c7n.query" title="Permalink to this headline">¶</a></h2>
<p>Query capability built on skew metamodel</p>
<p>tags_spec -&gt; s3, elb, rds</p>
<dl class="class">
<dt id="c7n.query.ChildDescribeSource">
<em class="property">class </em><code class="descclassname">c7n.query.</code><code class="descname">ChildDescribeSource</code><span class="sig-paren">(</span><em>manager</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/query.html#ChildDescribeSource"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.query.ChildDescribeSource" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#c7n.query.DescribeSource" title="c7n.query.DescribeSource"><code class="xref py py-class docutils literal notranslate"><span class="pre">c7n.query.DescribeSource</span></code></a></p>
<dl class="method">
<dt id="c7n.query.ChildDescribeSource.get_query">
<code class="descname">get_query</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/query.html#ChildDescribeSource.get_query"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.query.ChildDescribeSource.get_query" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="c7n.query.ChildDescribeSource.resource_query_factory">
<code class="descname">resource_query_factory</code><a class="headerlink" href="#c7n.query.ChildDescribeSource.resource_query_factory" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="#c7n.query.ChildResourceQuery" title="c7n.query.ChildResourceQuery"><code class="xref py py-class docutils literal notranslate"><span class="pre">ChildResourceQuery</span></code></a></p>
</dd></dl>

<dl class="attribute">
<dt id="c7n.query.ChildDescribeSource.type">
<code class="descname">type</code><em class="property"> = 'describe-child'</em><a class="headerlink" href="#c7n.query.ChildDescribeSource.type" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="c7n.query.ChildResourceManager">
<em class="property">class </em><code class="descclassname">c7n.query.</code><code class="descname">ChildResourceManager</code><span class="sig-paren">(</span><em>data</em>, <em>options</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/query.html#ChildResourceManager"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.query.ChildResourceManager" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#c7n.query.QueryResourceManager" title="c7n.query.QueryResourceManager"><code class="xref py py-class docutils literal notranslate"><span class="pre">c7n.query.QueryResourceManager</span></code></a></p>
<dl class="attribute">
<dt id="c7n.query.ChildResourceManager.child_source">
<code class="descname">child_source</code><em class="property"> = 'describe-child'</em><a class="headerlink" href="#c7n.query.ChildResourceManager.child_source" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="c7n.query.ChildResourceManager.get_parent_manager">
<code class="descname">get_parent_manager</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/query.html#ChildResourceManager.get_parent_manager"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.query.ChildResourceManager.get_parent_manager" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="c7n.query.ChildResourceManager.source_type">
<code class="descname">source_type</code><a class="headerlink" href="#c7n.query.ChildResourceManager.source_type" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="c7n.query.ChildResourceQuery">
<em class="property">class </em><code class="descclassname">c7n.query.</code><code class="descname">ChildResourceQuery</code><span class="sig-paren">(</span><em>session_factory</em>, <em>manager</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/query.html#ChildResourceQuery"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.query.ChildResourceQuery" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#c7n.query.ResourceQuery" title="c7n.query.ResourceQuery"><code class="xref py py-class docutils literal notranslate"><span class="pre">c7n.query.ResourceQuery</span></code></a></p>
<p>A resource query for resources that must be queried with parent information.</p>
<p>Several resource types can only be queried in the context of their
parents identifiers. ie. efs mount targets (parent efs), route53 resource
records (parent hosted zone), ecs services (ecs cluster).</p>
<dl class="attribute">
<dt id="c7n.query.ChildResourceQuery.capture_parent_id">
<code class="descname">capture_parent_id</code><em class="property"> = False</em><a class="headerlink" href="#c7n.query.ChildResourceQuery.capture_parent_id" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="c7n.query.ChildResourceQuery.filter">
<code class="descname">filter</code><span class="sig-paren">(</span><em>resource_manager</em>, <em>**params</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/query.html#ChildResourceQuery.filter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.query.ChildResourceQuery.filter" title="Permalink to this definition">¶</a></dt>
<dd><p>Query a set of resources.</p>
</dd></dl>

<dl class="method">
<dt id="c7n.query.ChildResourceQuery.get_parent_parameters">
<code class="descname">get_parent_parameters</code><span class="sig-paren">(</span><em>params</em>, <em>parent_id</em>, <em>parent_key</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/query.html#ChildResourceQuery.get_parent_parameters"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.query.ChildResourceQuery.get_parent_parameters" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="c7n.query.ChildResourceQuery.parent_key">
<code class="descname">parent_key</code><em class="property"> = 'c7n:parent-id'</em><a class="headerlink" href="#c7n.query.ChildResourceQuery.parent_key" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="c7n.query.ConfigSource">
<em class="property">class </em><code class="descclassname">c7n.query.</code><code class="descname">ConfigSource</code><span class="sig-paren">(</span><em>manager</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/query.html#ConfigSource"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.query.ConfigSource" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="method">
<dt id="c7n.query.ConfigSource.augment">
<code class="descname">augment</code><span class="sig-paren">(</span><em>resources</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/query.html#ConfigSource.augment"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.query.ConfigSource.augment" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="c7n.query.ConfigSource.get_permissions">
<code class="descname">get_permissions</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/query.html#ConfigSource.get_permissions"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.query.ConfigSource.get_permissions" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="c7n.query.ConfigSource.get_resources">
<code class="descname">get_resources</code><span class="sig-paren">(</span><em>ids</em>, <em>cache=True</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/query.html#ConfigSource.get_resources"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.query.ConfigSource.get_resources" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="c7n.query.ConfigSource.load_resource">
<code class="descname">load_resource</code><span class="sig-paren">(</span><em>item</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/query.html#ConfigSource.load_resource"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.query.ConfigSource.load_resource" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="c7n.query.ConfigSource.resources">
<code class="descname">resources</code><span class="sig-paren">(</span><em>query=None</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/query.html#ConfigSource.resources"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.query.ConfigSource.resources" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="staticmethod">
<dt id="c7n.query.ConfigSource.retry">
<em class="property">static </em><code class="descname">retry</code><span class="sig-paren">(</span><em>func</em>, <em>*args</em>, <em>**kw</em><span class="sig-paren">)</span><a class="headerlink" href="#c7n.query.ConfigSource.retry" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="c7n.query.ConfigSource.type">
<code class="descname">type</code><em class="property"> = 'config'</em><a class="headerlink" href="#c7n.query.ConfigSource.type" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="c7n.query.DescribeSource">
<em class="property">class </em><code class="descclassname">c7n.query.</code><code class="descname">DescribeSource</code><span class="sig-paren">(</span><em>manager</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/query.html#DescribeSource"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.query.DescribeSource" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="attribute">
<dt id="c7n.query.DescribeSource.QueryFactory">
<code class="descname">QueryFactory</code><a class="headerlink" href="#c7n.query.DescribeSource.QueryFactory" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="#c7n.query.ResourceQuery" title="c7n.query.ResourceQuery"><code class="xref py py-class docutils literal notranslate"><span class="pre">ResourceQuery</span></code></a></p>
</dd></dl>

<dl class="method">
<dt id="c7n.query.DescribeSource.augment">
<code class="descname">augment</code><span class="sig-paren">(</span><em>resources</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/query.html#DescribeSource.augment"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.query.DescribeSource.augment" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="c7n.query.DescribeSource.get_permissions">
<code class="descname">get_permissions</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/query.html#DescribeSource.get_permissions"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.query.DescribeSource.get_permissions" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="c7n.query.DescribeSource.get_resources">
<code class="descname">get_resources</code><span class="sig-paren">(</span><em>ids</em>, <em>cache=True</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/query.html#DescribeSource.get_resources"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.query.DescribeSource.get_resources" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="c7n.query.DescribeSource.resources">
<code class="descname">resources</code><span class="sig-paren">(</span><em>query</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/query.html#DescribeSource.resources"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.query.DescribeSource.resources" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="c7n.query.DescribeSource.type">
<code class="descname">type</code><em class="property"> = 'describe'</em><a class="headerlink" href="#c7n.query.DescribeSource.type" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="c7n.query.MaxResourceLimit">
<em class="property">class </em><code class="descclassname">c7n.query.</code><code class="descname">MaxResourceLimit</code><span class="sig-paren">(</span><em>policy</em>, <em>selection_count</em>, <em>population_count</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/query.html#MaxResourceLimit"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.query.MaxResourceLimit" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="attribute">
<dt id="c7n.query.MaxResourceLimit.C7N_MAXRES_OP">
<code class="descname">C7N_MAXRES_OP</code><em class="property"> = 'or'</em><a class="headerlink" href="#c7n.query.MaxResourceLimit.C7N_MAXRES_OP" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="c7n.query.MaxResourceLimit.check_resource_limits">
<code class="descname">check_resource_limits</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/query.html#MaxResourceLimit.check_resource_limits"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.query.MaxResourceLimit.check_resource_limits" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="c7n.query.QueryMeta">
<em class="property">class </em><code class="descclassname">c7n.query.</code><code class="descname">QueryMeta</code><a class="reference internal" href="../../_modules/c7n/query.html#QueryMeta"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.query.QueryMeta" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">type</span></code></p>
</dd></dl>

<dl class="class">
<dt id="c7n.query.QueryResourceManager">
<em class="property">class </em><code class="descclassname">c7n.query.</code><code class="descname">QueryResourceManager</code><span class="sig-paren">(</span><em>data</em>, <em>options</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/query.html#QueryResourceManager"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.query.QueryResourceManager" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#c7n.manager.ResourceManager" title="c7n.manager.ResourceManager"><code class="xref py py-class docutils literal notranslate"><span class="pre">c7n.manager.ResourceManager</span></code></a></p>
<dl class="attribute">
<dt id="c7n.query.QueryResourceManager.account_id">
<code class="descname">account_id</code><a class="headerlink" href="#c7n.query.QueryResourceManager.account_id" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the current account ID.</p>
<p>This should now be passed in using the –account-id flag, but for a
period of time we will support the old behavior of inferring this from
IAM.</p>
</dd></dl>

<dl class="attribute">
<dt id="c7n.query.QueryResourceManager.action_registry">
<code class="descname">action_registry</code><em class="property"> = &lt;c7n.actions.core.ActionRegistry object&gt;</em><a class="headerlink" href="#c7n.query.QueryResourceManager.action_registry" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="c7n.query.QueryResourceManager.augment">
<code class="descname">augment</code><span class="sig-paren">(</span><em>resources</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/query.html#QueryResourceManager.augment"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.query.QueryResourceManager.augment" title="Permalink to this definition">¶</a></dt>
<dd><p>subclasses may want to augment resources with additional information.</p>
<p>ie. we want tags by default (rds, elb), and policy, location, acl for
s3 buckets.</p>
</dd></dl>

<dl class="method">
<dt id="c7n.query.QueryResourceManager.check_resource_limit">
<code class="descname">check_resource_limit</code><span class="sig-paren">(</span><em>selection_count</em>, <em>population_count</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/query.html#QueryResourceManager.check_resource_limit"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.query.QueryResourceManager.check_resource_limit" title="Permalink to this definition">¶</a></dt>
<dd><p>Check if policy’s execution affects more resources then its limit.</p>
<p>Ideally this would be at a higher level but we’ve hidden
filtering behind the resource manager facade for default usage.</p>
</dd></dl>

<dl class="attribute">
<dt id="c7n.query.QueryResourceManager.chunk_size">
<code class="descname">chunk_size</code><em class="property"> = 20</em><a class="headerlink" href="#c7n.query.QueryResourceManager.chunk_size" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="c7n.query.QueryResourceManager.filter_registry">
<code class="descname">filter_registry</code><em class="property"> = &lt;c7n.filters.core.FilterRegistry object&gt;</em><a class="headerlink" href="#c7n.query.QueryResourceManager.filter_registry" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="c7n.query.QueryResourceManager.generate_arn">
<code class="descname">generate_arn</code><a class="headerlink" href="#c7n.query.QueryResourceManager.generate_arn" title="Permalink to this definition">¶</a></dt>
<dd><p>Generates generic arn if ID is not already arn format.</p>
</dd></dl>

<dl class="method">
<dt id="c7n.query.QueryResourceManager.get_arns">
<code class="descname">get_arns</code><span class="sig-paren">(</span><em>resources</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/query.html#QueryResourceManager.get_arns"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.query.QueryResourceManager.get_arns" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="c7n.query.QueryResourceManager.get_cache_key">
<code class="descname">get_cache_key</code><span class="sig-paren">(</span><em>query</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/query.html#QueryResourceManager.get_cache_key"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.query.QueryResourceManager.get_cache_key" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="classmethod">
<dt id="c7n.query.QueryResourceManager.get_model">
<em class="property">classmethod </em><code class="descname">get_model</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/query.html#QueryResourceManager.get_model"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.query.QueryResourceManager.get_model" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the resource meta-model.</p>
</dd></dl>

<dl class="method">
<dt id="c7n.query.QueryResourceManager.get_permissions">
<code class="descname">get_permissions</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/query.html#QueryResourceManager.get_permissions"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.query.QueryResourceManager.get_permissions" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="c7n.query.QueryResourceManager.get_resources">
<code class="descname">get_resources</code><span class="sig-paren">(</span><em>ids</em>, <em>cache=True</em>, <em>augment=True</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/query.html#QueryResourceManager.get_resources"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.query.QueryResourceManager.get_resources" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieve a set of resources by id.</p>
</dd></dl>

<dl class="method">
<dt id="c7n.query.QueryResourceManager.get_source">
<code class="descname">get_source</code><span class="sig-paren">(</span><em>source_type</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/query.html#QueryResourceManager.get_source"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.query.QueryResourceManager.get_source" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="classmethod">
<dt id="c7n.query.QueryResourceManager.has_arn">
<em class="property">classmethod </em><code class="descname">has_arn</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/query.html#QueryResourceManager.has_arn"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.query.QueryResourceManager.has_arn" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="classmethod">
<dt id="c7n.query.QueryResourceManager.match_ids">
<em class="property">classmethod </em><code class="descname">match_ids</code><span class="sig-paren">(</span><em>ids</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/query.html#QueryResourceManager.match_ids"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.query.QueryResourceManager.match_ids" title="Permalink to this definition">¶</a></dt>
<dd><p>return ids that match this resource type’s id format.</p>
</dd></dl>

<dl class="attribute">
<dt id="c7n.query.QueryResourceManager.max_workers">
<code class="descname">max_workers</code><em class="property"> = 3</em><a class="headerlink" href="#c7n.query.QueryResourceManager.max_workers" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="c7n.query.QueryResourceManager.permissions">
<code class="descname">permissions</code><em class="property"> = ()</em><a class="headerlink" href="#c7n.query.QueryResourceManager.permissions" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="c7n.query.QueryResourceManager.region">
<code class="descname">region</code><a class="headerlink" href="#c7n.query.QueryResourceManager.region" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the current region.</p>
</dd></dl>

<dl class="attribute">
<dt id="c7n.query.QueryResourceManager.resource_type">
<code class="descname">resource_type</code><em class="property"> = ''</em><a class="headerlink" href="#c7n.query.QueryResourceManager.resource_type" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="c7n.query.QueryResourceManager.resources">
<code class="descname">resources</code><span class="sig-paren">(</span><em>query=None</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/query.html#QueryResourceManager.resources"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.query.QueryResourceManager.resources" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="staticmethod">
<dt id="c7n.query.QueryResourceManager.retry">
<em class="property">static </em><code class="descname">retry</code><span class="sig-paren">(</span><em>func</em>, <em>*args</em>, <em>**kw</em><span class="sig-paren">)</span><a class="headerlink" href="#c7n.query.QueryResourceManager.retry" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="c7n.query.QueryResourceManager.source_type">
<code class="descname">source_type</code><a class="headerlink" href="#c7n.query.QueryResourceManager.source_type" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="c7n.query.ResourceQuery">
<em class="property">class </em><code class="descclassname">c7n.query.</code><code class="descname">ResourceQuery</code><span class="sig-paren">(</span><em>session_factory</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/query.html#ResourceQuery"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.query.ResourceQuery" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="method">
<dt id="c7n.query.ResourceQuery.filter">
<code class="descname">filter</code><span class="sig-paren">(</span><em>resource_manager</em>, <em>**params</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/query.html#ResourceQuery.filter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.query.ResourceQuery.filter" title="Permalink to this definition">¶</a></dt>
<dd><p>Query a set of resources.</p>
</dd></dl>

<dl class="method">
<dt id="c7n.query.ResourceQuery.get">
<code class="descname">get</code><span class="sig-paren">(</span><em>resource_manager</em>, <em>identities</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/query.html#ResourceQuery.get"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.query.ResourceQuery.get" title="Permalink to this definition">¶</a></dt>
<dd><p>Get resources by identities</p>
</dd></dl>

<dl class="staticmethod">
<dt id="c7n.query.ResourceQuery.resolve">
<em class="property">static </em><code class="descname">resolve</code><span class="sig-paren">(</span><em>resource_type</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/query.html#ResourceQuery.resolve"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.query.ResourceQuery.resolve" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="c7n.query.RetryPageIterator">
<em class="property">class </em><code class="descclassname">c7n.query.</code><code class="descname">RetryPageIterator</code><span class="sig-paren">(</span><em>method</em>, <em>input_token</em>, <em>output_token</em>, <em>more_results</em>, <em>result_keys</em>, <em>non_aggregate_keys</em>, <em>limit_key</em>, <em>max_items</em>, <em>starting_token</em>, <em>page_size</em>, <em>op_kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/query.html#RetryPageIterator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.query.RetryPageIterator" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">botocore.paginate.PageIterator</span></code></p>
<dl class="staticmethod">
<dt id="c7n.query.RetryPageIterator.retry">
<em class="property">static </em><code class="descname">retry</code><span class="sig-paren">(</span><em>func</em>, <em>*args</em>, <em>**kw</em><span class="sig-paren">)</span><a class="headerlink" href="#c7n.query.RetryPageIterator.retry" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-c7n.registry">
<span id="c7n-registry-module"></span><h2>c7n.registry module<a class="headerlink" href="#module-c7n.registry" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="c7n.registry.PluginRegistry">
<em class="property">class </em><code class="descclassname">c7n.registry.</code><code class="descname">PluginRegistry</code><span class="sig-paren">(</span><em>plugin_type</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/registry.html#PluginRegistry"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.registry.PluginRegistry" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>A plugin registry</p>
<p>Custodian is intended to be innately pluggable both internally and
externally, for resource types and their filters and actions.</p>
<p>This plugin registry abstraction provides the core mechanism for
that. Its a simple string to class map, with python package
entry_point loading for external plugins.</p>
<p>As an example of defining an external plugin using a python package</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">setup</span><span class="p">(</span>
    <span class="n">name</span><span class="o">=</span><span class="s2">&quot;custodian_cmdb&quot;</span><span class="p">,</span>
    <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Custodian filters for interacting with internal CMDB&quot;</span>
    <span class="n">version</span><span class="o">=</span><span class="s1">&#39;1.0&#39;</span><span class="p">,</span>
    <span class="n">packages</span><span class="o">=</span><span class="n">find_packages</span><span class="p">(),</span>
    <span class="n">entry_points</span><span class="o">=</span><span class="p">{</span>
         <span class="s1">&#39;console_scripts&#39;</span><span class="p">:</span> <span class="p">[</span>
              <span class="s1">&#39;custodian.ec2.filters = custodian_cmdb:filter_ec2&#39;</span><span class="p">]},</span>
    <span class="p">)</span>
</pre></div>
</div>
<p>For loading the plugins we can simply invoke method:load_plugins like
so:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">PluginRegistry</span><span class="p">(</span><span class="s1">&#39;ec2.filters&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">load_plugins</span><span class="p">()</span>
</pre></div>
</div>
<dl class="attribute">
<dt id="c7n.registry.PluginRegistry.EVENTS">
<code class="descname">EVENTS</code><em class="property"> = (0, 1)</em><a class="headerlink" href="#c7n.registry.PluginRegistry.EVENTS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="c7n.registry.PluginRegistry.EVENT_FINAL">
<code class="descname">EVENT_FINAL</code><em class="property"> = 1</em><a class="headerlink" href="#c7n.registry.PluginRegistry.EVENT_FINAL" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="c7n.registry.PluginRegistry.EVENT_REGISTER">
<code class="descname">EVENT_REGISTER</code><em class="property"> = 0</em><a class="headerlink" href="#c7n.registry.PluginRegistry.EVENT_REGISTER" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="c7n.registry.PluginRegistry.get">
<code class="descname">get</code><span class="sig-paren">(</span><em>name</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/registry.html#PluginRegistry.get"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.registry.PluginRegistry.get" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="c7n.registry.PluginRegistry.items">
<code class="descname">items</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/registry.html#PluginRegistry.items"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.registry.PluginRegistry.items" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="c7n.registry.PluginRegistry.keys">
<code class="descname">keys</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/registry.html#PluginRegistry.keys"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.registry.PluginRegistry.keys" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="c7n.registry.PluginRegistry.load_plugins">
<code class="descname">load_plugins</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/registry.html#PluginRegistry.load_plugins"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.registry.PluginRegistry.load_plugins" title="Permalink to this definition">¶</a></dt>
<dd><p>Load external plugins.</p>
<p>Custodian is intended to interact with internal and external systems
that are not suitable for embedding into the custodian code base.</p>
</dd></dl>

<dl class="method">
<dt id="c7n.registry.PluginRegistry.notify">
<code class="descname">notify</code><span class="sig-paren">(</span><em>event</em>, <em>key=None</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/registry.html#PluginRegistry.notify"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.registry.PluginRegistry.notify" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="c7n.registry.PluginRegistry.register">
<code class="descname">register</code><span class="sig-paren">(</span><em>name</em>, <em>klass=None</em>, <em>condition=True</em>, <em>condition_message='Missing dependency for {}'</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/registry.html#PluginRegistry.register"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.registry.PluginRegistry.register" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="c7n.registry.PluginRegistry.subscribe">
<code class="descname">subscribe</code><span class="sig-paren">(</span><em>event</em>, <em>func</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/registry.html#PluginRegistry.subscribe"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.registry.PluginRegistry.subscribe" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="c7n.registry.PluginRegistry.unregister">
<code class="descname">unregister</code><span class="sig-paren">(</span><em>name</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/registry.html#PluginRegistry.unregister"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.registry.PluginRegistry.unregister" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-c7n.resolver">
<span id="c7n-resolver-module"></span><h2>c7n.resolver module<a class="headerlink" href="#module-c7n.resolver" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="c7n.resolver.URIResolver">
<em class="property">class </em><code class="descclassname">c7n.resolver.</code><code class="descname">URIResolver</code><span class="sig-paren">(</span><em>session_factory</em>, <em>cache</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/resolver.html#URIResolver"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.resolver.URIResolver" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="method">
<dt id="c7n.resolver.URIResolver.get_s3_uri">
<code class="descname">get_s3_uri</code><span class="sig-paren">(</span><em>uri</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/resolver.html#URIResolver.get_s3_uri"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.resolver.URIResolver.get_s3_uri" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="c7n.resolver.URIResolver.resolve">
<code class="descname">resolve</code><span class="sig-paren">(</span><em>uri</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/resolver.html#URIResolver.resolve"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.resolver.URIResolver.resolve" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="c7n.resolver.ValuesFrom">
<em class="property">class </em><code class="descclassname">c7n.resolver.</code><code class="descname">ValuesFrom</code><span class="sig-paren">(</span><em>data</em>, <em>manager</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/resolver.html#ValuesFrom"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.resolver.ValuesFrom" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Retrieve values from a url.</p>
<p>Supports json, csv and line delimited text files and expressions
to retrieve a subset of values.</p>
<p>Expression syntax
- on json, a jmespath expr is evaluated
- on csv, an integer column or jmespath expr can be specified
- on csv2dict, a jmespath expr (the csv is parsed into a dictionary where
the keys are the headers and the values are the remaining columns)</p>
<p>Text files are expected to be line delimited values.</p>
<p>Examples:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">value_from</span><span class="p">:</span>
   <span class="n">url</span><span class="p">:</span> <span class="n">s3</span><span class="p">:</span><span class="o">//</span><span class="n">bucket</span><span class="o">/</span><span class="n">xyz</span><span class="o">/</span><span class="n">foo</span><span class="o">.</span><span class="n">json</span>
   <span class="n">expr</span><span class="p">:</span> <span class="p">[]</span><span class="o">.</span><span class="n">AppId</span>

<span class="n">values_from</span><span class="p">:</span>
   <span class="n">url</span><span class="p">:</span> <span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">foobar</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">mydata</span>
   <span class="nb">format</span><span class="p">:</span> <span class="n">json</span>
   <span class="n">expr</span><span class="p">:</span> <span class="n">Region</span><span class="o">.</span><span class="s2">&quot;us-east-1&quot;</span><span class="p">[]</span><span class="o">.</span><span class="n">ImageId</span>

<span class="n">value_from</span><span class="p">:</span>
   <span class="n">url</span><span class="p">:</span> <span class="n">s3</span><span class="p">:</span><span class="o">//</span><span class="n">bucket</span><span class="o">/</span><span class="n">abc</span><span class="o">/</span><span class="n">foo</span><span class="o">.</span><span class="n">csv</span>
   <span class="nb">format</span><span class="p">:</span> <span class="n">csv2dict</span>
   <span class="n">expr</span><span class="p">:</span> <span class="n">key</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>

 <span class="c1"># inferred from extension</span>
 <span class="nb">format</span><span class="p">:</span> <span class="p">[</span><span class="n">json</span><span class="p">,</span> <span class="n">csv</span><span class="p">,</span> <span class="n">csv2dict</span><span class="p">,</span> <span class="n">txt</span><span class="p">]</span>
</pre></div>
</div>
<dl class="method">
<dt id="c7n.resolver.ValuesFrom.get_contents">
<code class="descname">get_contents</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/resolver.html#ValuesFrom.get_contents"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.resolver.ValuesFrom.get_contents" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="c7n.resolver.ValuesFrom.get_values">
<code class="descname">get_values</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/resolver.html#ValuesFrom.get_values"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.resolver.ValuesFrom.get_values" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="c7n.resolver.ValuesFrom.schema">
<code class="descname">schema</code><em class="property"> = {'additionalProperties': 'False', 'properties': {'expr': {'oneOf': [{'type': 'integer'}, {'type': 'string'}]}, 'format': {'enum': ['csv', 'json', 'txt', 'csv2dict']}, 'url': {'type': 'string'}}, 'required': ['url'], 'type': 'object'}</em><a class="headerlink" href="#c7n.resolver.ValuesFrom.schema" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="c7n.resolver.ValuesFrom.supported_formats">
<code class="descname">supported_formats</code><em class="property"> = ('json', 'txt', 'csv', 'csv2dict')</em><a class="headerlink" href="#c7n.resolver.ValuesFrom.supported_formats" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-c7n.schema">
<span id="c7n-schema-module"></span><h2>c7n.schema module<a class="headerlink" href="#module-c7n.schema" title="Permalink to this headline">¶</a></h2>
<p>Jsonschema validation of cloud custodian config.</p>
<p>We start with a walkthrough of the various class registries
of resource types and assemble and generate the schema.</p>
<p>We do some specialization to reduce overall schema size
via reference usage, although in some cases we prefer
copies, due to issues with inheritance via reference (
allowedProperties and enum extension).</p>
<p>All filters and actions are annotated with schema typically using
the utils.type_schema function.</p>
<dl class="function">
<dt id="c7n.schema.check_unique">
<code class="descclassname">c7n.schema.</code><code class="descname">check_unique</code><span class="sig-paren">(</span><em>data</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/schema.html#check_unique"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.schema.check_unique" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="c7n.schema.generate">
<code class="descclassname">c7n.schema.</code><code class="descname">generate</code><span class="sig-paren">(</span><em>resource_types=()</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/schema.html#generate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.schema.generate" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="c7n.schema.json_dump">
<code class="descclassname">c7n.schema.</code><code class="descname">json_dump</code><span class="sig-paren">(</span><em>resource=None</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/schema.html#json_dump"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.schema.json_dump" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="c7n.schema.policy_error_scope">
<code class="descclassname">c7n.schema.</code><code class="descname">policy_error_scope</code><span class="sig-paren">(</span><em>error</em>, <em>data</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/schema.html#policy_error_scope"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.schema.policy_error_scope" title="Permalink to this definition">¶</a></dt>
<dd><p>Scope a schema error to its policy name and resource.</p>
</dd></dl>

<dl class="function">
<dt id="c7n.schema.process_resource">
<code class="descclassname">c7n.schema.</code><code class="descname">process_resource</code><span class="sig-paren">(</span><em>type_name</em>, <em>resource_type</em>, <em>resource_defs</em>, <em>alias_name=None</em>, <em>definitions=None</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/schema.html#process_resource"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.schema.process_resource" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="c7n.schema.resource_vocabulary">
<code class="descclassname">c7n.schema.</code><code class="descname">resource_vocabulary</code><span class="sig-paren">(</span><em>cloud_name=None</em>, <em>qualify_name=True</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/schema.html#resource_vocabulary"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.schema.resource_vocabulary" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="c7n.schema.specific_error">
<code class="descclassname">c7n.schema.</code><code class="descname">specific_error</code><span class="sig-paren">(</span><em>error</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/schema.html#specific_error"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.schema.specific_error" title="Permalink to this definition">¶</a></dt>
<dd><p>Try to find the best error for humans to resolve</p>
<p>The jsonschema.exceptions.best_match error is based purely on a
mix of a strong match (ie. not anyOf, oneOf) and schema depth,
this often yields odd results that are semantically confusing,
instead we can use a bit of structural knowledge of schema to
provide better results.</p>
</dd></dl>

<dl class="function">
<dt id="c7n.schema.summary">
<code class="descclassname">c7n.schema.</code><code class="descname">summary</code><span class="sig-paren">(</span><em>vocabulary</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/schema.html#summary"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.schema.summary" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="c7n.schema.validate">
<code class="descclassname">c7n.schema.</code><code class="descname">validate</code><span class="sig-paren">(</span><em>data</em>, <em>schema=None</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/schema.html#validate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.schema.validate" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-c7n.sqsexec">
<span id="c7n-sqsexec-module"></span><h2>c7n.sqsexec module<a class="headerlink" href="#module-c7n.sqsexec" title="Permalink to this headline">¶</a></h2>
<p>concurrent.futures implementation over sqs</p>
<p>Scatter/Gather or Map/Reduce style over two sqs queues.</p>
<dl class="class">
<dt id="c7n.sqsexec.MessageIterator">
<em class="property">class </em><code class="descclassname">c7n.sqsexec.</code><code class="descname">MessageIterator</code><span class="sig-paren">(</span><em>client</em>, <em>queue_url</em>, <em>limit=0</em>, <em>timeout=10</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/sqsexec.html#MessageIterator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.sqsexec.MessageIterator" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="method">
<dt id="c7n.sqsexec.MessageIterator.ack">
<code class="descname">ack</code><span class="sig-paren">(</span><em>m</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/sqsexec.html#MessageIterator.ack"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.sqsexec.MessageIterator.ack" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="c7n.sqsexec.MessageIterator.msg_attributes">
<code class="descname">msg_attributes</code><em class="property"> = ['sequence_id', 'op', 'ser']</em><a class="headerlink" href="#c7n.sqsexec.MessageIterator.msg_attributes" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="c7n.sqsexec.MessageIterator.next">
<code class="descname">next</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#c7n.sqsexec.MessageIterator.next" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="c7n.sqsexec.SQSExecutor">
<em class="property">class </em><code class="descclassname">c7n.sqsexec.</code><code class="descname">SQSExecutor</code><span class="sig-paren">(</span><em>session_factory</em>, <em>map_queue</em>, <em>reduce_queue</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/sqsexec.html#SQSExecutor"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.sqsexec.SQSExecutor" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">concurrent.futures._base.Executor</span></code></p>
<dl class="method">
<dt id="c7n.sqsexec.SQSExecutor.gather">
<code class="descname">gather</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/sqsexec.html#SQSExecutor.gather"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.sqsexec.SQSExecutor.gather" title="Permalink to this definition">¶</a></dt>
<dd><p>Fetch results from separate queue</p>
</dd></dl>

<dl class="method">
<dt id="c7n.sqsexec.SQSExecutor.submit">
<code class="descname">submit</code><span class="sig-paren">(</span><em>func</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/sqsexec.html#SQSExecutor.submit"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.sqsexec.SQSExecutor.submit" title="Permalink to this definition">¶</a></dt>
<dd><p>Submit a function for serialized execution on sqs</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="c7n.sqsexec.SQSFuture">
<em class="property">class </em><code class="descclassname">c7n.sqsexec.</code><code class="descname">SQSFuture</code><span class="sig-paren">(</span><em>sequence_id</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/sqsexec.html#SQSFuture"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.sqsexec.SQSFuture" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">concurrent.futures._base.Future</span></code></p>
<dl class="attribute">
<dt id="c7n.sqsexec.SQSFuture.marker">
<code class="descname">marker</code><em class="property"> = &lt;object object&gt;</em><a class="headerlink" href="#c7n.sqsexec.SQSFuture.marker" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="c7n.sqsexec.SQSWorker">
<em class="property">class </em><code class="descclassname">c7n.sqsexec.</code><code class="descname">SQSWorker</code><span class="sig-paren">(</span><em>session_factory</em>, <em>map_queue</em>, <em>reduce_queue</em>, <em>limit=0</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/sqsexec.html#SQSWorker"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.sqsexec.SQSWorker" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="method">
<dt id="c7n.sqsexec.SQSWorker.process_message">
<code class="descname">process_message</code><span class="sig-paren">(</span><em>m</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/sqsexec.html#SQSWorker.process_message"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.sqsexec.SQSWorker.process_message" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="c7n.sqsexec.SQSWorker.run">
<code class="descname">run</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/sqsexec.html#SQSWorker.run"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.sqsexec.SQSWorker.run" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="c7n.sqsexec.SQSWorker.stop">
<code class="descname">stop</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/sqsexec.html#SQSWorker.stop"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.sqsexec.SQSWorker.stop" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="c7n.sqsexec.SQSWorker.stopped">
<code class="descname">stopped</code><em class="property"> = False</em><a class="headerlink" href="#c7n.sqsexec.SQSWorker.stopped" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="function">
<dt id="c7n.sqsexec.named">
<code class="descclassname">c7n.sqsexec.</code><code class="descname">named</code><span class="sig-paren">(</span><em>o</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/sqsexec.html#named"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.sqsexec.named" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="c7n.sqsexec.resolve">
<code class="descclassname">c7n.sqsexec.</code><code class="descname">resolve</code><span class="sig-paren">(</span><em>o</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/sqsexec.html#resolve"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.sqsexec.resolve" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-c7n.tags">
<span id="c7n-tags-module"></span><h2>c7n.tags module<a class="headerlink" href="#module-c7n.tags" title="Permalink to this headline">¶</a></h2>
<p>Generic EC2 Resource Tag / Filters and actions</p>
<p>These work for the whole family of resources associated
to ec2 (subnets, vpc, security-groups, volumes, instances,
snapshots).</p>
<dl class="class">
<dt id="c7n.tags.CopyRelatedResourceTag">
<em class="property">class </em><code class="descclassname">c7n.tags.</code><code class="descname">CopyRelatedResourceTag</code><span class="sig-paren">(</span><em>data=None</em>, <em>manager=None</em>, <em>log_dir=None</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/tags.html#CopyRelatedResourceTag"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.tags.CopyRelatedResourceTag" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#c7n.tags.Tag" title="c7n.tags.Tag"><code class="xref py py-class docutils literal notranslate"><span class="pre">c7n.tags.Tag</span></code></a></p>
<p>Copy a related resource tag to its associated resource</p>
<p>In some scenarios, resource tags from a related resource should be applied
to its child resource. For example, EBS Volume tags propogating to their
snapshots. To use this action, specify the resource type that contains the
tags that are to be copied, which can be found by using the
<cite>custodian schema</cite> command.</p>
<p>Then, specify the key on the resource that references the related resource.
In the case of ebs-snapshot, the VolumeId attribute would be the key that
identifies the related resource, ebs.</p>
<p>Finally, specify a list of tag keys to copy from the related resource onto
the original resource. The special character “*” can be used to signify that
all tags from the related resource should be copied to the original resource.</p>
<p>To raise an error when related resources cannot be found, use the
<cite>skip_missing</cite> option. By default, this is set to True.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Example:</th><td class="field-body"></td>
</tr>
</tbody>
</table>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">policies</span><span class="p p-Indicator">:</span>
    <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">name</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">copy-tags-from-ebs-volume-to-snapshot</span>
      <span class="l l-Scalar l-Scalar-Plain">resource</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">ebs-snapshot</span>
      <span class="l l-Scalar l-Scalar-Plain">actions</span><span class="p p-Indicator">:</span>
        <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">copy-related-tag</span>
          <span class="l l-Scalar l-Scalar-Plain">resource</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">ebs</span>
          <span class="l l-Scalar l-Scalar-Plain">skip_missing</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">True</span>
          <span class="l l-Scalar l-Scalar-Plain">key</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">VolumeId</span>
          <span class="l l-Scalar l-Scalar-Plain">tags</span><span class="p p-Indicator">:</span> <span class="s">&#39;*&#39;</span>
</pre></div>
</div>
<dl class="method">
<dt id="c7n.tags.CopyRelatedResourceTag.get_permissions">
<code class="descname">get_permissions</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/tags.html#CopyRelatedResourceTag.get_permissions"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.tags.CopyRelatedResourceTag.get_permissions" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="c7n.tags.CopyRelatedResourceTag.get_resource_tag_map">
<code class="descname">get_resource_tag_map</code><span class="sig-paren">(</span><em>r_type</em>, <em>ids</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/tags.html#CopyRelatedResourceTag.get_resource_tag_map"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.tags.CopyRelatedResourceTag.get_resource_tag_map" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a mapping of {resource_id: {tagkey: tagvalue}}</p>
</dd></dl>

<dl class="method">
<dt id="c7n.tags.CopyRelatedResourceTag.process">
<code class="descname">process</code><span class="sig-paren">(</span><em>resources</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/tags.html#CopyRelatedResourceTag.process"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.tags.CopyRelatedResourceTag.process" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="c7n.tags.CopyRelatedResourceTag.process_resource">
<code class="descname">process_resource</code><span class="sig-paren">(</span><em>client</em>, <em>r</em>, <em>related_tags</em>, <em>tag_keys</em>, <em>tag_action</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/tags.html#CopyRelatedResourceTag.process_resource"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.tags.CopyRelatedResourceTag.process_resource" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="classmethod">
<dt id="c7n.tags.CopyRelatedResourceTag.register_resources">
<em class="property">classmethod </em><code class="descname">register_resources</code><span class="sig-paren">(</span><em>registry</em>, <em>resource_class</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/tags.html#CopyRelatedResourceTag.register_resources"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.tags.CopyRelatedResourceTag.register_resources" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="c7n.tags.CopyRelatedResourceTag.schema">
<code class="descname">schema</code><em class="property"> = {'additionalProperties': False, 'properties': {'key': {'type': 'string'}, 'resource': {'type': 'string'}, 'skip_missing': {'type': 'boolean'}, 'tags': {'oneOf': [{'enum': ['*']}, {'type': 'array'}]}, 'type': {'enum': ['copy-related-tag']}}, 'required': ['tags', 'key', 'resource', 'type'], 'type': 'object'}</em><a class="headerlink" href="#c7n.tags.CopyRelatedResourceTag.schema" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="c7n.tags.CopyRelatedResourceTag.schema_alias">
<code class="descname">schema_alias</code><em class="property"> = True</em><a class="headerlink" href="#c7n.tags.CopyRelatedResourceTag.schema_alias" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="c7n.tags.CopyRelatedResourceTag.validate">
<code class="descname">validate</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/tags.html#CopyRelatedResourceTag.validate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.tags.CopyRelatedResourceTag.validate" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="c7n.tags.NormalizeTag">
<em class="property">class </em><code class="descclassname">c7n.tags.</code><code class="descname">NormalizeTag</code><span class="sig-paren">(</span><em>data=None</em>, <em>manager=None</em>, <em>log_dir=None</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/tags.html#NormalizeTag"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.tags.NormalizeTag" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="c7n.actions.html#c7n.actions.core.Action" title="c7n.actions.core.Action"><code class="xref py py-class docutils literal notranslate"><span class="pre">c7n.actions.core.Action</span></code></a></p>
<p>Transform the value of a tag.</p>
<p>Set the tag value to uppercase, title, lowercase, or strip text
from a tag key.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">policies</span><span class="p p-Indicator">:</span>
  <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">name</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">ec2-service-transform-lower</span>
    <span class="l l-Scalar l-Scalar-Plain">resource</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">ec2</span>
    <span class="l l-Scalar l-Scalar-Plain">comment</span><span class="p p-Indicator">:</span> <span class="p p-Indicator">|</span>
      <span class="no">ec2-service-tag-value-to-lower</span>
    <span class="l l-Scalar l-Scalar-Plain">query</span><span class="p p-Indicator">:</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">instance-state-name</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">running</span>
    <span class="l l-Scalar l-Scalar-Plain">filters</span><span class="p p-Indicator">:</span>
      <span class="p p-Indicator">-</span> <span class="s">&quot;tag:testing8882&quot;</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">present</span>
    <span class="l l-Scalar l-Scalar-Plain">actions</span><span class="p p-Indicator">:</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">normalize-tag</span>
        <span class="l l-Scalar l-Scalar-Plain">key</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">lower_key</span>
        <span class="l l-Scalar l-Scalar-Plain">action</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">lower</span>

  <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">name</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">ec2-service-strip</span>
    <span class="l l-Scalar l-Scalar-Plain">resource</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">ec2</span>
    <span class="l l-Scalar l-Scalar-Plain">comment</span><span class="p p-Indicator">:</span> <span class="p p-Indicator">|</span>
      <span class="no">ec2-service-tag-strip-blah</span>
    <span class="l l-Scalar l-Scalar-Plain">query</span><span class="p p-Indicator">:</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">instance-state-name</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">running</span>
    <span class="l l-Scalar l-Scalar-Plain">filters</span><span class="p p-Indicator">:</span>
      <span class="p p-Indicator">-</span> <span class="s">&quot;tag:testing8882&quot;</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">present</span>
    <span class="l l-Scalar l-Scalar-Plain">actions</span><span class="p p-Indicator">:</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">normalize-tag</span>
        <span class="l l-Scalar l-Scalar-Plain">key</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">strip_key</span>
        <span class="l l-Scalar l-Scalar-Plain">action</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">strip</span>
        <span class="l l-Scalar l-Scalar-Plain">value</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">blah</span>
</pre></div>
</div>
<dl class="method">
<dt id="c7n.tags.NormalizeTag.create_set">
<code class="descname">create_set</code><span class="sig-paren">(</span><em>instances</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/tags.html#NormalizeTag.create_set"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.tags.NormalizeTag.create_set" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="c7n.tags.NormalizeTag.create_tag">
<code class="descname">create_tag</code><span class="sig-paren">(</span><em>client</em>, <em>ids</em>, <em>key</em>, <em>value</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/tags.html#NormalizeTag.create_tag"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.tags.NormalizeTag.create_tag" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="c7n.tags.NormalizeTag.filter_resources">
<code class="descname">filter_resources</code><span class="sig-paren">(</span><em>resources</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/tags.html#NormalizeTag.filter_resources"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.tags.NormalizeTag.filter_resources" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="c7n.tags.NormalizeTag.permissions">
<code class="descname">permissions</code><em class="property"> = ('ec2:CreateTags',)</em><a class="headerlink" href="#c7n.tags.NormalizeTag.permissions" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="c7n.tags.NormalizeTag.process">
<code class="descname">process</code><span class="sig-paren">(</span><em>resources</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/tags.html#NormalizeTag.process"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.tags.NormalizeTag.process" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="c7n.tags.NormalizeTag.process_transform">
<code class="descname">process_transform</code><span class="sig-paren">(</span><em>tag_value</em>, <em>resource_set</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/tags.html#NormalizeTag.process_transform"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.tags.NormalizeTag.process_transform" title="Permalink to this definition">¶</a></dt>
<dd><p>Transform tag value</p>
<ul class="simple">
<li>Collect value from tag</li>
<li>Transform Tag value</li>
<li>Assign new value for key</li>
</ul>
</dd></dl>

<dl class="attribute">
<dt id="c7n.tags.NormalizeTag.schema">
<code class="descname">schema</code><em class="property"> = {'additionalProperties': False, 'properties': {'action': {'items': {'enum': ['upper', 'lower', 'titlestrip', 'replace']}, 'type': 'string'}, 'key': {'type': 'string'}, 'type': {'enum': ['normalize-tag']}, 'value': {'type': 'string'}}, 'required': ['type'], 'type': 'object'}</em><a class="headerlink" href="#c7n.tags.NormalizeTag.schema" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="c7n.tags.NormalizeTag.schema_alias">
<code class="descname">schema_alias</code><em class="property"> = True</em><a class="headerlink" href="#c7n.tags.NormalizeTag.schema_alias" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="c7n.tags.RemoveTag">
<em class="property">class </em><code class="descclassname">c7n.tags.</code><code class="descname">RemoveTag</code><span class="sig-paren">(</span><em>data=None</em>, <em>manager=None</em>, <em>log_dir=None</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/tags.html#RemoveTag"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.tags.RemoveTag" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="c7n.actions.html#c7n.actions.core.Action" title="c7n.actions.core.Action"><code class="xref py py-class docutils literal notranslate"><span class="pre">c7n.actions.core.Action</span></code></a></p>
<p>Remove tags from ec2 resources.</p>
<dl class="attribute">
<dt id="c7n.tags.RemoveTag.batch_size">
<code class="descname">batch_size</code><em class="property"> = 100</em><a class="headerlink" href="#c7n.tags.RemoveTag.batch_size" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="c7n.tags.RemoveTag.concurrency">
<code class="descname">concurrency</code><em class="property"> = 2</em><a class="headerlink" href="#c7n.tags.RemoveTag.concurrency" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="c7n.tags.RemoveTag.get_client">
<code class="descname">get_client</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/tags.html#RemoveTag.get_client"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.tags.RemoveTag.get_client" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="c7n.tags.RemoveTag.permissions">
<code class="descname">permissions</code><em class="property"> = ('ec2:DeleteTags',)</em><a class="headerlink" href="#c7n.tags.RemoveTag.permissions" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="c7n.tags.RemoveTag.process">
<code class="descname">process</code><span class="sig-paren">(</span><em>resources</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/tags.html#RemoveTag.process"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.tags.RemoveTag.process" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="c7n.tags.RemoveTag.process_resource_set">
<code class="descname">process_resource_set</code><span class="sig-paren">(</span><em>client</em>, <em>resource_set</em>, <em>tag_keys</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/tags.html#RemoveTag.process_resource_set"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.tags.RemoveTag.process_resource_set" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="c7n.tags.RemoveTag.schema">
<code class="descname">schema</code><em class="property"> = {'additionalProperties': False, 'properties': {'tags': {'items': {'type': 'string'}, 'type': 'array'}, 'type': {'enum': ['untag', 'unmark', 'remove-tag']}}, 'required': ['type'], 'type': 'object'}</em><a class="headerlink" href="#c7n.tags.RemoveTag.schema" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="c7n.tags.RemoveTag.schema_alias">
<code class="descname">schema_alias</code><em class="property"> = True</em><a class="headerlink" href="#c7n.tags.RemoveTag.schema_alias" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="c7n.tags.RenameTag">
<em class="property">class </em><code class="descclassname">c7n.tags.</code><code class="descname">RenameTag</code><span class="sig-paren">(</span><em>data=None</em>, <em>manager=None</em>, <em>log_dir=None</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/tags.html#RenameTag"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.tags.RenameTag" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="c7n.actions.html#c7n.actions.core.Action" title="c7n.actions.core.Action"><code class="xref py py-class docutils literal notranslate"><span class="pre">c7n.actions.core.Action</span></code></a></p>
<p>Create a new tag with identical value &amp; remove old tag</p>
<dl class="method">
<dt id="c7n.tags.RenameTag.create_set">
<code class="descname">create_set</code><span class="sig-paren">(</span><em>instances</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/tags.html#RenameTag.create_set"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.tags.RenameTag.create_set" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="c7n.tags.RenameTag.create_tag">
<code class="descname">create_tag</code><span class="sig-paren">(</span><em>client</em>, <em>ids</em>, <em>key</em>, <em>value</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/tags.html#RenameTag.create_tag"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.tags.RenameTag.create_tag" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="c7n.tags.RenameTag.delete_tag">
<code class="descname">delete_tag</code><span class="sig-paren">(</span><em>client</em>, <em>ids</em>, <em>key</em>, <em>value</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/tags.html#RenameTag.delete_tag"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.tags.RenameTag.delete_tag" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="c7n.tags.RenameTag.filter_resources">
<code class="descname">filter_resources</code><span class="sig-paren">(</span><em>resources</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/tags.html#RenameTag.filter_resources"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.tags.RenameTag.filter_resources" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="c7n.tags.RenameTag.get_client">
<code class="descname">get_client</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/tags.html#RenameTag.get_client"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.tags.RenameTag.get_client" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="c7n.tags.RenameTag.permissions">
<code class="descname">permissions</code><em class="property"> = ('ec2:CreateTags', 'ec2:DeleteTags')</em><a class="headerlink" href="#c7n.tags.RenameTag.permissions" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="c7n.tags.RenameTag.process">
<code class="descname">process</code><span class="sig-paren">(</span><em>resources</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/tags.html#RenameTag.process"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.tags.RenameTag.process" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="c7n.tags.RenameTag.process_rename">
<code class="descname">process_rename</code><span class="sig-paren">(</span><em>client</em>, <em>tag_value</em>, <em>resource_set</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/tags.html#RenameTag.process_rename"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.tags.RenameTag.process_rename" title="Permalink to this definition">¶</a></dt>
<dd><p>Move source tag value to destination tag value</p>
<ul class="simple">
<li>Collect value from old tag</li>
<li>Delete old tag</li>
<li>Create new tag &amp; assign stored value</li>
</ul>
</dd></dl>

<dl class="attribute">
<dt id="c7n.tags.RenameTag.schema">
<code class="descname">schema</code><em class="property"> = {'additionalProperties': False, 'properties': {'new_key': {'type': 'string'}, 'old_key': {'type': 'string'}, 'type': {'enum': ['rename-tag']}}, 'required': ['type'], 'type': 'object'}</em><a class="headerlink" href="#c7n.tags.RenameTag.schema" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="c7n.tags.RenameTag.schema_alias">
<code class="descname">schema_alias</code><em class="property"> = True</em><a class="headerlink" href="#c7n.tags.RenameTag.schema_alias" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="c7n.tags.RenameTag.tag_count_max">
<code class="descname">tag_count_max</code><em class="property"> = 50</em><a class="headerlink" href="#c7n.tags.RenameTag.tag_count_max" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="c7n.tags.Tag">
<em class="property">class </em><code class="descclassname">c7n.tags.</code><code class="descname">Tag</code><span class="sig-paren">(</span><em>data=None</em>, <em>manager=None</em>, <em>log_dir=None</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/tags.html#Tag"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.tags.Tag" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="c7n.actions.html#c7n.actions.core.Action" title="c7n.actions.core.Action"><code class="xref py py-class docutils literal notranslate"><span class="pre">c7n.actions.core.Action</span></code></a></p>
<p>Tag an ec2 resource.</p>
<dl class="attribute">
<dt id="c7n.tags.Tag.batch_size">
<code class="descname">batch_size</code><em class="property"> = 25</em><a class="headerlink" href="#c7n.tags.Tag.batch_size" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="c7n.tags.Tag.concurrency">
<code class="descname">concurrency</code><em class="property"> = 2</em><a class="headerlink" href="#c7n.tags.Tag.concurrency" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="c7n.tags.Tag.get_client">
<code class="descname">get_client</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/tags.html#Tag.get_client"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.tags.Tag.get_client" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="c7n.tags.Tag.id_key">
<code class="descname">id_key</code><em class="property"> = None</em><a class="headerlink" href="#c7n.tags.Tag.id_key" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="c7n.tags.Tag.interpolate_values">
<code class="descname">interpolate_values</code><span class="sig-paren">(</span><em>tags</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/tags.html#Tag.interpolate_values"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.tags.Tag.interpolate_values" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="c7n.tags.Tag.permissions">
<code class="descname">permissions</code><em class="property"> = ('ec2:CreateTags',)</em><a class="headerlink" href="#c7n.tags.Tag.permissions" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="c7n.tags.Tag.process">
<code class="descname">process</code><span class="sig-paren">(</span><em>resources</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/tags.html#Tag.process"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.tags.Tag.process" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="c7n.tags.Tag.process_resource_set">
<code class="descname">process_resource_set</code><span class="sig-paren">(</span><em>client</em>, <em>resource_set</em>, <em>tags</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/tags.html#Tag.process_resource_set"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.tags.Tag.process_resource_set" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="c7n.tags.Tag.schema">
<code class="descname">schema</code><em class="property"> = {'additionalProperties': False, 'properties': {'key': {'type': 'string'}, 'tag': {'type': 'string'}, 'tags': {'type': 'object'}, 'type': {'enum': ['tag', 'mark']}, 'value': {'type': 'string'}}, 'required': ['type'], 'type': 'object'}</em><a class="headerlink" href="#c7n.tags.Tag.schema" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="c7n.tags.Tag.schema_alias">
<code class="descname">schema_alias</code><em class="property"> = True</em><a class="headerlink" href="#c7n.tags.Tag.schema_alias" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="c7n.tags.Tag.validate">
<code class="descname">validate</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/tags.html#Tag.validate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.tags.Tag.validate" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="c7n.tags.TagActionFilter">
<em class="property">class </em><code class="descclassname">c7n.tags.</code><code class="descname">TagActionFilter</code><span class="sig-paren">(</span><em>data</em>, <em>manager=None</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/tags.html#TagActionFilter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.tags.TagActionFilter" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="c7n.filters.html#c7n.filters.core.Filter" title="c7n.filters.core.Filter"><code class="xref py py-class docutils literal notranslate"><span class="pre">c7n.filters.core.Filter</span></code></a></p>
<p>Filter resources for tag specified future action</p>
<p>Filters resources by a ‘custodian_status’ tag which specifies a future
date for an action.</p>
<p>The filter parses the tag values looking for an <a class="reference external" href="mailto:'op&#37;&#52;&#48;date">‘op<span>&#64;</span>date</a>’
string. The date is parsed and compared to do today’s date, the
filter succeeds if today’s date is gte to the target date.</p>
<p>The optional ‘skew’ parameter provides for incrementing today’s
date a number of days into the future. An example use case might
be sending a final notice email a few days before terminating an
instance, or snapshotting a volume prior to deletion.</p>
<p>The optional ‘skew_hours’ parameter provides for incrementing the current
time a number of hours into the future.</p>
<p>Optionally, the ‘tz’ parameter can get used to specify the timezone
in which to interpret the clock (default value is ‘utc’)</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">policies</span><span class="p p-Indicator">:</span>
  <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">name</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">ec2-stop-marked</span>
    <span class="l l-Scalar l-Scalar-Plain">resource</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">ec2</span>
    <span class="l l-Scalar l-Scalar-Plain">filters</span><span class="p p-Indicator">:</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">marked-for-op</span>
        <span class="c1"># The default tag used is custodian_status</span>
        <span class="c1"># but that is configurable</span>
        <span class="l l-Scalar l-Scalar-Plain">tag</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">custodian_status</span>
        <span class="l l-Scalar l-Scalar-Plain">op</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">stop</span>
        <span class="c1"># Another optional tag is skew</span>
        <span class="l l-Scalar l-Scalar-Plain">tz</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">utc</span>
    <span class="l l-Scalar l-Scalar-Plain">actions</span><span class="p p-Indicator">:</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">stop</span>
</pre></div>
</div>
<dl class="attribute">
<dt id="c7n.tags.TagActionFilter.current_date">
<code class="descname">current_date</code><em class="property"> = None</em><a class="headerlink" href="#c7n.tags.TagActionFilter.current_date" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="c7n.tags.TagActionFilter.schema">
<code class="descname">schema</code><em class="property"> = {'additionalProperties': False, 'properties': {'op': {'type': 'string'}, 'skew': {'minimum': 0, 'type': 'number'}, 'skew_hours': {'minimum': 0, 'type': 'number'}, 'tag': {'type': 'string'}, 'type': {'enum': ['marked-for-op']}, 'tz': {'type': 'string'}}, 'required': ['type'], 'type': 'object'}</em><a class="headerlink" href="#c7n.tags.TagActionFilter.schema" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="c7n.tags.TagActionFilter.schema_alias">
<code class="descname">schema_alias</code><em class="property"> = True</em><a class="headerlink" href="#c7n.tags.TagActionFilter.schema_alias" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="c7n.tags.TagActionFilter.validate">
<code class="descname">validate</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/tags.html#TagActionFilter.validate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.tags.TagActionFilter.validate" title="Permalink to this definition">¶</a></dt>
<dd><p>validate filter config, return validation error or self</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="c7n.tags.TagCountFilter">
<em class="property">class </em><code class="descclassname">c7n.tags.</code><code class="descname">TagCountFilter</code><span class="sig-paren">(</span><em>data</em>, <em>manager=None</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/tags.html#TagCountFilter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.tags.TagCountFilter" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="c7n.filters.html#c7n.filters.core.Filter" title="c7n.filters.core.Filter"><code class="xref py py-class docutils literal notranslate"><span class="pre">c7n.filters.core.Filter</span></code></a></p>
<p>Simplify tag counting..</p>
<p>ie. these two blocks are equivalent</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">filters</span><span class="p p-Indicator">:</span>
    <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">value</span>
      <span class="l l-Scalar l-Scalar-Plain">op</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">gte</span>
      <span class="l l-Scalar l-Scalar-Plain">count</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">8</span>

<span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">filters</span><span class="p p-Indicator">:</span>
    <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">tag-count</span>
      <span class="l l-Scalar l-Scalar-Plain">count</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">8</span>
</pre></div>
</div>
<dl class="attribute">
<dt id="c7n.tags.TagCountFilter.schema">
<code class="descname">schema</code><em class="property"> = {'additionalProperties': False, 'properties': {'count': {'minimum': 0, 'type': 'integer'}, 'op': {'enum': ['eq', 'equal', 'ne', 'not-equal', 'gt', 'greater-than', 'ge', 'gte', 'le', 'lte', 'lt', 'less-than', 'glob', 'regex', 'regex-case', 'in', 'ni', 'not-in', 'contains', 'difference', 'intersect']}, 'type': {'enum': ['tag-count']}}, 'required': ['type'], 'type': 'object'}</em><a class="headerlink" href="#c7n.tags.TagCountFilter.schema" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="c7n.tags.TagCountFilter.schema_alias">
<code class="descname">schema_alias</code><em class="property"> = True</em><a class="headerlink" href="#c7n.tags.TagCountFilter.schema_alias" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="c7n.tags.TagDelayedAction">
<em class="property">class </em><code class="descclassname">c7n.tags.</code><code class="descname">TagDelayedAction</code><span class="sig-paren">(</span><em>data=None</em>, <em>manager=None</em>, <em>log_dir=None</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/tags.html#TagDelayedAction"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.tags.TagDelayedAction" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="c7n.actions.html#c7n.actions.core.Action" title="c7n.actions.core.Action"><code class="xref py py-class docutils literal notranslate"><span class="pre">c7n.actions.core.Action</span></code></a></p>
<p>Tag resources for future action.</p>
<p>The optional ‘tz’ parameter can be used to adjust the clock to align
with a given timezone. The default value is ‘utc’.</p>
<p>If neither ‘days’ nor ‘hours’ is specified, Cloud Custodian will default
to marking the resource for action 4 days in the future.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">policies</span><span class="p p-Indicator">:</span>
  <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">name</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">ec2-mark-for-stop-in-future</span>
    <span class="l l-Scalar l-Scalar-Plain">resource</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">ec2</span>
    <span class="l l-Scalar l-Scalar-Plain">filters</span><span class="p p-Indicator">:</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">value</span>
        <span class="l l-Scalar l-Scalar-Plain">key</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">Name</span>
        <span class="l l-Scalar l-Scalar-Plain">value</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">instance-to-stop-in-four-days</span>
    <span class="l l-Scalar l-Scalar-Plain">actions</span><span class="p p-Indicator">:</span>
      <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">mark-for-op</span>
        <span class="l l-Scalar l-Scalar-Plain">op</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">stop</span>
</pre></div>
</div>
<dl class="attribute">
<dt id="c7n.tags.TagDelayedAction.batch_size">
<code class="descname">batch_size</code><em class="property"> = 200</em><a class="headerlink" href="#c7n.tags.TagDelayedAction.batch_size" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="c7n.tags.TagDelayedAction.concurrency">
<code class="descname">concurrency</code><em class="property"> = 2</em><a class="headerlink" href="#c7n.tags.TagDelayedAction.concurrency" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="c7n.tags.TagDelayedAction.default_template">
<code class="descname">default_template</code><em class="property"> = 'Resource does not meet policy: {op}&#64;{action_date}'</em><a class="headerlink" href="#c7n.tags.TagDelayedAction.default_template" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="c7n.tags.TagDelayedAction.generate_timestamp">
<code class="descname">generate_timestamp</code><span class="sig-paren">(</span><em>days</em>, <em>hours</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/tags.html#TagDelayedAction.generate_timestamp"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.tags.TagDelayedAction.generate_timestamp" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="c7n.tags.TagDelayedAction.get_client">
<code class="descname">get_client</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/tags.html#TagDelayedAction.get_client"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.tags.TagDelayedAction.get_client" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="c7n.tags.TagDelayedAction.get_permissions">
<code class="descname">get_permissions</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/tags.html#TagDelayedAction.get_permissions"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.tags.TagDelayedAction.get_permissions" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="c7n.tags.TagDelayedAction.process">
<code class="descname">process</code><span class="sig-paren">(</span><em>resources</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/tags.html#TagDelayedAction.process"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.tags.TagDelayedAction.process" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="c7n.tags.TagDelayedAction.process_resource_set">
<code class="descname">process_resource_set</code><span class="sig-paren">(</span><em>client</em>, <em>resource_set</em>, <em>tags</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/tags.html#TagDelayedAction.process_resource_set"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.tags.TagDelayedAction.process_resource_set" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="c7n.tags.TagDelayedAction.schema">
<code class="descname">schema</code><em class="property"> = {'additionalProperties': False, 'properties': {'days': {'exclusiveMinimum': False, 'minimum': 0, 'type': 'integer'}, 'hours': {'exclusiveMinimum': False, 'minimum': 0, 'type': 'integer'}, 'msg': {'type': 'string'}, 'op': {'type': 'string'}, 'tag': {'type': 'string'}, 'type': {'enum': ['mark-for-op']}, 'tz': {'type': 'string'}}, 'required': ['type'], 'type': 'object'}</em><a class="headerlink" href="#c7n.tags.TagDelayedAction.schema" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="c7n.tags.TagDelayedAction.schema_alias">
<code class="descname">schema_alias</code><em class="property"> = True</em><a class="headerlink" href="#c7n.tags.TagDelayedAction.schema_alias" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="c7n.tags.TagDelayedAction.validate">
<code class="descname">validate</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/tags.html#TagDelayedAction.validate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.tags.TagDelayedAction.validate" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="c7n.tags.TagTrim">
<em class="property">class </em><code class="descclassname">c7n.tags.</code><code class="descname">TagTrim</code><span class="sig-paren">(</span><em>data=None</em>, <em>manager=None</em>, <em>log_dir=None</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/tags.html#TagTrim"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.tags.TagTrim" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="c7n.actions.html#c7n.actions.core.Action" title="c7n.actions.core.Action"><code class="xref py py-class docutils literal notranslate"><span class="pre">c7n.actions.core.Action</span></code></a></p>
<p>Automatically remove tags from an ec2 resource.</p>
<p>EC2 Resources have a limit of 50 tags, in order to make
additional tags space on a set of resources, this action can
be used to remove enough tags to make the desired amount of
space while preserving a given set of tags.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">policies</span><span class="p p-Indicator">:</span>
  <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">name</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">ec2-tag-trim</span>
    <span class="l l-Scalar l-Scalar-Plain">comment</span><span class="p p-Indicator">:</span> <span class="p p-Indicator">|</span>
      <span class="no">Any instances with 48 or more tags get tags removed until</span>
      <span class="no">they match the target tag count, in this case 47 so we</span>
      <span class="no">that we free up a tag slot for another usage.</span>
    <span class="l l-Scalar l-Scalar-Plain">resource</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">ec2</span>
    <span class="l l-Scalar l-Scalar-Plain">filters</span><span class="p p-Indicator">:</span>
          <span class="c1"># Filter down to resources which already have 8 tags</span>
          <span class="c1"># as we need space for 3 more, this also ensures that</span>
          <span class="c1"># metrics reporting is correct for the policy.</span>
        <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">value</span>
          <span class="l l-Scalar l-Scalar-Plain">key</span><span class="p p-Indicator">:</span> <span class="s">&quot;length(Tags)&quot;</span>
          <span class="l l-Scalar l-Scalar-Plain">op</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">ge</span>
          <span class="l l-Scalar l-Scalar-Plain">value</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">48</span>
    <span class="l l-Scalar l-Scalar-Plain">actions</span><span class="p p-Indicator">:</span>
       <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">tag-trim</span>
         <span class="l l-Scalar l-Scalar-Plain">space</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">3</span>
         <span class="l l-Scalar l-Scalar-Plain">preserve</span><span class="p p-Indicator">:</span>
           <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">OwnerContact</span>
           <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">ASV</span>
           <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">CMDBEnvironment</span>
           <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">downtime</span>
           <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">custodian_status</span>
</pre></div>
</div>
<dl class="attribute">
<dt id="c7n.tags.TagTrim.max_tag_count">
<code class="descname">max_tag_count</code><em class="property"> = 50</em><a class="headerlink" href="#c7n.tags.TagTrim.max_tag_count" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="c7n.tags.TagTrim.permissions">
<code class="descname">permissions</code><em class="property"> = ('ec2:DeleteTags',)</em><a class="headerlink" href="#c7n.tags.TagTrim.permissions" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="c7n.tags.TagTrim.process">
<code class="descname">process</code><span class="sig-paren">(</span><em>resources</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/tags.html#TagTrim.process"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.tags.TagTrim.process" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="c7n.tags.TagTrim.process_resource">
<code class="descname">process_resource</code><span class="sig-paren">(</span><em>client</em>, <em>i</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/tags.html#TagTrim.process_resource"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.tags.TagTrim.process_resource" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="c7n.tags.TagTrim.process_tag_removal">
<code class="descname">process_tag_removal</code><span class="sig-paren">(</span><em>client</em>, <em>resource</em>, <em>tags</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/tags.html#TagTrim.process_tag_removal"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.tags.TagTrim.process_tag_removal" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="c7n.tags.TagTrim.schema">
<code class="descname">schema</code><em class="property"> = {'additionalProperties': False, 'properties': {'preserve': {'items': {'type': 'string'}, 'type': 'array'}, 'space': {'type': 'integer'}, 'type': {'enum': ['tag-trim']}}, 'required': ['type'], 'type': 'object'}</em><a class="headerlink" href="#c7n.tags.TagTrim.schema" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="c7n.tags.TagTrim.schema_alias">
<code class="descname">schema_alias</code><em class="property"> = True</em><a class="headerlink" href="#c7n.tags.TagTrim.schema_alias" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="c7n.tags.UniversalTag">
<em class="property">class </em><code class="descclassname">c7n.tags.</code><code class="descname">UniversalTag</code><span class="sig-paren">(</span><em>data=None</em>, <em>manager=None</em>, <em>log_dir=None</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/tags.html#UniversalTag"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.tags.UniversalTag" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#c7n.tags.Tag" title="c7n.tags.Tag"><code class="xref py py-class docutils literal notranslate"><span class="pre">c7n.tags.Tag</span></code></a></p>
<p>Applies one or more tags to the specified resources.</p>
<dl class="attribute">
<dt id="c7n.tags.UniversalTag.batch_size">
<code class="descname">batch_size</code><em class="property"> = 20</em><a class="headerlink" href="#c7n.tags.UniversalTag.batch_size" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="c7n.tags.UniversalTag.concurrency">
<code class="descname">concurrency</code><em class="property"> = 1</em><a class="headerlink" href="#c7n.tags.UniversalTag.concurrency" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="c7n.tags.UniversalTag.get_client">
<code class="descname">get_client</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/tags.html#UniversalTag.get_client"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.tags.UniversalTag.get_client" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="c7n.tags.UniversalTag.permissions">
<code class="descname">permissions</code><em class="property"> = ('resourcegroupstaggingapi:TagResources',)</em><a class="headerlink" href="#c7n.tags.UniversalTag.permissions" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="c7n.tags.UniversalTag.process">
<code class="descname">process</code><span class="sig-paren">(</span><em>resources</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/tags.html#UniversalTag.process"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.tags.UniversalTag.process" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="c7n.tags.UniversalTag.process_resource_set">
<code class="descname">process_resource_set</code><span class="sig-paren">(</span><em>client</em>, <em>resource_set</em>, <em>tags</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/tags.html#UniversalTag.process_resource_set"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.tags.UniversalTag.process_resource_set" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="c7n.tags.UniversalTagDelayedAction">
<em class="property">class </em><code class="descclassname">c7n.tags.</code><code class="descname">UniversalTagDelayedAction</code><span class="sig-paren">(</span><em>data=None</em>, <em>manager=None</em>, <em>log_dir=None</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/tags.html#UniversalTagDelayedAction"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.tags.UniversalTagDelayedAction" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#c7n.tags.TagDelayedAction" title="c7n.tags.TagDelayedAction"><code class="xref py py-class docutils literal notranslate"><span class="pre">c7n.tags.TagDelayedAction</span></code></a></p>
<p>Tag resources for future action.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Example:</th><td class="field-body"><div class="first last highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">policies</span><span class="p p-Indicator">:</span>
<span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">name</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">ec2-mark-stop</span>
  <span class="l l-Scalar l-Scalar-Plain">resource</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">ec2</span>
  <span class="l l-Scalar l-Scalar-Plain">filters</span><span class="p p-Indicator">:</span>
    <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">image-age</span>
      <span class="l l-Scalar l-Scalar-Plain">op</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">ge</span>
      <span class="l l-Scalar l-Scalar-Plain">days</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">90</span>
  <span class="l l-Scalar l-Scalar-Plain">actions</span><span class="p p-Indicator">:</span>
    <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">type</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">mark-for-op</span>
      <span class="l l-Scalar l-Scalar-Plain">tag</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">custodian_cleanup</span>
      <span class="l l-Scalar l-Scalar-Plain">op</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">terminate</span>
      <span class="l l-Scalar l-Scalar-Plain">days</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">4</span>
</pre></div>
</div>
</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt id="c7n.tags.UniversalTagDelayedAction.batch_size">
<code class="descname">batch_size</code><em class="property"> = 20</em><a class="headerlink" href="#c7n.tags.UniversalTagDelayedAction.batch_size" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="c7n.tags.UniversalTagDelayedAction.concurrency">
<code class="descname">concurrency</code><em class="property"> = 2</em><a class="headerlink" href="#c7n.tags.UniversalTagDelayedAction.concurrency" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="c7n.tags.UniversalTagDelayedAction.get_client">
<code class="descname">get_client</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/tags.html#UniversalTagDelayedAction.get_client"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.tags.UniversalTagDelayedAction.get_client" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="c7n.tags.UniversalTagDelayedAction.permissions">
<code class="descname">permissions</code><em class="property"> = ('resourcegroupstaggingapi:TagResources',)</em><a class="headerlink" href="#c7n.tags.UniversalTagDelayedAction.permissions" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="c7n.tags.UniversalTagDelayedAction.process">
<code class="descname">process</code><span class="sig-paren">(</span><em>resources</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/tags.html#UniversalTagDelayedAction.process"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.tags.UniversalTagDelayedAction.process" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="c7n.tags.UniversalTagDelayedAction.process_resource_set">
<code class="descname">process_resource_set</code><span class="sig-paren">(</span><em>client</em>, <em>resource_set</em>, <em>tags</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/tags.html#UniversalTagDelayedAction.process_resource_set"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.tags.UniversalTagDelayedAction.process_resource_set" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="c7n.tags.UniversalUntag">
<em class="property">class </em><code class="descclassname">c7n.tags.</code><code class="descname">UniversalUntag</code><span class="sig-paren">(</span><em>data=None</em>, <em>manager=None</em>, <em>log_dir=None</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/tags.html#UniversalUntag"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.tags.UniversalUntag" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#c7n.tags.RemoveTag" title="c7n.tags.RemoveTag"><code class="xref py py-class docutils literal notranslate"><span class="pre">c7n.tags.RemoveTag</span></code></a></p>
<p>Removes the specified tags from the specified resources.</p>
<dl class="attribute">
<dt id="c7n.tags.UniversalUntag.batch_size">
<code class="descname">batch_size</code><em class="property"> = 20</em><a class="headerlink" href="#c7n.tags.UniversalUntag.batch_size" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="c7n.tags.UniversalUntag.concurrency">
<code class="descname">concurrency</code><em class="property"> = 1</em><a class="headerlink" href="#c7n.tags.UniversalUntag.concurrency" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="c7n.tags.UniversalUntag.get_client">
<code class="descname">get_client</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/tags.html#UniversalUntag.get_client"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.tags.UniversalUntag.get_client" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="c7n.tags.UniversalUntag.permissions">
<code class="descname">permissions</code><em class="property"> = ('resourcegroupstaggingapi:UntagResources',)</em><a class="headerlink" href="#c7n.tags.UniversalUntag.permissions" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="c7n.tags.UniversalUntag.process_resource_set">
<code class="descname">process_resource_set</code><span class="sig-paren">(</span><em>client</em>, <em>resource_set</em>, <em>tag_keys</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/tags.html#UniversalUntag.process_resource_set"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.tags.UniversalUntag.process_resource_set" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="function">
<dt id="c7n.tags.coalesce_copy_user_tags">
<code class="descclassname">c7n.tags.</code><code class="descname">coalesce_copy_user_tags</code><span class="sig-paren">(</span><em>resource</em>, <em>copy_tags</em>, <em>user_tags</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/tags.html#coalesce_copy_user_tags"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.tags.coalesce_copy_user_tags" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a list of tags from resource and user supplied in
the format: [{‘Key’: ‘key’, ‘Value’: ‘value’}]</p>
<p>Due to drift on implementation on copy-tags/tags used throughout
the code base, the following options are supported:</p>
<blockquote>
<div><dl class="docutils">
<dt>copy_tags (Tags to copy from the resource):</dt>
<dd><ul class="first last simple">
<li>list of str, e.g. [‘key1’, ‘key2’, ‘*’]</li>
<li>bool</li>
</ul>
</dd>
<dt>user_tags (User supplied tags to apply):</dt>
<dd><ul class="first last simple">
<li>dict of key-value pairs, e.g. {Key: Value, Key2: Value}</li>
<li>list of dict e.g. [{‘Key’: k, ‘Value’: v}]</li>
</ul>
</dd>
</dl>
</div></blockquote>
<p>In the case that there is a conflict in a user supplied tag
and an existing tag on the resource, the user supplied tags will
take priority.</p>
<p>Additionally, a value of ‘*’ in copy_tags can be used to signify
to copy all tags from the resource.</p>
</dd></dl>

<dl class="function">
<dt id="c7n.tags.register_ec2_tags">
<code class="descclassname">c7n.tags.</code><code class="descname">register_ec2_tags</code><span class="sig-paren">(</span><em>filters</em>, <em>actions</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/tags.html#register_ec2_tags"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.tags.register_ec2_tags" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="c7n.tags.register_universal_tags">
<code class="descclassname">c7n.tags.</code><code class="descname">register_universal_tags</code><span class="sig-paren">(</span><em>filters</em>, <em>actions</em>, <em>compatibility=True</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/tags.html#register_universal_tags"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.tags.register_universal_tags" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="c7n.tags.universal_augment">
<code class="descclassname">c7n.tags.</code><code class="descname">universal_augment</code><span class="sig-paren">(</span><em>self</em>, <em>resources</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/tags.html#universal_augment"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.tags.universal_augment" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="c7n.tags.universal_retry">
<code class="descclassname">c7n.tags.</code><code class="descname">universal_retry</code><span class="sig-paren">(</span><em>method</em>, <em>ResourceARNList</em>, <em>**kw</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/tags.html#universal_retry"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.tags.universal_retry" title="Permalink to this definition">¶</a></dt>
<dd><p>Retry support for resourcegroup tagging apis.</p>
<p>The resource group tagging api typically returns a 200 status code
with embedded resource specific errors. To enable resource specific
retry on throttles, we extract those, perform backoff w/ jitter and
continue. Other errors are immediately raised.</p>
<p>We do not aggregate unified resource responses across retries, only the
last successful response is returned for a subset of the resources if
a retry is performed.</p>
</dd></dl>

</div>
<div class="section" id="module-c7n.testing">
<span id="c7n-testing-module"></span><h2>c7n.testing module<a class="headerlink" href="#module-c7n.testing" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="c7n.testing.TestUtils">
<em class="property">class </em><code class="descclassname">c7n.testing.</code><code class="descname">TestUtils</code><span class="sig-paren">(</span><em>methodName='runTest'</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/testing.html#TestUtils"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.testing.TestUtils" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">unittest.case.TestCase</span></code></p>
<dl class="method">
<dt id="c7n.testing.TestUtils.capture_logging">
<code class="descname">capture_logging</code><span class="sig-paren">(</span><em>name=None</em>, <em>level=20</em>, <em>formatter=None</em>, <em>log_file=None</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/testing.html#TestUtils.capture_logging"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.testing.TestUtils.capture_logging" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="c7n.testing.TestUtils.change_cwd">
<code class="descname">change_cwd</code><span class="sig-paren">(</span><em>work_dir=None</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/testing.html#TestUtils.change_cwd"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.testing.TestUtils.change_cwd" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="c7n.testing.TestUtils.change_environment">
<code class="descname">change_environment</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/testing.html#TestUtils.change_environment"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.testing.TestUtils.change_environment" title="Permalink to this definition">¶</a></dt>
<dd><p>Change the environment to the given set of variables.</p>
<p>To clear an environment variable set it to None.
Existing environment restored after test.</p>
</dd></dl>

<dl class="method">
<dt id="c7n.testing.TestUtils.cleanUp">
<code class="descname">cleanUp</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/testing.html#TestUtils.cleanUp"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.testing.TestUtils.cleanUp" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="c7n.testing.TestUtils.custodian_schema">
<code class="descname">custodian_schema</code><em class="property"> = None</em><a class="headerlink" href="#c7n.testing.TestUtils.custodian_schema" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="c7n.testing.TestUtils.get_context">
<code class="descname">get_context</code><span class="sig-paren">(</span><em>config=None</em>, <em>session_factory=None</em>, <em>policy=None</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/testing.html#TestUtils.get_context"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.testing.TestUtils.get_context" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="c7n.testing.TestUtils.get_temp_dir">
<code class="descname">get_temp_dir</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/testing.html#TestUtils.get_temp_dir"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.testing.TestUtils.get_temp_dir" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a temporary directory that will get cleaned up.</p>
</dd></dl>

<dl class="method">
<dt id="c7n.testing.TestUtils.load_policy">
<code class="descname">load_policy</code><span class="sig-paren">(</span><em>data</em>, <em>config=None</em>, <em>session_factory=None</em>, <em>validate=False</em>, <em>output_dir=None</em>, <em>cache=False</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/testing.html#TestUtils.load_policy"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.testing.TestUtils.load_policy" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="c7n.testing.TestUtils.load_policy_set">
<code class="descname">load_policy_set</code><span class="sig-paren">(</span><em>data</em>, <em>config=None</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/testing.html#TestUtils.load_policy_set"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.testing.TestUtils.load_policy_set" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="c7n.testing.TestUtils.patch">
<code class="descname">patch</code><span class="sig-paren">(</span><em>obj</em>, <em>attr</em>, <em>new</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/testing.html#TestUtils.patch"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.testing.TestUtils.patch" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="c7n.testing.TestUtils.tearDown">
<code class="descname">tearDown</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/testing.html#TestUtils.tearDown"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.testing.TestUtils.tearDown" title="Permalink to this definition">¶</a></dt>
<dd><p>Hook method for deconstructing the test fixture after testing it.</p>
</dd></dl>

<dl class="method">
<dt id="c7n.testing.TestUtils.write_policy_file">
<code class="descname">write_policy_file</code><span class="sig-paren">(</span><em>policy</em>, <em>format='yaml'</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/testing.html#TestUtils.write_policy_file"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.testing.TestUtils.write_policy_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Write a policy file to disk in the specified format.</p>
<p>Input a dictionary and a format. Valid formats are <cite>yaml</cite> and <cite>json</cite>
Returns the file path.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="c7n.testing.TextTestIO">
<em class="property">class </em><code class="descclassname">c7n.testing.</code><code class="descname">TextTestIO</code><a class="reference internal" href="../../_modules/c7n/testing.html#TextTestIO"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.testing.TextTestIO" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">_io.StringIO</span></code></p>
<dl class="method">
<dt id="c7n.testing.TextTestIO.write">
<code class="descname">write</code><span class="sig-paren">(</span><em>b</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/testing.html#TextTestIO.write"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.testing.TextTestIO.write" title="Permalink to this definition">¶</a></dt>
<dd><p>Write string to file.</p>
<p>Returns the number of characters written, which is always equal to
the length of the string.</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="c7n.testing.mock_datetime_now">
<code class="descclassname">c7n.testing.</code><code class="descname">mock_datetime_now</code><span class="sig-paren">(</span><em>tgt</em>, <em>dt</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/testing.html#mock_datetime_now"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.testing.mock_datetime_now" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-c7n.utils">
<span id="c7n-utils-module"></span><h2>c7n.utils module<a class="headerlink" href="#module-c7n.utils" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="c7n.utils.DateTimeEncoder">
<em class="property">class </em><code class="descclassname">c7n.utils.</code><code class="descname">DateTimeEncoder</code><span class="sig-paren">(</span><em>*</em>, <em>skipkeys=False</em>, <em>ensure_ascii=True</em>, <em>check_circular=True</em>, <em>allow_nan=True</em>, <em>sort_keys=False</em>, <em>indent=None</em>, <em>separators=None</em>, <em>default=None</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/utils.html#DateTimeEncoder"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.utils.DateTimeEncoder" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">json.encoder.JSONEncoder</span></code></p>
<dl class="method">
<dt id="c7n.utils.DateTimeEncoder.default">
<code class="descname">default</code><span class="sig-paren">(</span><em>obj</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/utils.html#DateTimeEncoder.default"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.utils.DateTimeEncoder.default" title="Permalink to this definition">¶</a></dt>
<dd><p>Implement this method in a subclass such that it returns
a serializable object for <code class="docutils literal notranslate"><span class="pre">o</span></code>, or calls the base implementation
(to raise a <code class="docutils literal notranslate"><span class="pre">TypeError</span></code>).</p>
<p>For example, to support arbitrary iterators, you could
implement default like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">default</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">o</span><span class="p">):</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">iterable</span> <span class="o">=</span> <span class="nb">iter</span><span class="p">(</span><span class="n">o</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">TypeError</span><span class="p">:</span>
        <span class="k">pass</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="nb">list</span><span class="p">(</span><span class="n">iterable</span><span class="p">)</span>
    <span class="c1"># Let the base class default method raise the TypeError</span>
    <span class="k">return</span> <span class="n">JSONEncoder</span><span class="o">.</span><span class="n">default</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">o</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="c7n.utils.FormatDate">
<em class="property">class </em><code class="descclassname">c7n.utils.</code><code class="descname">FormatDate</code><span class="sig-paren">(</span><em>d=None</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/utils.html#FormatDate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.utils.FormatDate" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>a datetime wrapper with extended pyformat syntax</p>
<dl class="attribute">
<dt id="c7n.utils.FormatDate.date_increment">
<code class="descname">date_increment</code><em class="property"> = re.compile('\\+[0-9]+[Mdh]')</em><a class="headerlink" href="#c7n.utils.FormatDate.date_increment" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="classmethod">
<dt id="c7n.utils.FormatDate.utcnow">
<em class="property">classmethod </em><code class="descname">utcnow</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/utils.html#FormatDate.utcnow"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.utils.FormatDate.utcnow" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="c7n.utils.IPv4Network">
<em class="property">class </em><code class="descclassname">c7n.utils.</code><code class="descname">IPv4Network</code><span class="sig-paren">(</span><em>address</em>, <em>strict=True</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/utils.html#IPv4Network"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.utils.IPv4Network" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">c7n.ipaddress.IPv4Network</span></code></p>
</dd></dl>

<dl class="class">
<dt id="c7n.utils.QueryParser">
<em class="property">class </em><code class="descclassname">c7n.utils.</code><code class="descname">QueryParser</code><a class="reference internal" href="../../_modules/c7n/utils.html#QueryParser"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.utils.QueryParser" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="attribute">
<dt id="c7n.utils.QueryParser.QuerySchema">
<code class="descname">QuerySchema</code><em class="property"> = {}</em><a class="headerlink" href="#c7n.utils.QueryParser.QuerySchema" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="c7n.utils.QueryParser.multi_value">
<code class="descname">multi_value</code><em class="property"> = True</em><a class="headerlink" href="#c7n.utils.QueryParser.multi_value" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="classmethod">
<dt id="c7n.utils.QueryParser.parse">
<em class="property">classmethod </em><code class="descname">parse</code><span class="sig-paren">(</span><em>data</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/utils.html#QueryParser.parse"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.utils.QueryParser.parse" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="c7n.utils.QueryParser.type_name">
<code class="descname">type_name</code><em class="property"> = ''</em><a class="headerlink" href="#c7n.utils.QueryParser.type_name" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="c7n.utils.QueryParser.value_key">
<code class="descname">value_key</code><em class="property"> = 'Values'</em><a class="headerlink" href="#c7n.utils.QueryParser.value_key" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="c7n.utils.UnicodeWriter">
<em class="property">class </em><code class="descclassname">c7n.utils.</code><code class="descname">UnicodeWriter</code><span class="sig-paren">(</span><em>f</em>, <em>dialect=&lt;class 'csv.excel'&gt;</em>, <em>**kwds</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/utils.html#UnicodeWriter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.utils.UnicodeWriter" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>utf8 encoding csv writer.</p>
<dl class="method">
<dt id="c7n.utils.UnicodeWriter.writerow">
<code class="descname">writerow</code><span class="sig-paren">(</span><em>row</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/utils.html#UnicodeWriter.writerow"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.utils.UnicodeWriter.writerow" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="c7n.utils.UnicodeWriter.writerows">
<code class="descname">writerows</code><span class="sig-paren">(</span><em>rows</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/utils.html#UnicodeWriter.writerows"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.utils.UnicodeWriter.writerows" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="exception">
<dt id="c7n.utils.VarsSubstitutionError">
<em class="property">exception </em><code class="descclassname">c7n.utils.</code><code class="descname">VarsSubstitutionError</code><a class="reference internal" href="../../_modules/c7n/utils.html#VarsSubstitutionError"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.utils.VarsSubstitutionError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
</dd></dl>

<dl class="function">
<dt id="c7n.utils.annotation">
<code class="descclassname">c7n.utils.</code><code class="descname">annotation</code><span class="sig-paren">(</span><em>i</em>, <em>k</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/utils.html#annotation"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.utils.annotation" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="c7n.utils.backoff_delays">
<code class="descclassname">c7n.utils.</code><code class="descname">backoff_delays</code><span class="sig-paren">(</span><em>start</em>, <em>stop</em>, <em>factor=2.0</em>, <em>jitter=False</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/utils.html#backoff_delays"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.utils.backoff_delays" title="Permalink to this definition">¶</a></dt>
<dd><p>Geometric backoff sequence w/ jitter</p>
</dd></dl>

<dl class="function">
<dt id="c7n.utils.camelResource">
<code class="descclassname">c7n.utils.</code><code class="descname">camelResource</code><span class="sig-paren">(</span><em>obj</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/utils.html#camelResource"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.utils.camelResource" title="Permalink to this definition">¶</a></dt>
<dd><p>Some sources from apis return lowerCased where as describe calls</p>
<p>always return TitleCase, this function turns the former to the later</p>
</dd></dl>

<dl class="function">
<dt id="c7n.utils.chunks">
<code class="descclassname">c7n.utils.</code><code class="descname">chunks</code><span class="sig-paren">(</span><em>iterable</em>, <em>size=50</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/utils.html#chunks"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.utils.chunks" title="Permalink to this definition">¶</a></dt>
<dd><p>Break an iterable into lists of size</p>
</dd></dl>

<dl class="function">
<dt id="c7n.utils.dumps">
<code class="descclassname">c7n.utils.</code><code class="descname">dumps</code><span class="sig-paren">(</span><em>data</em>, <em>fh=None</em>, <em>indent=0</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/utils.html#dumps"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.utils.dumps" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="c7n.utils.filter_empty">
<code class="descclassname">c7n.utils.</code><code class="descname">filter_empty</code><span class="sig-paren">(</span><em>d</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/utils.html#filter_empty"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.utils.filter_empty" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="c7n.utils.format_event">
<code class="descclassname">c7n.utils.</code><code class="descname">format_event</code><span class="sig-paren">(</span><em>evt</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/utils.html#format_event"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.utils.format_event" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="c7n.utils.format_string_values">
<code class="descclassname">c7n.utils.</code><code class="descname">format_string_values</code><span class="sig-paren">(</span><em>obj</em>, <em>err_fallback=(&lt;class 'IndexError'&gt;</em>, <em>&lt;class 'KeyError'&gt;)</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/utils.html#format_string_values"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.utils.format_string_values" title="Permalink to this definition">¶</a></dt>
<dd><p>Format all string values in an object.
Return the updated object</p>
</dd></dl>

<dl class="function">
<dt id="c7n.utils.generate_arn">
<code class="descclassname">c7n.utils.</code><code class="descname">generate_arn</code><span class="sig-paren">(</span><em>service</em>, <em>resource</em>, <em>partition='aws'</em>, <em>region=None</em>, <em>account_id=None</em>, <em>resource_type=None</em>, <em>separator='/'</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/utils.html#generate_arn"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.utils.generate_arn" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate an Amazon Resource Name.
See <a class="reference external" href="http://docs.aws.amazon.com/general/latest/gr/aws-arns-and-namespaces.html">http://docs.aws.amazon.com/general/latest/gr/aws-arns-and-namespaces.html</a>.</p>
</dd></dl>

<dl class="function">
<dt id="c7n.utils.get_account_alias_from_sts">
<code class="descclassname">c7n.utils.</code><code class="descname">get_account_alias_from_sts</code><span class="sig-paren">(</span><em>session</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/utils.html#get_account_alias_from_sts"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.utils.get_account_alias_from_sts" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="c7n.utils.get_account_id_from_sts">
<code class="descclassname">c7n.utils.</code><code class="descname">get_account_id_from_sts</code><span class="sig-paren">(</span><em>session</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/utils.html#get_account_id_from_sts"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.utils.get_account_id_from_sts" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="c7n.utils.get_retry">
<code class="descclassname">c7n.utils.</code><code class="descname">get_retry</code><span class="sig-paren">(</span><em>codes=()</em>, <em>max_attempts=8</em>, <em>min_delay=1</em>, <em>log_retries=False</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/utils.html#get_retry"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.utils.get_retry" title="Permalink to this definition">¶</a></dt>
<dd><p>Decorator for retry boto3 api call on transient errors.</p>
<p><a class="reference external" href="https://www.awsarchitectureblog.com/2015/03/backoff.html">https://www.awsarchitectureblog.com/2015/03/backoff.html</a>
<a class="reference external" href="https://en.wikipedia.org/wiki/Exponential_backoff">https://en.wikipedia.org/wiki/Exponential_backoff</a></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>codes</strong> – A sequence of retryable error codes.</li>
<li><strong>max_attempts</strong> – The max number of retries, by default the delay
time is proportional to the max number of attempts.</li>
<li><strong>log_retries</strong> – Whether we should log retries, if specified
specifies the level at which the retry should be logged.</li>
<li><strong>_max_delay</strong> – The maximum delay for any retry interval <em>note</em>
this parameter is only exposed for unit testing, as its
derived from the number of attempts.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Returns a function for invoking aws client calls that
retries on retryable error codes.</p>
</dd></dl>

<dl class="function">
<dt id="c7n.utils.group_by">
<code class="descclassname">c7n.utils.</code><code class="descname">group_by</code><span class="sig-paren">(</span><em>resources</em>, <em>key</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/utils.html#group_by"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.utils.group_by" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a mapping of key value to resources with the corresponding value.</p>
<p>Key may be specified as dotted form for nested dictionary lookup</p>
</dd></dl>

<dl class="function">
<dt id="c7n.utils.load_file">
<code class="descclassname">c7n.utils.</code><code class="descname">load_file</code><span class="sig-paren">(</span><em>path</em>, <em>format=None</em>, <em>vars=None</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/utils.html#load_file"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.utils.load_file" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="c7n.utils.loads">
<code class="descclassname">c7n.utils.</code><code class="descname">loads</code><span class="sig-paren">(</span><em>body</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/utils.html#loads"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.utils.loads" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="c7n.utils.local_session">
<code class="descclassname">c7n.utils.</code><code class="descname">local_session</code><span class="sig-paren">(</span><em>factory</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/utils.html#local_session"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.utils.local_session" title="Permalink to this definition">¶</a></dt>
<dd><p>Cache a session thread local for up to 45m</p>
</dd></dl>

<dl class="function">
<dt id="c7n.utils.parse_cidr">
<code class="descclassname">c7n.utils.</code><code class="descname">parse_cidr</code><span class="sig-paren">(</span><em>value</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/utils.html#parse_cidr"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.utils.parse_cidr" title="Permalink to this definition">¶</a></dt>
<dd><p>Process cidr ranges.</p>
</dd></dl>

<dl class="function">
<dt id="c7n.utils.parse_s3">
<code class="descclassname">c7n.utils.</code><code class="descname">parse_s3</code><span class="sig-paren">(</span><em>s3_path</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/utils.html#parse_s3"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.utils.parse_s3" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="c7n.utils.parse_url_config">
<code class="descclassname">c7n.utils.</code><code class="descname">parse_url_config</code><span class="sig-paren">(</span><em>url</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/utils.html#parse_url_config"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.utils.parse_url_config" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="c7n.utils.query_instances">
<code class="descclassname">c7n.utils.</code><code class="descname">query_instances</code><span class="sig-paren">(</span><em>session</em>, <em>client=None</em>, <em>**query</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/utils.html#query_instances"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.utils.query_instances" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of ec2 instances for the query.</p>
</dd></dl>

<dl class="function">
<dt id="c7n.utils.reformat_schema">
<code class="descclassname">c7n.utils.</code><code class="descname">reformat_schema</code><span class="sig-paren">(</span><em>model</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/utils.html#reformat_schema"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.utils.reformat_schema" title="Permalink to this definition">¶</a></dt>
<dd><p>Reformat schema to be in a more displayable format.</p>
</dd></dl>

<dl class="function">
<dt id="c7n.utils.reset_session_cache">
<code class="descclassname">c7n.utils.</code><code class="descname">reset_session_cache</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/utils.html#reset_session_cache"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.utils.reset_session_cache" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="c7n.utils.set_annotation">
<code class="descclassname">c7n.utils.</code><code class="descname">set_annotation</code><span class="sig-paren">(</span><em>i</em>, <em>k</em>, <em>v</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/utils.html#set_annotation"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.utils.set_annotation" title="Permalink to this definition">¶</a></dt>
<dd><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">x</span> <span class="o">=</span> <span class="p">{}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">set_annotation</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="s1">&#39;marker&#39;</span><span class="p">,</span> <span class="s1">&#39;a&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">annotation</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="s1">&#39;marker&#39;</span><span class="p">)</span>
<span class="go">[&#39;a&#39;]</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="c7n.utils.set_value_from_jmespath">
<code class="descclassname">c7n.utils.</code><code class="descname">set_value_from_jmespath</code><span class="sig-paren">(</span><em>source</em>, <em>expression</em>, <em>value</em>, <em>is_first=True</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/utils.html#set_value_from_jmespath"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.utils.set_value_from_jmespath" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="c7n.utils.snapshot_identifier">
<code class="descclassname">c7n.utils.</code><code class="descname">snapshot_identifier</code><span class="sig-paren">(</span><em>prefix</em>, <em>db_identifier</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/utils.html#snapshot_identifier"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.utils.snapshot_identifier" title="Permalink to this definition">¶</a></dt>
<dd><p>Return an identifier for a snapshot of a database or cluster.</p>
</dd></dl>

<dl class="function">
<dt id="c7n.utils.type_schema">
<code class="descclassname">c7n.utils.</code><code class="descname">type_schema</code><span class="sig-paren">(</span><em>type_name</em>, <em>inherits=None</em>, <em>rinherit=None</em>, <em>aliases=None</em>, <em>required=None</em>, <em>**props</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/utils.html#type_schema"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.utils.type_schema" title="Permalink to this definition">¶</a></dt>
<dd><p>jsonschema generation helper</p>
<dl class="docutils">
<dt>params:</dt>
<dd><ul class="first last simple">
<li>type_name: name of the type</li>
<li>inherits: list of document fragments that are required via anyOf[$ref]</li>
<li><dl class="first docutils">
<dt>rinherit: use another schema as a base for this, basically work around</dt>
<dd>inherits issues with additionalProperties and type enums.</dd>
</dl>
</li>
<li>aliases: additional names this type maybe called</li>
<li>required: list of required properties, by default ‘type’ is required</li>
<li>props: additional key value properties</li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="c7n.utils.worker">
<code class="descclassname">c7n.utils.</code><code class="descname">worker</code><span class="sig-paren">(</span><em>f</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/utils.html#worker"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.utils.worker" title="Permalink to this definition">¶</a></dt>
<dd><p>Generic wrapper to log uncaught exceptions in a function.</p>
<p>When we cross concurrent.futures executor boundaries we lose our
traceback information, and when doing bulk operations we may tolerate
transient failures on a partial subset. However we still want to have
full accounting of the error in the logs, in a format that our error
collection (cwl subscription) can still pickup.</p>
</dd></dl>

<dl class="function">
<dt id="c7n.utils.yaml_load">
<code class="descclassname">c7n.utils.</code><code class="descname">yaml_load</code><span class="sig-paren">(</span><em>value</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/c7n/utils.html#yaml_load"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#c7n.utils.yaml_load" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-c7n.version">
<span id="c7n-version-module"></span><h2>c7n.version module<a class="headerlink" href="#module-c7n.version" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-c7n">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-c7n" title="Permalink to this headline">¶</a></h2>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="c7n.actions.html" class="btn btn-neutral float-right" title="c7n.actions package" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="modules.html" class="btn btn-neutral float-left" title="AWS" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2017, Capital One Services, LLC

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>